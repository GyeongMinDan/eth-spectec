Running typing test on 258 files


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/accept_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/accept_e.p4
interp error: tracing backtrack logs:
- because invocation of relation Prog_ok failed ()
  - because application of rule Prog_ok/ failed ()
    - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
      2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
          2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
          3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
          4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
          5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
          6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
          7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
          8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
          12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
          13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
          14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
          17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
          20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
          21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
          23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
          24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
            - because condition $in_set<statelabel>("start", `SET%`_set<statelabel>(statelabel*{statelabel <- statelabel*})) was not met (../../../../spec/4g-typing-decl.watsup:684.9-684.54)
          26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
          27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
          29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/action-bind.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/action-bind.p4
interp error: tracing backtrack logs:
1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
        1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `DefaultP%` ()
        2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `DefaultP%` ()
        3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `DefaultP%` ()
        4. because application of rule Table_prop_ok/defaultp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
          - because invocation of relation Table_default_ok failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
            - because application of rule Table_default_ok/ failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
              - because invocation of relation Call_default_action_ok failed (../../../../spec/4g-typing-decl.watsup:1158.6-1158.28)
                - because application of rule Call_default_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:1158.6-1158.28)
                  - because condition (argIL_a = argIL_d) was not met (../../../../spec/4g-typing-decl.watsup:993.9-993.28)
        5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `DefaultP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/action-bind1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/action-bind1.p4
interp error: tracing backtrack logs:
1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
        1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `DefaultP%` ()
        2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `DefaultP%` ()
        3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `DefaultP%` ()
        4. because application of rule Table_prop_ok/defaultp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
          - because invocation of relation Table_default_ok failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
            - because application of rule Table_default_ok/ failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
              - because invocation of relation Call_default_action_ok failed (../../../../spec/4g-typing-decl.watsup:1158.6-1158.28)
                - because application of rule Call_default_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:1158.6-1158.28)
                  - because condition (|pt*{pt <- pt*}| = |argIL*{argIL <- argIL*}|) was not met (../../../../spec/4g-typing-decl.watsup:990.9-990.25)
        5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `DefaultP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/action-bind2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/action-bind2.p4
interp error: tracing backtrack logs:
1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
    1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `ActionP%` ()
    2. because application of rule Table_prop_ok/actionp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
      - because invocation of relation Table_actions_ok failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
        1. because application of rule Table_actions_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
          - because condition (tblaction* = []) was not met (../../../../spec/4g-typing-decl.watsup:826.17-826.20)
        2. because application of rule Table_actions_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
          - because invocation of relation Table_action_ok failed (../../../../spec/4g-typing-decl.watsup:830.6-830.21)
            - because application of rule Table_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:830.6-830.21)
              - because invocation of relation Call_action_partial_ok failed (../../../../spec/4g-typing-decl.watsup:817.6-817.28)
                - because application of rule Call_action_partial_ok/ failed (../../../../spec/4g-typing-decl.watsup:817.6-817.28)
                  - because condition (|paramIL_d*{paramIL_d <- paramIL_d*}| = |argIL*{argIL <- argIL*}|) was not met (../../../../spec/4g-typing-decl.watsup:803.9-803.32)
    3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `ActionP%` ()
    4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `ActionP%` ()
    5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `ActionP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/action-bind3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/action-bind3.p4
interp error: tracing backtrack logs:
1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
    1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `ActionP%` ()
    2. because application of rule Table_prop_ok/actionp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
      - because invocation of relation Table_actions_ok failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
        1. because application of rule Table_actions_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
          - because condition (tblaction* = []) was not met (../../../../spec/4g-typing-decl.watsup:826.17-826.20)
        2. because application of rule Table_actions_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
          - because invocation of relation Table_action_ok failed (../../../../spec/4g-typing-decl.watsup:830.6-830.21)
            - because application of rule Table_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:830.6-830.21)
              - because invocation of relation Call_action_partial_ok failed (../../../../spec/4g-typing-decl.watsup:817.6-817.28)
                - because application of rule Call_action_partial_ok/ failed (../../../../spec/4g-typing-decl.watsup:817.6-817.28)
                  - because condition (|paramIL_d*{paramIL_d <- paramIL_d*}| = |argIL*{argIL <- argIL*}|) was not met (../../../../spec/4g-typing-decl.watsup:803.9-803.32)
    3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `ActionP%` ()
    4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `ActionP%` ()
    5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `ActionP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/action-named-default-bmv2.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/assign.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/assign.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
        1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (ctk = `DYN`_ctk()) was not met ()
                3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
                4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
                5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
                9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
                10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
        2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/binary_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/binary_e.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ArrAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ArrAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ArrAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ArrAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ArrAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ArrAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ArrAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ArrAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ArrAccE%%` ()
                33. because application of rule Expr_ok/arracce-tuplet failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because cannot downcast `FIntT%` to datatyp ()
                34. because application of rule Expr_ok/arracce-stackt-lctk failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because cannot downcast `FIntT%` to datatyp ()
                35. because application of rule Expr_ok/arracce-stackt-ctk-dyn failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (ctk_i =/= `LCTK`_ctk()) was not met (../../../../spec/4e-typing-expr.watsup:632.9-632.23)
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ArrAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ArrAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ArrAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ArrAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/bitExtract_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/bitExtract_e.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senum_unary(exprIL_b, $compatible_bitstringbase) failed (../../../../spec/4e-typing-expr.watsup:681.22-681.41)
  1. because application of clause reduce_senum_unary(exprIL, $check_unary) failed (../../../../spec/4e-typing-expr.watsup:681.22-681.41)
    - because condition $check_unary(typ) was not met (../../../../spec/4d2-typing-subtyping.watsup:303.9-303.26)
  2. because application of clause reduce_senum_unary(exprIL, $check_unary) failed (../../../../spec/4e-typing-expr.watsup:681.22-681.41)
    - because cannot downcast `SpecT%%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/call-table.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/call-table.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `TableApplyMethodT%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `TableApplyMethodT%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `TableApplyMethodT%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `TableApplyMethodT%` ()
            13. because application of rule Call_ok/table-apply-methodt failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:651.6-651.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `TableApplyMethodT%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `TableApplyMethodT%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `TableApplyMethodT%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `TableApplyMethodT%` ()
                19. because application of rule Call_site_ok/local-tableapplymethod failed (../../../../spec/4h-typing-call.watsup:651.6-651.18)
                  - because condition ((C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind()) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:429.9-430.43)
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/call1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/call1_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/conditional_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/conditional_e.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `IfS%%%` ()
                3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
                4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
                5. because application of rule Stmt_ok/ifs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (typ = ((typ) `BoolT`_primtyp())) was not met ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `IfS%%%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
                9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `IfS%%%` ()
                10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `IfS%%%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `IfS%%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/const.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/const.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_c) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `FBitT%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/const1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/const1_e.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_binary(exprIL_l, exprIL_r) failed (../../../../spec/4e-typing-expr.watsup:171.35-171.49)
  1. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:171.35-171.49)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `FBitT%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:171.35-171.49)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:350.6-350.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:350.6-350.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()
  3. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:171.35-171.49)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:356.6-356.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:356.6-356.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/const_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/const_e.p4
interp error: tracing backtrack logs:
- because invocation of relation Prog_ok failed ()
  - because application of rule Prog_ok/ failed ()
    - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
      2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
            - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
          2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
            - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
              1. because application of rule Decl_ok/constd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                - because condition (ctk = `LCTK`_ctk()) was not met ()
              2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ConstD%%%` ()
              3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ConstD%%%` ()
              4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ConstD%%%` ()
              5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ConstD%%%` ()
              6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ConstD%%%` ()
              7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ConstD%%%` ()
              8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
              9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
              10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
              11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ConstD%%%` ()
              12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ConstD%%%` ()
              13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ConstD%%%` ()
              14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
              15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
              16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ConstD%%%` ()
              17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
              18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
              19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ConstD%%%` ()
              20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ConstD%%%` ()
              21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
              22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ConstD%%%` ()
              23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ConstD%%%` ()
              24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
              25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ConstD%%%` ()
              26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ConstD%%%` ()
              27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
              28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ConstD%%%` ()
              29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ConstD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/constructor1_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/constructor2_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/constructor3_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/constructor3_e.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
    1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `BoolT` to abstyp ()
                3. because cannot downcast `BoolT` to abstyp ()
                4. because cannot downcast `BoolT` to abstyp ()
                5. because cannot downcast `BoolT` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `BoolT` to datatyp ()
                8. because cannot downcast `BoolT` to datatyp ()
                9. because cannot downcast `BoolT` to datatyp ()
                10. because cannot downcast `BoolT` to datatyp ()
                11. because cannot downcast `BoolT` to datatyp ()
                12. because cannot downcast `BoolT` to datatyp ()
                13. because cannot downcast `BoolT` to datatyp ()
                14. because cannot downcast `BoolT` to datatyp ()
                15. because cannot downcast `BoolT` to datatyp ()
                16. because cannot downcast `BoolT` to objtyp ()
                17. because cannot downcast `BoolT` to objtyp ()
                18. because cannot downcast `BoolT` to objtyp ()
                19. because cannot downcast `BoolT` to objtyp ()
                20. because cannot downcast `BoolT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `BoolT` to synthtyp ()
                23. because cannot downcast `BoolT` to synthtyp ()
                24. because cannot downcast `BoolT` to synthtyp ()
                25. because cannot downcast `BoolT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `BoolT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `BoolT` to synthtyp ()
                30. because cannot downcast `BoolT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
    4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `BoolT` to abstyp ()
                3. because cannot downcast `BoolT` to abstyp ()
                4. because cannot downcast `BoolT` to abstyp ()
                5. because cannot downcast `BoolT` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `BoolT` to datatyp ()
                8. because cannot downcast `BoolT` to datatyp ()
                9. because cannot downcast `BoolT` to datatyp ()
                10. because cannot downcast `BoolT` to datatyp ()
                11. because cannot downcast `BoolT` to datatyp ()
                12. because cannot downcast `BoolT` to datatyp ()
                13. because cannot downcast `BoolT` to datatyp ()
                14. because cannot downcast `BoolT` to datatyp ()
                15. because cannot downcast `BoolT` to datatyp ()
                16. because cannot downcast `BoolT` to objtyp ()
                17. because cannot downcast `BoolT` to objtyp ()
                18. because cannot downcast `BoolT` to objtyp ()
                19. because cannot downcast `BoolT` to objtyp ()
                20. because cannot downcast `BoolT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `BoolT` to synthtyp ()
                23. because cannot downcast `BoolT` to synthtyp ()
                24. because cannot downcast `BoolT` to synthtyp ()
                25. because cannot downcast `BoolT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `BoolT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `BoolT` to synthtyp ()
                30. because cannot downcast `BoolT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/constructor_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/constructor_e.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ExternObjectD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ExternObjectD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ExternObjectD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ExternObjectD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ExternObjectD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ExternObjectD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
        22. because application of rule Decl_ok/externobjectd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Methods_ok failed (../../../../spec/4g-typing-decl.watsup:601.6-601.16)
            1. because application of rule Methods_ok/nil failed (../../../../spec/4g-typing-decl.watsup:601.6-601.16)
              - because condition (method* = []) was not met (../../../../spec/4g-typing-decl.watsup:585.13-585.16)
            2. because application of rule Methods_ok/cons failed (../../../../spec/4g-typing-decl.watsup:601.6-601.16)
              - because invocation of relation Method_ok failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
                1. because mismatch in case expression: `ExternConsM%%`_method(id, cparam*{cparam <- cparam*}) expected but got `ExternM%%%%` ()
                2. because mismatch in case expression: `ExternAbstractM%%%%`_method(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternM%%%%` ()
                3. because application of rule Method_ok/externm failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
                  - because condition (id_e =/= id) was not met (../../../../spec/4g-typing-decl.watsup:558.9-558.20)
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ExternObjectD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ExternObjectD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ExternObjectD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ExternObjectD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/control-inline.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/control-verify.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/control-verify.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
        1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
                3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
                4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
                5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
                9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
                10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition ((name = `CURRENT%`_name("verify")) => (((p = `BLOCK`_cursor()) /\ (C.BLOCK.KIND = `PARSER`_bkind())) \/ ((p = `LOCAL`_cursor()) /\ (C.LOCAL.KIND = `PARSERSTATE`_lkind())))) was not met (../../../../spec/4f-typing-stmt.watsup:210.9-211.95)
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
        2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/default-initializer-err.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/default-last-switch.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/default-last-switch.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `SwitchS%%` ()
    3. because application of rule Stmt_ok/switchs-tbl failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Switch_tbl_cases_ok failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
        1. because application of rule Switch_tbl_cases_ok/empty failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
          - because condition (switchcase* = []) was not met (../../../../spec/4f-typing-stmt.watsup:79.17-79.20)
        2. because application of rule Switch_tbl_cases_ok/seq failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
          - because invocation of relation Switch_tbl_case_ok failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
            1. because mismatch in case expression: `MatchC%%`_switchcase(switchlabel, block) expected but got `FallC%` ()
            2. because application of rule Switch_tbl_case_ok/fallc failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
              - because invocation of relation Switch_tbl_label_ok failed (../../../../spec/4f-typing-stmt.watsup:71.6-71.25)
                1. because mismatch in case expression: `ExprL%`_switchlabel(`NameE%`_expr(`CURRENT%`_name(id_a))) expected but got `DefaultL` ()
                2. because application of rule Switch_tbl_label_ok/defaultl failed (../../../../spec/4f-typing-stmt.watsup:71.6-71.25)
                  - because condition (bool = true) was not met (../../../../spec/4f-typing-stmt.watsup:57.12-57.16)
    4. because application of rule Stmt_ok/switchs-gen failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (((($is_errt(typ') \/ $is_fintt(typ')) \/ $is_fbitt(typ')) \/ $is_enumt(typ')) \/ $is_senumt(typ')) was not met (../../../../spec/4f-typing-stmt.watsup:147.9-147.100)
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `SwitchS%%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `SwitchS%%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `SwitchS%%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `SwitchS%%` ()
    14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `SwitchS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/default-param.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/default-param.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ExternFuncD%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ExternFuncD%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ExternFuncD%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ExternFuncD%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ExternFuncD%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ExternFuncD%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ExternFuncD%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternFuncD%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternFuncD%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternFuncD%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ExternFuncD%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ExternFuncD%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternFuncD%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternFuncD%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ExternFuncD%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ExternFuncD%%%%` ()
21. because application of rule Decl_ok/externfuncd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:492.6-492.16)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/4g-typing-decl.watsup:492.6-492.16)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternFuncT%%` ()
        6. because application of rule FuncType_wf/externfunctiont failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:455.6-455.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:455.6-455.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition (val? = ?()) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:381.23-381.26)
                2. because application of rule ParamType_wf/some failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ((dir = `IN`_dir()) \/ (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:389.9-389.29)
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
        8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ExternFuncD%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ExternFuncD%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternFuncD%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ExternFuncD%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ExternFuncD%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternFuncD%%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ExternFuncD%%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ExternFuncD%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/default_action.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/default_action.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
        1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
        2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
            1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `DefaultP%` ()
            2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `DefaultP%` ()
            3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `DefaultP%` ()
            4. because application of rule Table_prop_ok/defaultp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
              - because invocation of relation Table_default_ok failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
                - because application of rule Table_default_ok/ failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
                  - because cannot assign a none value into ?((pt*{pt <- pt*}, argIL_a*{argIL_a <- argIL_a*})) (../../../../spec/4g-typing-decl.watsup:1154.9-1154.24)
            5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `DefaultP%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/default_action1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/default_action1.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
        1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
        2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
            1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `DefaultP%` ()
            2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `DefaultP%` ()
            3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `DefaultP%` ()
            4. because application of rule Table_prop_ok/defaultp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
              - because invocation of relation Table_default_ok failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
                - because application of rule Table_default_ok/ failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
                  - because cannot assign a none value into ?((pt*{pt <- pt*}, argIL_a*{argIL_a <- argIL_a*})) (../../../../spec/4g-typing-decl.watsup:1154.9-1154.24)
            5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `DefaultP%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/directionless.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/directionless.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ActionD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ActionD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ActionD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ActionD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ActionD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ActionD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        19. because application of rule Decl_ok/actiond failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
            1. because application of rule FuncDef_wf/monofd failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                2. because application of rule FuncType_wf/actiont failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                  - because condition $is_trailing_action(dir*{dir <- dir*}) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:421.9-421.34)
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ActionT%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            2. because cannot downcast `MonoFD%` to polyfuncdef ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ActionD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ActionD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ActionD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ActionD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ActionD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ActionD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/div.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/div.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BinE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BinE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BinE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BinE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BinE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BinE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                17. because application of rule Expr_ok/bine-plus-minus-mult failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`PLUS`_binop(), `MINUS`_binop(), `MUL`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:166.9-166.58)
                18. because application of rule Expr_ok/bine-sat-plus-minus failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SPLUS`_binop(), `SMINUS`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:191.9-191.55)
                19. because application of rule Expr_ok/bine-div-mod-lctk failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because cannot downcast a negative integer to natural number (../../../../spec/4e-typing-expr.watsup:228.9-228.12)
                20. because application of rule Expr_ok/bine-div-mod-non-lctk failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (ctk_r'' =/= `LCTK`_ctk()) was not met (../../../../spec/4e-typing-expr.watsup:246.9-246.25)
                21. because application of rule Expr_ok/bine-shift failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SHL`_binop(), `SHR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:268.9-268.50)
                22. because application of rule Expr_ok/bine-compare-eq failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`EQ`_binop(), `NE`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:283.9-283.48)
                23. because application of rule Expr_ok/bine-compare failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LE`_binop(), `GE`_binop(), `LT`_binop(), `GT`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:309.9-309.56)
                24. because application of rule Expr_ok/bine-bitwise failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`BAND`_binop(), `BXOR`_binop(), `BOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:334.9-334.57)
                25. because application of rule Expr_ok/bine-concat-fint failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                26. because application of rule Expr_ok/bine-concat-fbit failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                27. because application of rule Expr_ok/bine-logical failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LAND`_binop(), `LOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:402.9-402.51)
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BinE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BinE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BinE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BinE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BinE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `BinE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BinE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BinE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BinE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/div0.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/div0.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senums_binary(exprIL_l', exprIL_r', $compatible_divmod) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
  1. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because condition $check_binary(typ_a, typ_b) was not met (../../../../spec/4d2-typing-subtyping.watsup:319.9-319.36)
  2. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FBitT%` to datatyp ()
  3. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/div1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/div1.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senums_binary(exprIL_l', exprIL_r', $compatible_divmod) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
  1. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because condition $check_binary(typ_a, typ_b) was not met (../../../../spec/4d2-typing-subtyping.watsup:319.9-319.36)
  2. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FBitT%` to datatyp ()
  3. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/div3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/div3.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senums_binary(exprIL_l', exprIL_r', $compatible_divmod) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
  1. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because condition $check_binary(typ_a, typ_b) was not met (../../../../spec/4d2-typing-subtyping.watsup:319.9-319.36)
  2. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FBitT%` to datatyp ()
  3. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/dup-param.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/dup-param.p4
interp error: tracing backtrack logs:
- because invocation of function $add_styp(p, C, id, `%%%%`_styp(typ, `NO`_dir(), `CTK`_ctk(), ?())) failed (../../../../spec/4a1-typing-context.watsup:176.17-176.26)
  1. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4a1-typing-context.watsup:176.17-176.26)
    - because condition (cursor = `GLOBAL`_cursor()) was not met ()
  2. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4a1-typing-context.watsup:176.17-176.26)
    - because condition ~ $in_set<id>(id, $dom_map<id, styp>(C.BLOCK.FRAME)) was not met (../../../../spec/4a1-typing-context.watsup:154.9-154.60)
  3. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4a1-typing-context.watsup:176.17-176.26)
    - because condition (cursor = `LOCAL`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/dup-param1.p4
Error on typecheck: should fail

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/dup-param2.p4
Error on typecheck: should fail

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/dup-param3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/dup-param3.p4
interp error: tracing backtrack logs:
- because invocation of function $add_styp(p, C, id, `%%%%`_styp(typ, dir, `DYN`_ctk(), ?())) failed (../../../../spec/4a1-typing-context.watsup:180.17-180.26)
  1. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4a1-typing-context.watsup:180.17-180.26)
    - because condition (cursor = `GLOBAL`_cursor()) was not met ()
  2. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4a1-typing-context.watsup:180.17-180.26)
    - because condition ~ $in_set<id>(id, $dom_map<id, styp>(C.BLOCK.FRAME)) was not met (../../../../spec/4a1-typing-context.watsup:154.9-154.60)
  3. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4a1-typing-context.watsup:180.17-180.26)
    - because condition (cursor = `LOCAL`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/dupConst.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/dupConst.p4
interp error: tracing backtrack logs:
- because invocation of function $add_styp(p, C, id, `%%%%`_styp(typ_c, `NO`_dir(), `LCTK`_ctk(), ?(val))) failed (../../../../spec/4g-typing-decl.watsup:60.15-60.24)
  1. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:60.15-60.24)
    - because condition ~ $in_set<id>(id, $dom_map<id, styp>(C.GLOBAL.FRAME)) was not met (../../../../spec/4a1-typing-context.watsup:151.9-151.61)
  2. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:60.15-60.24)
    - because condition (cursor = `BLOCK`_cursor()) was not met ()
  3. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:60.15-60.24)
    - because condition (cursor = `LOCAL`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/duplicate-label.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/duplicate-label.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
        1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `SwitchS%%` ()
                3. because application of rule Stmt_ok/switchs-tbl failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition $distinct_<switchlabel>(switchlabel*{switchlabel <- switchlabel*}) was not met (../../../../spec/4f-typing-stmt.watsup:95.9-95.46)
                4. because application of rule Stmt_ok/switchs-gen failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (((($is_errt(typ') \/ $is_fintt(typ')) \/ $is_fbitt(typ')) \/ $is_enumt(typ')) \/ $is_senumt(typ')) was not met (../../../../spec/4f-typing-stmt.watsup:147.9-147.100)
                5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `SwitchS%%` ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `SwitchS%%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
                9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `SwitchS%%` ()
                10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `SwitchS%%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `SwitchS%%` ()
        2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/enumCast.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/enumCast.p4
interp error: tracing backtrack logs:
- because invocation of function $add_styp(`BLOCK`_cursor(), C, member, `%%%%`_styp(typ_f, `NO`_dir(), `LCTK`_ctk(), ?(val))) failed (../../../../spec/4g-typing-decl.watsup:308.15-308.24)
  1. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:308.15-308.24)
    - because condition (cursor = `GLOBAL`_cursor()) was not met ()
  2. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:308.15-308.24)
    - because condition ~ $in_set<id>(id, $dom_map<id, styp>(C.BLOCK.FRAME)) was not met (../../../../spec/4a1-typing-context.watsup:154.9-154.60)
  3. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:308.15-308.24)
    - because condition (cursor = `LOCAL`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/equality-fail.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/equality-fail.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_binary(exprIL_l, exprIL_r) failed (../../../../spec/4e-typing-expr.watsup:288.35-288.49)
  1. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:288.35-288.49)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
      1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `VBitT%` to abstyp ()
      3. because cannot downcast `VBitT%` to abstyp ()
      4. because cannot downcast `VBitT%` to abstyp ()
      5. because cannot downcast `VBitT%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `VBitT%` to datatyp ()
      8. because cannot downcast `VBitT%` to datatyp ()
      9. because cannot downcast `VBitT%` to datatyp ()
      10. because cannot downcast `VBitT%` to datatyp ()
      11. because cannot downcast `VBitT%` to datatyp ()
      12. because cannot downcast `VBitT%` to datatyp ()
      13. because cannot downcast `VBitT%` to datatyp ()
      14. because cannot downcast `VBitT%` to datatyp ()
      15. because cannot downcast `VBitT%` to datatyp ()
      16. because cannot downcast `VBitT%` to objtyp ()
      17. because cannot downcast `VBitT%` to objtyp ()
      18. because cannot downcast `VBitT%` to objtyp ()
      19. because cannot downcast `VBitT%` to objtyp ()
      20. because cannot downcast `VBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `VBitT%` to synthtyp ()
      23. because cannot downcast `VBitT%` to synthtyp ()
      24. because cannot downcast `VBitT%` to synthtyp ()
      25. because cannot downcast `VBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `VBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `VBitT%` to synthtyp ()
      30. because cannot downcast `VBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:288.35-288.49)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:350.6-350.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:350.6-350.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `VBitT%` to abstyp ()
              3. because cannot downcast `VBitT%` to abstyp ()
              4. because cannot downcast `VBitT%` to abstyp ()
              5. because cannot downcast `VBitT%` to aliastyp ()
              6. because cannot downcast `HeaderT%%` to aliastyp ()
              7. because cannot downcast `VBitT%` to datatyp ()
              8. because cannot downcast `VBitT%` to datatyp ()
              9. because cannot downcast `VBitT%` to datatyp ()
              10. because cannot downcast `VBitT%` to datatyp ()
              11. because cannot downcast `VBitT%` to datatyp ()
              12. because cannot downcast `VBitT%` to datatyp ()
              13. because cannot downcast `VBitT%` to datatyp ()
              14. because cannot downcast `VBitT%` to datatyp ()
              15. because cannot downcast `VBitT%` to datatyp ()
              16. because cannot downcast `VBitT%` to objtyp ()
              17. because cannot downcast `VBitT%` to objtyp ()
              18. because cannot downcast `VBitT%` to objtyp ()
              19. because cannot downcast `VBitT%` to objtyp ()
              20. because cannot downcast `VBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `VBitT%` to synthtyp ()
              23. because cannot downcast `VBitT%` to synthtyp ()
              24. because cannot downcast `VBitT%` to synthtyp ()
              25. because cannot downcast `VBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `VBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `VBitT%` to synthtyp ()
              30. because cannot downcast `VBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `HeaderT%%` to numtyp ()
          3. because cannot downcast `HeaderT%%` to numtyp ()
          4. because cannot downcast `VBitT%` to datatyp ()
          5. because cannot downcast `VBitT%` to synthtyp ()
          6. because cannot downcast `VBitT%` to synthtyp ()
          7. because cannot downcast `VBitT%` to synthtyp ()
          8. because cannot downcast `VBitT%` to synthtyp ()
          9. because cannot downcast `VBitT%` to synthtyp ()
          10. because cannot downcast `VBitT%` to synthtyp ()
          11. because cannot downcast `VBitT%` to synthtyp ()
          12. because cannot downcast `VBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `VBitT%` to synthtyp ()
          15. because cannot downcast `VBitT%` to synthtyp ()
          16. because cannot downcast `VBitT%` to synthtyp ()
          17. because cannot downcast `VBitT%` to synthtyp ()
          18. because cannot downcast `VBitT%` to synthtyp ()
          19. because cannot downcast `VBitT%` to synthtyp ()
          20. because application of rule Sub_impl_canon/invalidt-headert failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `HeaderT%%` ()
  3. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:288.35-288.49)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:356.6-356.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:356.6-356.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `HeaderT%%` to abstyp ()
              3. because cannot downcast `HeaderT%%` to abstyp ()
              4. because cannot downcast `HeaderT%%` to abstyp ()
              5. because cannot downcast `HeaderT%%` to aliastyp ()
              6. because cannot downcast `VBitT%` to aliastyp ()
              7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `HeaderT%%` ()
              8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `HeaderT%%` ()
              9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `HeaderT%%` ()
              10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `HeaderT%%` ()
              11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `HeaderT%%` ()
              12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `HeaderT%%` ()
              13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
              14. because cannot downcast `VBitT%` to datatyp ()
              15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
              16. because cannot downcast `HeaderT%%` to objtyp ()
              17. because cannot downcast `HeaderT%%` to objtyp ()
              18. because cannot downcast `HeaderT%%` to objtyp ()
              19. because cannot downcast `HeaderT%%` to objtyp ()
              20. because cannot downcast `HeaderT%%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `HeaderT%%` to synthtyp ()
              23. because cannot downcast `HeaderT%%` to synthtyp ()
              24. because cannot downcast `HeaderT%%` to synthtyp ()
              25. because cannot downcast `HeaderT%%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `HeaderT%%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `HeaderT%%` to synthtyp ()
              30. because cannot downcast `HeaderT%%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because mismatch in case expression: `FBitT%`_numtyp(_width) expected but got `VBitT%` ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `VBitT%` ()
          4. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_a, _(member, val)*) expected but got `HeaderT%%` ()
          5. because cannot downcast `HeaderT%%` to synthtyp ()
          6. because cannot downcast `HeaderT%%` to synthtyp ()
          7. because cannot downcast `HeaderT%%` to synthtyp ()
          8. because cannot downcast `HeaderT%%` to synthtyp ()
          9. because cannot downcast `HeaderT%%` to synthtyp ()
          10. because cannot downcast `HeaderT%%` to synthtyp ()
          11. because cannot downcast `HeaderT%%` to synthtyp ()
          12. because cannot downcast `HeaderT%%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `HeaderT%%` to synthtyp ()
          15. because cannot downcast `HeaderT%%` to synthtyp ()
          16. because cannot downcast `HeaderT%%` to synthtyp ()
          17. because cannot downcast `HeaderT%%` to synthtyp ()
          18. because cannot downcast `HeaderT%%` to synthtyp ()
          19. because cannot downcast `HeaderT%%` to synthtyp ()
          20. because cannot downcast `VBitT%` to datatyp ()
          21. because cannot downcast `VBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/expression_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/extern.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/extern.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:1318.6-1318.16)
    1. because application of rule FuncDef_wf/monofd failed (../../../../spec/4g-typing-decl.watsup:1318.6-1318.16)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
        4. because application of rule FuncType_wf/controlapplymethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:441.6-441.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:441.6-441.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ControlApplyMethodT%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
        8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
    2. because cannot downcast `MonoFD%` to polyfuncdef ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/factory-err2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/factory-err2.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/function1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/function1_e.p4
interp error: tracing backtrack logs:
- because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
- because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
  1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    - because condition (stmt = `EmptyS`_stmt()) was not met ()
  2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
  3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
  4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
  5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
  6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
  7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    - because condition (stmt = `ExitS`_stmt()) was not met ()
  8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    - because condition (stmt = `RetS%`_stmt(?())) was not met ()
  9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
  10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
      1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
      2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
        - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
          1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
            - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because condition (dir = `IN`_dir()) was not met ()
              2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because invocation of relation Lval_ok failed (../../../../spec/4h-typing-call.watsup:13.6-13.13)
                  1. because mismatch in case expression: `NameE%%`_exprIL(name, _annotIL) expected but got `BinE%%%%` ()
                  2. because mismatch in case expression: `ArrAccE%%%`_exprIL(exprIL_b, exprIL_i, _annotIL) expected but got `BinE%%%%` ()
                  3. because mismatch in case expression: `BitAccE%%%%`_exprIL(exprIL_b, exprIL_l, exprIL_h, _annotIL) expected but got `BinE%%%%` ()
                  4. because mismatch in case expression: `ExprAccE%%%`_exprIL(exprIL_b, member, _annotIL) expected but got `BinE%%%%` ()
              3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because condition (actctxt = `ACT`_actctxt()) was not met ()
              4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because condition (dir = `NO`_dir()) was not met ()
          2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
          3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
          4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
            - because condition (argIL = `AnyA`_argIL()) was not met ()
      3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
        - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
          1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
            - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because condition (dir = `IN`_dir()) was not met ()
              2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because invocation of relation Lval_ok failed (../../../../spec/4h-typing-call.watsup:13.6-13.13)
                  1. because mismatch in case expression: `NameE%%`_exprIL(name, _annotIL) expected but got `BinE%%%%` ()
                  2. because mismatch in case expression: `ArrAccE%%%`_exprIL(exprIL_b, exprIL_i, _annotIL) expected but got `BinE%%%%` ()
                  3. because mismatch in case expression: `BitAccE%%%%`_exprIL(exprIL_b, exprIL_l, exprIL_h, _annotIL) expected but got `BinE%%%%` ()
                  4. because mismatch in case expression: `ExprAccE%%%`_exprIL(exprIL_b, member, _annotIL) expected but got `BinE%%%%` ()
              3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because condition (actctxt = `ACT`_actctxt()) was not met ()
              4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                - because condition (dir = `NO`_dir()) was not met ()
          2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
          3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
          4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
            - because condition (argIL = `AnyA`_argIL()) was not met ()
      4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
      11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
      12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
      13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
  11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
  12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
  13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
  14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/function_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/function_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.FDENV) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/function_e1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/function_e1.p4
interp error: tracing backtrack logs:
- because invocation of relation Prog_ok failed ()
  - because application of rule Prog_ok/ failed ()
    - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
      2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
          2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `FuncD%%%%%` ()
          3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `FuncD%%%%%` ()
          4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `FuncD%%%%%` ()
          5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `FuncD%%%%%` ()
          6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
          7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
          8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
          9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
          10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
          11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `FuncD%%%%%` ()
          12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `FuncD%%%%%` ()
          13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
          14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
          15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
          16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
          17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
          18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
          19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `FuncD%%%%%` ()
          20. because application of rule Decl_ok/funcd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
            - because condition ((f = `RET`_flow()) \/ ((f = `CONT`_flow()) /\ (typ_r = ((typ) `VoidT`_primtyp())))) was not met (../../../../spec/4g-typing-decl.watsup:464.9-464.47)
          21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
          22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `FuncD%%%%%` ()
          23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
          24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
          25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `FuncD%%%%%` ()
          26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `FuncD%%%%%` ()
          27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
          28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `FuncD%%%%%` ()
          29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `FuncD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/function_e2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/function_e2.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because application of rule Call_ok/actiont failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:450.6-450.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                5. because application of rule Call_site_ok/local-action failed (../../../../spec/4h-typing-call.watsup:450.6-450.18)
                  - because condition (((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:356.9-358.43)
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ActionT%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ActionT%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ActionT%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ActionT%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/functors2_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/functors2_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/functors3_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/functors3_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/generic1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/generic1_e.p4
interp error: tracing backtrack logs:
- because cannot transpose a matrix of value batches ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/globalVar_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/header1_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/header2_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/header2_e.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `StructD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `StructD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `StructD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `StructD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `StructD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `StructD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `StructD%%%` ()
        8. because application of rule Decl_ok/structd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:231.6-231.16)
            1. because cannot downcast `PolyD%->%` to monotypdef ()
            2. because application of rule TypeDef_wf/polyd failed (../../../../spec/4g-typing-decl.watsup:231.6-231.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                1. because cannot downcast `StructT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `StructT%%` to abstyp ()
                3. because cannot downcast `StructT%%` to abstyp ()
                4. because cannot downcast `StructT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `StructT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `StructT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `StructT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `StructT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `StructT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `StructT%%` ()
                11. because application of rule Type_wf/structt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition $nestable_structt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:162.9-162.31)
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StructT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StructT%%` ()
                14. because cannot downcast `StructT%%` to objtyp ()
                15. because cannot downcast `StructT%%` to objtyp ()
                16. because cannot downcast `StructT%%` to objtyp ()
                17. because cannot downcast `StructT%%` to objtyp ()
                18. because cannot downcast `StructT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `StructT%%` to synthtyp ()
                21. because cannot downcast `StructT%%` to synthtyp ()
                22. because cannot downcast `StructT%%` to synthtyp ()
                23. because cannot downcast `StructT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `StructT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `StructT%%` to synthtyp ()
                28. because cannot downcast `StructT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `StructD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `StructD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `StructD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `StructD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `StructD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `StructD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `StructD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `StructD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `StructD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `StructD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `StructD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `StructD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `StructD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `StructD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `StructD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `StructD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `StructD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/header3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/header3.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `HeaderD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `HeaderD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `HeaderD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `HeaderD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `HeaderD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `HeaderD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `HeaderD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `HeaderD%%%` ()
        9. because application of rule Decl_ok/headerd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:247.6-247.16)
            1. because cannot downcast `PolyD%->%` to monotypdef ()
            2. because application of rule TypeDef_wf/polyd failed (../../../../spec/4g-typing-decl.watsup:247.6-247.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `HeaderT%%` to abstyp ()
                3. because cannot downcast `HeaderT%%` to abstyp ()
                4. because cannot downcast `HeaderT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `HeaderT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `HeaderT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `HeaderT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `HeaderT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `HeaderT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `HeaderT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                12. because application of rule Type_wf/headert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition $nestable_headert(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:196.9-196.31)
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                14. because cannot downcast `HeaderT%%` to objtyp ()
                15. because cannot downcast `HeaderT%%` to objtyp ()
                16. because cannot downcast `HeaderT%%` to objtyp ()
                17. because cannot downcast `HeaderT%%` to objtyp ()
                18. because cannot downcast `HeaderT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `HeaderT%%` to synthtyp ()
                21. because cannot downcast `HeaderT%%` to synthtyp ()
                22. because cannot downcast `HeaderT%%` to synthtyp ()
                23. because cannot downcast `HeaderT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `HeaderT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `HeaderT%%` to synthtyp ()
                28. because cannot downcast `HeaderT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `HeaderD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `HeaderD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `HeaderD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `HeaderD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `HeaderD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `HeaderD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `HeaderD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `HeaderD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `HeaderD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `HeaderD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `HeaderD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `HeaderD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `HeaderD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/implicit.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/implicit.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FIntT%` to abstyp ()
      3. because cannot downcast `FIntT%` to abstyp ()
      4. because cannot downcast `FIntT%` to abstyp ()
      5. because cannot downcast `FIntT%` to aliastyp ()
      6. because cannot downcast `FBitT%` to aliastyp ()
      7. because cannot downcast `FIntT%` to datatyp ()
      8. because cannot downcast `FIntT%` to datatyp ()
      9. because cannot downcast `FIntT%` to datatyp ()
      10. because cannot downcast `FIntT%` to datatyp ()
      11. because cannot downcast `FIntT%` to datatyp ()
      12. because cannot downcast `FIntT%` to datatyp ()
      13. because cannot downcast `FIntT%` to datatyp ()
      14. because cannot downcast `FIntT%` to datatyp ()
      15. because cannot downcast `FIntT%` to datatyp ()
      16. because cannot downcast `FIntT%` to objtyp ()
      17. because cannot downcast `FIntT%` to objtyp ()
      18. because cannot downcast `FIntT%` to objtyp ()
      19. because cannot downcast `FIntT%` to objtyp ()
      20. because cannot downcast `FIntT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FIntT%` to synthtyp ()
      23. because cannot downcast `FIntT%` to synthtyp ()
      24. because cannot downcast `FIntT%` to synthtyp ()
      25. because cannot downcast `FIntT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FIntT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FIntT%` to synthtyp ()
      30. because cannot downcast `FIntT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FIntT%` to abstyp ()
              3. because cannot downcast `FIntT%` to abstyp ()
              4. because cannot downcast `FIntT%` to abstyp ()
              5. because cannot downcast `FIntT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FIntT%` to datatyp ()
              8. because cannot downcast `FIntT%` to datatyp ()
              9. because cannot downcast `FIntT%` to datatyp ()
              10. because cannot downcast `FIntT%` to datatyp ()
              11. because cannot downcast `FIntT%` to datatyp ()
              12. because cannot downcast `FIntT%` to datatyp ()
              13. because cannot downcast `FIntT%` to datatyp ()
              14. because cannot downcast `FIntT%` to datatyp ()
              15. because cannot downcast `FIntT%` to datatyp ()
              16. because cannot downcast `FIntT%` to objtyp ()
              17. because cannot downcast `FIntT%` to objtyp ()
              18. because cannot downcast `FIntT%` to objtyp ()
              19. because cannot downcast `FIntT%` to objtyp ()
              20. because cannot downcast `FIntT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FIntT%` to synthtyp ()
              23. because cannot downcast `FIntT%` to synthtyp ()
              24. because cannot downcast `FIntT%` to synthtyp ()
              25. because cannot downcast `FIntT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FIntT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FIntT%` to synthtyp ()
              30. because cannot downcast `FIntT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FIntT%` to datatyp ()
          5. because cannot downcast `FIntT%` to synthtyp ()
          6. because cannot downcast `FIntT%` to synthtyp ()
          7. because cannot downcast `FIntT%` to synthtyp ()
          8. because cannot downcast `FIntT%` to synthtyp ()
          9. because cannot downcast `FIntT%` to synthtyp ()
          10. because cannot downcast `FIntT%` to synthtyp ()
          11. because cannot downcast `FIntT%` to synthtyp ()
          12. because cannot downcast `FIntT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FIntT%` to synthtyp ()
          15. because cannot downcast `FIntT%` to synthtyp ()
          16. because cannot downcast `FIntT%` to synthtyp ()
          17. because cannot downcast `FIntT%` to synthtyp ()
          18. because cannot downcast `FIntT%` to synthtyp ()
          19. because cannot downcast `FIntT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/incorrect-label.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/incorrect-label.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<id, styp>(C.GLOBAL.FRAME, id) failed (../../../../spec/4a1-typing-context.watsup:277.42-277.51)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:277.42-277.51)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/init-entries-error1-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/init-entries-error1-bmv2.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `EntryP%` ()
2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `EntryP%` ()
3. because application of rule Table_prop_ok/entryp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
  - because invocation of relation Table_entries_ok failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
    - because application of rule Table_entries_ok/ failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
      - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
        1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
          - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
        2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
          - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
            - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
              - because invocation of relation Table_entry_priority_ok failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                1. because application of rule Table_entry_priority_ok/nopri failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1017.30-1017.33)
                2. because mismatch in case expression: `LPM%`_tblstate(nat_prefix) expected but got `NOLPM` ()
                3. because application of rule Table_entry_priority_ok/priority-values-nil-somep failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition ((tblctx.MODE = `PRI`_mode()) \/ (tblctx.MODE = `PRILPM`_mode())) was not met (../../../../spec/4g-typing-decl.watsup:1026.9-1026.50)
                4. because application of rule Table_entry_priority_ok/priority-values-nil-none-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1040.30-1040.33)
                5. because application of rule Table_entry_priority_ok/priority-values-nil-none-no-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1054.30-1054.33)
                6. because application of rule Table_entry_priority_ok/else-somep failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition ((tblctx.MODE = `PRI`_mode()) \/ (tblctx.MODE = `PRILPM`_mode())) was not met (../../../../spec/4g-typing-decl.watsup:1063.9-1063.50)
                7. because application of rule Table_entry_priority_ok/else-none-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1077.30-1077.33)
                8. because application of rule Table_entry_priority_ok/else-none-no-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1091.30-1091.33)
4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `EntryP%` ()
5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `EntryP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/init-entries-error2-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/init-entries-error2-bmv2.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
    1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
    2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
        1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
        2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
            - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
              - because invocation of relation Table_entry_priority_ok failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                1. because application of rule Table_entry_priority_ok/nopri failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1017.30-1017.33)
                2. because mismatch in case expression: `LPM%`_tblstate(nat_prefix) expected but got `NOLPM` ()
                3. because application of rule Table_entry_priority_ok/priority-values-nil-somep failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (tblctx.PRIORITIES.VALUES = []) was not met (../../../../spec/4g-typing-decl.watsup:1028.9-1028.39)
                4. because application of rule Table_entry_priority_ok/priority-values-nil-none-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1040.30-1040.33)
                5. because application of rule Table_entry_priority_ok/priority-values-nil-none-no-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1054.30-1054.33)
                6. because application of rule Table_entry_priority_ok/else-somep failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition tblctx.PRIORITIES.INIT was not met (../../../../spec/4g-typing-decl.watsup:1066.9-1066.31)
                7. because application of rule Table_entry_priority_ok/else-none-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1077.30-1077.33)
                8. because application of rule Table_entry_priority_ok/else-none-no-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:1091.30-1091.33)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/init-entries-error3-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/init-entries-error3-bmv2.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
  - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
    1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
    2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
        1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
        2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
            - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
              - because invocation of relation Table_entry_priority_ok failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                1. because application of rule Table_entry_priority_ok/nopri failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (tblctx.MODE = `NOPRI`_mode()) was not met (../../../../spec/4g-typing-decl.watsup:1018.9-1018.28)
                2. because mismatch in case expression: `LPM%`_tblstate(nat_prefix) expected but got `NOLPM` ()
                3. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:1025.30-1025.34)
                4. because application of rule Table_entry_priority_ok/priority-values-nil-none-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (tblctx.PRIORITIES.VALUES = []) was not met (../../../../spec/4g-typing-decl.watsup:1042.9-1042.39)
                5. because application of rule Table_entry_priority_ok/priority-values-nil-none-no-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (tblctx.PRIORITIES.VALUES = []) was not met (../../../../spec/4g-typing-decl.watsup:1056.9-1056.39)
                6. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:1062.30-1062.34)
                7. because application of rule Table_entry_priority_ok/else-none-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition (i' >= ((int) 0)) was not met (../../../../spec/4g-typing-decl.watsup:1087.9-1087.19)
                8. because application of rule Table_entry_priority_ok/else-none-no-lw failed (../../../../spec/4g-typing-decl.watsup:1115.6-1115.29)
                  - because condition ~ tblctx.PRIORITIES.LARGEST_WINS was not met (../../../../spec/4g-typing-decl.watsup:1098.9-1098.40)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/inro.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/inro.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Lval_ok failed (../../../../spec/4f-typing-stmt.watsup:34.6-34.13)
                1. because application of rule Lval_ok/namee failed (../../../../spec/4f-typing-stmt.watsup:34.6-34.13)
                  - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4f-typing-stmt.watsup:15.9-15.33)
                2. because mismatch in case expression: `ArrAccE%%%`_exprIL(exprIL_b, exprIL_i, _annotIL) expected but got `NameE%%` ()
                3. because mismatch in case expression: `BitAccE%%%%`_exprIL(exprIL_b, exprIL_l, exprIL_h, _annotIL) expected but got `NameE%%` ()
                4. because mismatch in case expression: `ExprAccE%%%`_exprIL(exprIL_b, member, _annotIL) expected but got `NameE%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/interface1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/interface1_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(member, $to_fkey(arg*{arg <- arg*}), fmap_b) failed (../../../../spec/4h-typing-call.watsup:99.32-99.42)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4h-typing-call.watsup:99.32-99.42)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/interface_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/interface_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/invalid-invalid.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1006-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1006-1.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
    1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
    4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1059.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1059.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
    3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
    4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
    10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
        1. because application of rule Call_ok/actiont failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
          - because invocation of relation Arg_ok failed (../../../../spec/4h-typing-call.watsup:444.7-444.13)
            1. because application of rule Arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:444.7-444.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            2. because mismatch in case expression: `NameA%%`_arg(id, ?(expr)) expected but got `ExprA%` ()
            3. because mismatch in case expression: `NameA%%`_arg(id, expr?) expected but got `ExprA%` ()
            4. because application of rule Arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:444.7-444.13)
              - because condition (arg = `AnyA`_arg()) was not met ()
        2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
        11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
        12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
        13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ActionT%` ()
    11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
    14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1202.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1230.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1230.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
        1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
        2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
            1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `CustomP%` ()
            2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `CustomP%` ()
            3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `CustomP%` ()
            4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `CustomP%` ()
            5. because application of rule Table_prop_ok/customp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
              - because invocation of relation Table_custom_ok failed (../../../../spec/4g-typing-decl.watsup:1225.6-1225.21)
                1. because application of rule Table_custom_ok/size failed (../../../../spec/4g-typing-decl.watsup:1225.6-1225.21)
                  - because condition (($is_intt(typ) \/ $is_fintt(typ)) \/ $is_fbitt(typ)) was not met (../../../../spec/4g-typing-decl.watsup:1174.9-1174.58)
                2. because application of rule Table_custom_ok/largest_priority_wins failed (../../../../spec/4g-typing-decl.watsup:1225.6-1225.21)
                  - because condition (text = "largest_priority_wins") was not met (../../../../spec/4g-typing-decl.watsup:1177.20-1177.43)
                3. because application of rule Table_custom_ok/priority_delta failed (../../../../spec/4g-typing-decl.watsup:1225.6-1225.21)
                  - because condition (text = "priority_delta") was not met (../../../../spec/4g-typing-decl.watsup:1185.20-1185.36)
                4. because application of rule Table_custom_ok/unknown failed (../../../../spec/4g-typing-decl.watsup:1225.6-1225.21)
                  - because condition (((member =/= "size") /\ (member =/= "largest_priority_wins")) /\ (member =/= "priority_delta")) was not met (../../../../spec/4g-typing-decl.watsup:1198.9-1198.95)
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1296.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1296.p4
interp error: tracing backtrack logs:
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
1. because cannot downcast `ExternT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
2. because cannot downcast `ExternT%%` to abstyp ()
3. because cannot downcast `ExternT%%` to abstyp ()
4. because cannot downcast `ExternT%%` to aliastyp ()
5. because cannot downcast `ExternT%%` to datatyp ()
6. because cannot downcast `ExternT%%` to datatyp ()
7. because cannot downcast `ExternT%%` to datatyp ()
8. because cannot downcast `ExternT%%` to datatyp ()
9. because cannot downcast `ExternT%%` to datatyp ()
10. because cannot downcast `ExternT%%` to datatyp ()
11. because cannot downcast `ExternT%%` to datatyp ()
12. because cannot downcast `ExternT%%` to datatyp ()
13. because cannot downcast `ExternT%%` to datatyp ()
14. because application of rule Type_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because invocation of relation FuncDef_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
    1. because cannot downcast `PolyFD%->%` to monofuncdef ()
    2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/2c6-runtime-type-wellformed.watsup:218.7-218.17)
      - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
        1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
        5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
        6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
        8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:480.6-480.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
16. because mismatch in case expression: `ControlT%`_objtyp(pt*{pt <- pt*}) expected but got `ExternT%%` ()
17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ExternT%%` ()
18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ExternT%%` ()
19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
20. because cannot downcast `ExternT%%` to synthtyp ()
21. because cannot downcast `ExternT%%` to synthtyp ()
22. because cannot downcast `ExternT%%` to synthtyp ()
23. because cannot downcast `ExternT%%` to synthtyp ()
24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
25. because cannot downcast `ExternT%%` to synthtyp ()
26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
27. because cannot downcast `ExternT%%` to synthtyp ()
28. because cannot downcast `ExternT%%` to synthtyp ()
29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1331.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1331.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ParserApplyMethodT%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            11. because application of rule Call_ok/parser-apply-methodt failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:628.6-628.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ParserApplyMethodT%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ParserApplyMethodT%` ()
                17. because application of rule Call_site_ok/local-parserapplymethod failed (../../../../spec/4h-typing-call.watsup:628.6-628.18)
                  - because condition (C.LOCAL.KIND = `PARSERSTATE`_lkind()) was not met (../../../../spec/4h-typing-call.watsup:421.9-421.35)
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ParserApplyMethodT%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ParserApplyMethodT%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ParserApplyMethodT%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ParserApplyMethodT%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1336.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1542.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1542.p4
interp error: tracing backtrack logs:
- because application of rule Table_entries_ok/ failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
  - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
    1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
      - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
    2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
      - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
        - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
          - because invocation of relation Table_entry_action_ok failed (../../../../spec/4g-typing-decl.watsup:1113.6-1113.27)
            - because application of rule Table_entry_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:1113.6-1113.27)
              - because invocation of relation Call_default_action_ok failed (../../../../spec/4g-typing-decl.watsup:1007.6-1007.28)
                - because application of rule Call_default_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:1007.6-1007.28)
                  - because condition (argIL_a = argIL_d) was not met (../../../../spec/4g-typing-decl.watsup:993.9-993.28)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1557-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1557-bmv2.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ActionD%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ActionD%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ActionD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ActionD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ActionD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ActionD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
19. because application of rule Decl_ok/actiond failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ActionD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ActionD%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ActionD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ActionD%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ActionD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ActionD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1777-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1777-bmv2.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
    1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `IntT` to abstyp ()
                3. because cannot downcast `IntT` to abstyp ()
                4. because cannot downcast `IntT` to abstyp ()
                5. because cannot downcast `IntT` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `IntT` to datatyp ()
                8. because cannot downcast `IntT` to datatyp ()
                9. because cannot downcast `IntT` to datatyp ()
                10. because cannot downcast `IntT` to datatyp ()
                11. because cannot downcast `IntT` to datatyp ()
                12. because cannot downcast `IntT` to datatyp ()
                13. because cannot downcast `IntT` to datatyp ()
                14. because cannot downcast `IntT` to datatyp ()
                15. because cannot downcast `IntT` to datatyp ()
                16. because cannot downcast `IntT` to objtyp ()
                17. because cannot downcast `IntT` to objtyp ()
                18. because cannot downcast `IntT` to objtyp ()
                19. because cannot downcast `IntT` to objtyp ()
                20. because cannot downcast `IntT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `IntT` to synthtyp ()
                23. because cannot downcast `IntT` to synthtyp ()
                24. because cannot downcast `IntT` to synthtyp ()
                25. because cannot downcast `IntT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `IntT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `IntT` to synthtyp ()
                30. because cannot downcast `IntT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
    4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `IntT` to abstyp ()
                3. because cannot downcast `IntT` to abstyp ()
                4. because cannot downcast `IntT` to abstyp ()
                5. because cannot downcast `IntT` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `IntT` to datatyp ()
                8. because cannot downcast `IntT` to datatyp ()
                9. because cannot downcast `IntT` to datatyp ()
                10. because cannot downcast `IntT` to datatyp ()
                11. because cannot downcast `IntT` to datatyp ()
                12. because cannot downcast `IntT` to datatyp ()
                13. because cannot downcast `IntT` to datatyp ()
                14. because cannot downcast `IntT` to datatyp ()
                15. because cannot downcast `IntT` to datatyp ()
                16. because cannot downcast `IntT` to objtyp ()
                17. because cannot downcast `IntT` to objtyp ()
                18. because cannot downcast `IntT` to objtyp ()
                19. because cannot downcast `IntT` to objtyp ()
                20. because cannot downcast `IntT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `IntT` to synthtyp ()
                23. because cannot downcast `IntT` to synthtyp ()
                24. because cannot downcast `IntT` to synthtyp ()
                25. because cannot downcast `IntT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `IntT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `IntT` to synthtyp ()
                30. because cannot downcast `IntT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1932-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1932-1.p4
interp error: tracing backtrack logs:
- because invocation of function $add_funcdef_non_overload(p, C_0, fid, fd) failed (../../../../spec/4g-typing-decl.watsup:443.16-443.41)
  1. because application of clause add_funcdef_non_overload(cursor, C, fid, fd) failed (../../../../spec/4g-typing-decl.watsup:443.16-443.41)
    - because condition (cursor = `GLOBAL`_cursor()) was not met ()
  2. because application of clause add_funcdef_non_overload(cursor, C, fid, fd) failed (../../../../spec/4g-typing-decl.watsup:443.16-443.41)
    - because condition ~ id <- id_k*{id_k <- id_k*} was not met (../../../../spec/4a1-typing-context.watsup:255.9-255.23)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1932-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1932-2.p4
interp error: tracing backtrack logs:
- because invocation of function $add_funcdef_non_overload(p, C_0, fid, fd) failed (../../../../spec/4g-typing-decl.watsup:443.16-443.41)
  1. because application of clause add_funcdef_non_overload(cursor, C, fid, fd) failed (../../../../spec/4g-typing-decl.watsup:443.16-443.41)
    - because condition ~ id <- id_k*{id_k <- id_k*} was not met (../../../../spec/4a1-typing-context.watsup:250.9-250.23)
  2. because application of clause add_funcdef_non_overload(cursor, C, fid, fd) failed (../../../../spec/4g-typing-decl.watsup:443.16-443.41)
    - because condition (cursor = `BLOCK`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1986-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1986-1.p4
interp error: tracing backtrack logs:
1. because application of rule Select_case_keysets_ok/one-to-one failed (../../../../spec/4e-typing-expr.watsup:567.6-567.28)
  - because invocation of relation Select_case_keyset_ok failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
    1. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    2. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    3. because application of rule Select_case_keyset_ok/exprk-not-sett failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because invocation of relation Sub_impl failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `FBitT%` to datatyp ()
            21. because cannot downcast `FBitT%` to datatyp ()
    4. because application of rule Select_case_keyset_ok/defaultk failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because condition (keyset = `DefaultK`_keyset()) was not met ()
    5. because application of rule Select_case_keyset_ok/anyk failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because condition (keyset = `AnyK`_keyset()) was not met ()
2. because application of rule Select_case_keysets_ok/many-to-one failed (../../../../spec/4e-typing-expr.watsup:567.6-567.28)
  - because invocation of relation Select_case_keyset_ok failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
    1. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    2. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    3. because application of rule Select_case_keyset_ok/exprk-not-sett failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because invocation of relation Sub_impl failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `SeqT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `SeqT%` to numtyp ()
            3. because cannot downcast `SeqT%` to numtyp ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `SeqT%` to datatyp ()
            21. because cannot downcast `SeqT%` to datatyp ()
    4. because application of rule Select_case_keyset_ok/defaultk failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because condition (keyset = `DefaultK`_keyset()) was not met ()
    5. because application of rule Select_case_keyset_ok/anyk failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because condition (keyset = `AnyK`_keyset()) was not met ()
3. because application of rule Select_case_keysets_ok/many-to-many failed (../../../../spec/4e-typing-expr.watsup:567.6-567.28)
  - because invocation of relation Select_case_keyset_ok failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
    1. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because cannot downcast `FBitT%` to synthtyp ()
    2. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because cannot downcast `FBitT%` to synthtyp ()
    3. because application of rule Select_case_keyset_ok/exprk-not-sett failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because invocation of relation Sub_impl failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `FBitT%` to datatyp ()
            21. because cannot downcast `FBitT%` to datatyp ()
    4. because application of rule Select_case_keyset_ok/defaultk failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because condition (keyset = `DefaultK`_keyset()) was not met ()
    5. because application of rule Select_case_keyset_ok/anyk failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because condition (keyset = `AnyK`_keyset()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue1986.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue1986.p4
interp error: tracing backtrack logs:
- because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
  - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
    1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
        1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
        2. because cannot downcast `SeqT%` to abstyp ()
        3. because cannot downcast `SeqT%` to abstyp ()
        4. because cannot downcast `SeqT%` to abstyp ()
        5. because cannot downcast `SeqT%` to aliastyp ()
        6. because cannot downcast `FBitT%` to aliastyp ()
        7. because cannot downcast `SeqT%` to datatyp ()
        8. because cannot downcast `SeqT%` to datatyp ()
        9. because cannot downcast `SeqT%` to datatyp ()
        10. because cannot downcast `SeqT%` to datatyp ()
        11. because cannot downcast `SeqT%` to datatyp ()
        12. because cannot downcast `SeqT%` to datatyp ()
        13. because cannot downcast `SeqT%` to datatyp ()
        14. because cannot downcast `SeqT%` to datatyp ()
        15. because cannot downcast `SeqT%` to datatyp ()
        16. because cannot downcast `SeqT%` to objtyp ()
        17. because cannot downcast `SeqT%` to objtyp ()
        18. because cannot downcast `SeqT%` to objtyp ()
        19. because cannot downcast `SeqT%` to objtyp ()
        20. because cannot downcast `SeqT%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because cannot downcast `FBitT%` to synthtyp ()
        23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
        24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
        30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
    3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
    4. because cannot downcast `SeqT%` to datatyp ()
    5. because cannot downcast `FBitT%` to datatyp ()
    6. because cannot downcast `FBitT%` to datatyp ()
    7. because cannot downcast `FBitT%` to datatyp ()
    8. because cannot downcast `FBitT%` to datatyp ()
    9. because cannot downcast `FBitT%` to datatyp ()
    10. because cannot downcast `FBitT%` to synthtyp ()
    11. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    12. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
    14. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    15. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    16. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    17. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    18. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    19. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    20. because cannot downcast `FBitT%` to datatyp ()
    21. because cannot downcast `FBitT%` to datatyp ()
- because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
  - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
    1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
        1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
        2. because cannot downcast `SeqT%` to abstyp ()
        3. because cannot downcast `SeqT%` to abstyp ()
        4. because cannot downcast `SeqT%` to abstyp ()
        5. because cannot downcast `SeqT%` to aliastyp ()
        6. because cannot downcast `SeqT%` to aliastyp ()
        7. because cannot downcast `SeqT%` to datatyp ()
        8. because cannot downcast `SeqT%` to datatyp ()
        9. because cannot downcast `SeqT%` to datatyp ()
        10. because cannot downcast `SeqT%` to datatyp ()
        11. because cannot downcast `SeqT%` to datatyp ()
        12. because cannot downcast `SeqT%` to datatyp ()
        13. because cannot downcast `SeqT%` to datatyp ()
        14. because cannot downcast `SeqT%` to datatyp ()
        15. because cannot downcast `SeqT%` to datatyp ()
        16. because cannot downcast `SeqT%` to objtyp ()
        17. because cannot downcast `SeqT%` to objtyp ()
        18. because cannot downcast `SeqT%` to objtyp ()
        19. because cannot downcast `SeqT%` to objtyp ()
        20. because cannot downcast `SeqT%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because application of rule Type_alpha/seqt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:130.7-130.17)
            1. because application of rule Type_alpha/basetyp failed (../../../../spec/2c5-runtime-type-alpha.watsup:130.7-130.17)
              - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
            2. because cannot downcast `FBitT%` to abstyp ()
            3. because cannot downcast `FBitT%` to abstyp ()
            4. because cannot downcast `FBitT%` to abstyp ()
            5. because cannot downcast `FBitT%` to aliastyp ()
            6. because cannot downcast `FBitT%` to aliastyp ()
            7. because cannot downcast `FBitT%` to datatyp ()
            8. because cannot downcast `FBitT%` to datatyp ()
            9. because cannot downcast `FBitT%` to datatyp ()
            10. because cannot downcast `FBitT%` to datatyp ()
            11. because cannot downcast `FBitT%` to datatyp ()
            12. because cannot downcast `FBitT%` to datatyp ()
            13. because cannot downcast `FBitT%` to datatyp ()
            14. because cannot downcast `FBitT%` to datatyp ()
            15. because cannot downcast `FBitT%` to datatyp ()
            16. because cannot downcast `FBitT%` to objtyp ()
            17. because cannot downcast `FBitT%` to objtyp ()
            18. because cannot downcast `FBitT%` to objtyp ()
            19. because cannot downcast `FBitT%` to objtyp ()
            20. because cannot downcast `FBitT%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:130.7-130.17)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `FBitT%` to synthtyp ()
            23. because cannot downcast `FBitT%` to synthtyp ()
            24. because cannot downcast `FBitT%` to synthtyp ()
            25. because cannot downcast `FBitT%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:130.7-130.17)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `FBitT%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:130.7-130.17)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `FBitT%` to synthtyp ()
            30. because cannot downcast `FBitT%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:130.7-130.17)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
        24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
        30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    2. because cannot downcast `SeqT%` to numtyp ()
    3. because cannot downcast `SeqT%` to numtyp ()
    4. because cannot downcast `SeqT%` to datatyp ()
    5. because cannot downcast `SeqT%` to datatyp ()
    6. because cannot downcast `SeqT%` to datatyp ()
    7. because cannot downcast `SeqT%` to datatyp ()
    8. because cannot downcast `SeqT%` to datatyp ()
    9. because cannot downcast `SeqT%` to datatyp ()
    10. because application of rule Sub_impl_canon/seqt-seqt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:214.7-214.15)
        - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:214.7-214.15)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `FBitT%` to datatyp ()
            21. because cannot downcast `FBitT%` to datatyp ()
    11. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    12. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
    14. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    15. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    16. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    17. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    18. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    19. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    20. because cannot downcast `SeqT%` to datatyp ()
    21. because cannot downcast `SeqT%` to datatyp ()
- because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
  - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
    1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
        1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
        2. because cannot downcast `SeqT%` to abstyp ()
        3. because cannot downcast `SeqT%` to abstyp ()
        4. because cannot downcast `SeqT%` to abstyp ()
        5. because cannot downcast `SeqT%` to aliastyp ()
        6. because cannot downcast `FBitT%` to aliastyp ()
        7. because cannot downcast `SeqT%` to datatyp ()
        8. because cannot downcast `SeqT%` to datatyp ()
        9. because cannot downcast `SeqT%` to datatyp ()
        10. because cannot downcast `SeqT%` to datatyp ()
        11. because cannot downcast `SeqT%` to datatyp ()
        12. because cannot downcast `SeqT%` to datatyp ()
        13. because cannot downcast `SeqT%` to datatyp ()
        14. because cannot downcast `SeqT%` to datatyp ()
        15. because cannot downcast `SeqT%` to datatyp ()
        16. because cannot downcast `SeqT%` to objtyp ()
        17. because cannot downcast `SeqT%` to objtyp ()
        18. because cannot downcast `SeqT%` to objtyp ()
        19. because cannot downcast `SeqT%` to objtyp ()
        20. because cannot downcast `SeqT%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because cannot downcast `FBitT%` to synthtyp ()
        23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
        24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
        30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
    3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
    4. because cannot downcast `SeqT%` to datatyp ()
    5. because cannot downcast `FBitT%` to datatyp ()
    6. because cannot downcast `FBitT%` to datatyp ()
    7. because cannot downcast `FBitT%` to datatyp ()
    8. because cannot downcast `FBitT%` to datatyp ()
    9. because cannot downcast `FBitT%` to datatyp ()
    10. because cannot downcast `FBitT%` to synthtyp ()
    11. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    12. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
    14. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    15. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    16. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    17. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
    18. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    19. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
    20. because cannot downcast `FBitT%` to datatyp ()
    21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2021.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2021.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
    28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
        1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (ctk = `DYN`_ctk()) was not met ()
                3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
                4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
                5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
                9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
                10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
        2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
          - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2033.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2033.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
    26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
        1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
          - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
        2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
          - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
            1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `DefaultP%` ()
            2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `DefaultP%` ()
            3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `DefaultP%` ()
            4. because application of rule Table_prop_ok/defaultp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
              - because invocation of relation Table_default_ok failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
                - because application of rule Table_default_ok/ failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
                  - because cannot assign a none value into ?((pt*{pt <- pt*}, argIL_a*{argIL_a <- argIL_a*})) (../../../../spec/4g-typing-decl.watsup:1154.9-1154.24)
            5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `DefaultP%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2036-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2036-1.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_p) failed (../../../../spec/4h-typing-call.watsup:7.20-7.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4h-typing-call.watsup:7.20-7.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
      3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
          1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `TupleT%` to abstyp ()
          3. because cannot downcast `TupleT%` to abstyp ()
          4. because cannot downcast `TupleT%` to abstyp ()
          5. because cannot downcast `TupleT%` to aliastyp ()
          6. because cannot downcast `StructT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          16. because cannot downcast `TupleT%` to objtyp ()
          17. because cannot downcast `TupleT%` to objtyp ()
          18. because cannot downcast `TupleT%` to objtyp ()
          19. because cannot downcast `TupleT%` to objtyp ()
          20. because cannot downcast `TupleT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `TupleT%` to synthtyp ()
          23. because cannot downcast `TupleT%` to synthtyp ()
          24. because cannot downcast `TupleT%` to synthtyp ()
          25. because cannot downcast `TupleT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `TupleT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `TupleT%` to synthtyp ()
          30. because cannot downcast `TupleT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
          1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `TupleT%` to abstyp ()
          3. because cannot downcast `TupleT%` to abstyp ()
          4. because cannot downcast `TupleT%` to abstyp ()
          5. because cannot downcast `TupleT%` to aliastyp ()
          6. because cannot downcast `StructT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          16. because cannot downcast `TupleT%` to objtyp ()
          17. because cannot downcast `TupleT%` to objtyp ()
          18. because cannot downcast `TupleT%` to objtyp ()
          19. because cannot downcast `TupleT%` to objtyp ()
          20. because cannot downcast `TupleT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `TupleT%` to synthtyp ()
          23. because cannot downcast `TupleT%` to synthtyp ()
          24. because cannot downcast `TupleT%` to synthtyp ()
          25. because cannot downcast `TupleT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `TupleT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `TupleT%` to synthtyp ()
          30. because cannot downcast `TupleT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      5. because cannot downcast `SpecT%%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SpecT%%` to datatyp ()
      8. because cannot downcast `SpecT%%` to datatyp ()
      9. because cannot downcast `SpecT%%` to datatyp ()
      10. because cannot downcast `SpecT%%` to datatyp ()
      11. because cannot downcast `SpecT%%` to datatyp ()
      12. because cannot downcast `SpecT%%` to datatyp ()
      13. because cannot downcast `SpecT%%` to datatyp ()
      14. because cannot downcast `SpecT%%` to datatyp ()
      15. because cannot downcast `SpecT%%` to datatyp ()
      16. because cannot downcast `SpecT%%` to objtyp ()
      17. because cannot downcast `SpecT%%` to objtyp ()
      18. because cannot downcast `SpecT%%` to objtyp ()
      19. because cannot downcast `SpecT%%` to objtyp ()
      20. because cannot downcast `SpecT%%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because cannot downcast `SpecT%%` to synthtyp ()
      24. because cannot downcast `SpecT%%` to synthtyp ()
      25. because cannot downcast `SpecT%%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `SpecT%%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `SpecT%%` to synthtyp ()
      30. because cannot downcast `SpecT%%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4h-typing-call.watsup:7.20-7.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `TupleT%` to abstyp ()
              3. because cannot downcast `TupleT%` to abstyp ()
              4. because cannot downcast `TupleT%` to abstyp ()
              5. because cannot downcast `TupleT%` to aliastyp ()
              6. because cannot downcast `StructT%%` to aliastyp ()
              7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
              8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
              9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
              10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
              11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
              12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
              13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              16. because cannot downcast `TupleT%` to objtyp ()
              17. because cannot downcast `TupleT%` to objtyp ()
              18. because cannot downcast `TupleT%` to objtyp ()
              19. because cannot downcast `TupleT%` to objtyp ()
              20. because cannot downcast `TupleT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `TupleT%` to synthtyp ()
              23. because cannot downcast `TupleT%` to synthtyp ()
              24. because cannot downcast `TupleT%` to synthtyp ()
              25. because cannot downcast `TupleT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `TupleT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `TupleT%` to synthtyp ()
              30. because cannot downcast `TupleT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `StructT%%` to numtyp ()
          3. because cannot downcast `StructT%%` to numtyp ()
          4. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_a, _(member, val)*) expected but got `TupleT%` ()
          5. because cannot downcast `TupleT%` to synthtyp ()
          6. because cannot downcast `TupleT%` to synthtyp ()
          7. because cannot downcast `TupleT%` to synthtyp ()
          8. because cannot downcast `TupleT%` to synthtyp ()
          9. because cannot downcast `TupleT%` to synthtyp ()
          10. because cannot downcast `TupleT%` to synthtyp ()
          11. because cannot downcast `TupleT%` to synthtyp ()
          12. because cannot downcast `TupleT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `TupleT%` to synthtyp ()
          15. because cannot downcast `TupleT%` to synthtyp ()
          16. because cannot downcast `TupleT%` to synthtyp ()
          17. because cannot downcast `TupleT%` to synthtyp ()
          18. because cannot downcast `TupleT%` to synthtyp ()
          19. because cannot downcast `TupleT%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `StructT%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `StructT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2036-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2036-2.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
  - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
    1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
      - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
        1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `IN`_dir()) was not met ()
        2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
            3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to abstyp ()
                5. because cannot downcast `TupleT%` to aliastyp ()
                6. because cannot downcast `StructT%%` to aliastyp ()
                7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
                8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
                9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
                10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
                11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
                12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
                13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because cannot downcast `TupleT%` to objtyp ()
                20. because cannot downcast `TupleT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because cannot downcast `TupleT%` to synthtyp ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `TupleT%` to synthtyp ()
                30. because cannot downcast `TupleT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to abstyp ()
                5. because cannot downcast `TupleT%` to aliastyp ()
                6. because cannot downcast `StructT%%` to aliastyp ()
                7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
                8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
                9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
                10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
                11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
                12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
                13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because cannot downcast `TupleT%` to objtyp ()
                20. because cannot downcast `TupleT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because cannot downcast `TupleT%` to synthtyp ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `TupleT%` to synthtyp ()
                30. because cannot downcast `TupleT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            5. because cannot downcast `SpecT%%` to aliastyp ()
            6. because cannot downcast `SpecT%%` to aliastyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to datatyp ()
            15. because cannot downcast `SpecT%%` to datatyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because cannot downcast `SpecT%%` to objtyp ()
            20. because cannot downcast `SpecT%%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because cannot downcast `SpecT%%` to synthtyp ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `SpecT%%` to synthtyp ()
            30. because cannot downcast `SpecT%%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (actctxt = `ACT`_actctxt()) was not met ()
        4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `NO`_dir()) was not met ()
    2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
    3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
    4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
      - because condition (argIL = `AnyA`_argIL()) was not met ()
3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
  - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
    1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
      - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
        1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `IN`_dir()) was not met ()
        2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
            3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to abstyp ()
                5. because cannot downcast `TupleT%` to aliastyp ()
                6. because cannot downcast `StructT%%` to aliastyp ()
                7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
                8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
                9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
                10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
                11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
                12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
                13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because cannot downcast `TupleT%` to objtyp ()
                20. because cannot downcast `TupleT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because cannot downcast `TupleT%` to synthtyp ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `TupleT%` to synthtyp ()
                30. because cannot downcast `TupleT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to abstyp ()
                5. because cannot downcast `TupleT%` to aliastyp ()
                6. because cannot downcast `StructT%%` to aliastyp ()
                7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
                8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
                9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
                10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
                11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
                12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
                13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because cannot downcast `TupleT%` to objtyp ()
                20. because cannot downcast `TupleT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because cannot downcast `TupleT%` to synthtyp ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `TupleT%` to synthtyp ()
                30. because cannot downcast `TupleT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            5. because cannot downcast `SpecT%%` to aliastyp ()
            6. because cannot downcast `SpecT%%` to aliastyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to datatyp ()
            15. because cannot downcast `SpecT%%` to datatyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because cannot downcast `SpecT%%` to objtyp ()
            20. because cannot downcast `SpecT%%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because cannot downcast `SpecT%%` to synthtyp ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `SpecT%%` to synthtyp ()
            30. because cannot downcast `SpecT%%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (actctxt = `ACT`_actctxt()) was not met ()
        4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `NO`_dir()) was not met ()
    2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
    3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
    4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
      - because condition (argIL = `AnyA`_argIL()) was not met ()
4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2036.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2036.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_p) failed (../../../../spec/4h-typing-call.watsup:7.20-7.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4h-typing-call.watsup:7.20-7.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
      3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
          1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `TupleT%` to abstyp ()
          3. because cannot downcast `TupleT%` to abstyp ()
          4. because cannot downcast `TupleT%` to abstyp ()
          5. because cannot downcast `TupleT%` to aliastyp ()
          6. because cannot downcast `StructT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          16. because cannot downcast `TupleT%` to objtyp ()
          17. because cannot downcast `TupleT%` to objtyp ()
          18. because cannot downcast `TupleT%` to objtyp ()
          19. because cannot downcast `TupleT%` to objtyp ()
          20. because cannot downcast `TupleT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `TupleT%` to synthtyp ()
          23. because cannot downcast `TupleT%` to synthtyp ()
          24. because cannot downcast `TupleT%` to synthtyp ()
          25. because cannot downcast `TupleT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `TupleT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `TupleT%` to synthtyp ()
          30. because cannot downcast `TupleT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
          1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `TupleT%` to abstyp ()
          3. because cannot downcast `TupleT%` to abstyp ()
          4. because cannot downcast `TupleT%` to abstyp ()
          5. because cannot downcast `TupleT%` to aliastyp ()
          6. because cannot downcast `StructT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          16. because cannot downcast `TupleT%` to objtyp ()
          17. because cannot downcast `TupleT%` to objtyp ()
          18. because cannot downcast `TupleT%` to objtyp ()
          19. because cannot downcast `TupleT%` to objtyp ()
          20. because cannot downcast `TupleT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `TupleT%` to synthtyp ()
          23. because cannot downcast `TupleT%` to synthtyp ()
          24. because cannot downcast `TupleT%` to synthtyp ()
          25. because cannot downcast `TupleT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `TupleT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `TupleT%` to synthtyp ()
          30. because cannot downcast `TupleT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      5. because cannot downcast `SpecT%%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SpecT%%` to datatyp ()
      8. because cannot downcast `SpecT%%` to datatyp ()
      9. because cannot downcast `SpecT%%` to datatyp ()
      10. because cannot downcast `SpecT%%` to datatyp ()
      11. because cannot downcast `SpecT%%` to datatyp ()
      12. because cannot downcast `SpecT%%` to datatyp ()
      13. because cannot downcast `SpecT%%` to datatyp ()
      14. because cannot downcast `SpecT%%` to datatyp ()
      15. because cannot downcast `SpecT%%` to datatyp ()
      16. because cannot downcast `SpecT%%` to objtyp ()
      17. because cannot downcast `SpecT%%` to objtyp ()
      18. because cannot downcast `SpecT%%` to objtyp ()
      19. because cannot downcast `SpecT%%` to objtyp ()
      20. because cannot downcast `SpecT%%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because cannot downcast `SpecT%%` to synthtyp ()
      24. because cannot downcast `SpecT%%` to synthtyp ()
      25. because cannot downcast `SpecT%%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `SpecT%%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `SpecT%%` to synthtyp ()
      30. because cannot downcast `SpecT%%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4h-typing-call.watsup:7.20-7.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `TupleT%` to abstyp ()
              3. because cannot downcast `TupleT%` to abstyp ()
              4. because cannot downcast `TupleT%` to abstyp ()
              5. because cannot downcast `TupleT%` to aliastyp ()
              6. because cannot downcast `StructT%%` to aliastyp ()
              7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
              8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
              9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
              10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
              11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `StructT%%` ()
              12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
              13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              16. because cannot downcast `TupleT%` to objtyp ()
              17. because cannot downcast `TupleT%` to objtyp ()
              18. because cannot downcast `TupleT%` to objtyp ()
              19. because cannot downcast `TupleT%` to objtyp ()
              20. because cannot downcast `TupleT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `TupleT%` to synthtyp ()
              23. because cannot downcast `TupleT%` to synthtyp ()
              24. because cannot downcast `TupleT%` to synthtyp ()
              25. because cannot downcast `TupleT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `TupleT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `TupleT%` to synthtyp ()
              30. because cannot downcast `TupleT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `StructT%%` to numtyp ()
          3. because cannot downcast `StructT%%` to numtyp ()
          4. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_a, _(member, val)*) expected but got `TupleT%` ()
          5. because cannot downcast `TupleT%` to synthtyp ()
          6. because cannot downcast `TupleT%` to synthtyp ()
          7. because cannot downcast `TupleT%` to synthtyp ()
          8. because cannot downcast `TupleT%` to synthtyp ()
          9. because cannot downcast `TupleT%` to synthtyp ()
          10. because cannot downcast `TupleT%` to synthtyp ()
          11. because cannot downcast `TupleT%` to synthtyp ()
          12. because cannot downcast `TupleT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `TupleT%` to synthtyp ()
          15. because cannot downcast `TupleT%` to synthtyp ()
          16. because cannot downcast `TupleT%` to synthtyp ()
          17. because cannot downcast `TupleT%` to synthtyp ()
          18. because cannot downcast `TupleT%` to synthtyp ()
          19. because cannot downcast `TupleT%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `StructT%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `StructT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2220.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2220.p4
interp error: tracing backtrack logs:
1. because cannot downcast `RecordT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
2. because cannot downcast `RecordT%` to abstyp ()
3. because cannot downcast `RecordT%` to abstyp ()
4. because cannot downcast `RecordT%` to abstyp ()
5. because cannot downcast `RecordT%` to aliastyp ()
6. because cannot downcast `SpecT%%` to aliastyp ()
7. because cannot downcast `RecordT%` to datatyp ()
8. because cannot downcast `RecordT%` to datatyp ()
9. because cannot downcast `RecordT%` to datatyp ()
10. because cannot downcast `RecordT%` to datatyp ()
11. because cannot downcast `RecordT%` to datatyp ()
12. because cannot downcast `RecordT%` to datatyp ()
13. because cannot downcast `RecordT%` to datatyp ()
14. because cannot downcast `RecordT%` to datatyp ()
15. because cannot downcast `RecordT%` to datatyp ()
16. because cannot downcast `RecordT%` to objtyp ()
17. because cannot downcast `RecordT%` to objtyp ()
18. because cannot downcast `RecordT%` to objtyp ()
19. because cannot downcast `RecordT%` to objtyp ()
20. because cannot downcast `RecordT%` to objtyp ()
21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
22. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
24. because cannot downcast `SpecT%%` to synthtyp ()
25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `RecordT%` ()
26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `RecordT%` ()
28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `RecordT%` ()
30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `RecordT%` ()
31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
- because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
  - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
    1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
        1. because cannot downcast `RecordT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
        2. because cannot downcast `RecordT%` to abstyp ()
        3. because cannot downcast `RecordT%` to abstyp ()
        4. because cannot downcast `RecordT%` to abstyp ()
        5. because cannot downcast `RecordT%` to aliastyp ()
        6. because cannot downcast `StructT%%` to aliastyp ()
        7. because cannot downcast `RecordT%` to datatyp ()
        8. because cannot downcast `RecordT%` to datatyp ()
        9. because cannot downcast `RecordT%` to datatyp ()
        10. because cannot downcast `RecordT%` to datatyp ()
        11. because cannot downcast `RecordT%` to datatyp ()
        12. because cannot downcast `RecordT%` to datatyp ()
        13. because cannot downcast `RecordT%` to datatyp ()
        14. because cannot downcast `RecordT%` to datatyp ()
        15. because cannot downcast `RecordT%` to datatyp ()
        16. because cannot downcast `RecordT%` to objtyp ()
        17. because cannot downcast `RecordT%` to objtyp ()
        18. because cannot downcast `RecordT%` to objtyp ()
        19. because cannot downcast `RecordT%` to objtyp ()
        20. because cannot downcast `RecordT%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
        23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
        24. because cannot downcast `StructT%%` to synthtyp ()
        25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `RecordT%` ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `RecordT%` ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `RecordT%` ()
        30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `RecordT%` ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    2. because cannot downcast `StructT%%` to numtyp ()
    3. because cannot downcast `StructT%%` to numtyp ()
    4. because cannot downcast `RecordT%` to datatyp ()
    5. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    6. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    7. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    8. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    9. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    10. because mismatch in case expression: `SeqT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    11. because application of rule Sub_impl_canon/recordt-structt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:220.7-220.15)
        - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:220.7-220.15)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `SEnumT%%%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `SEnumT%%%` to numtyp ()
            3. because cannot downcast `SEnumT%%%` to numtyp ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()
            21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()
    12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member_b, typ_b)*{member_b <- member_b*, typ_b <- typ_b*}) expected but got `StructT%%` ()
    13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
      - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
    14. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    15. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    16. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    17. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `RecordT%` ()
    18. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `RecordT%` ()
    19. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `RecordT%` ()
    20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `StructT%%` ()
    21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `StructT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2230-1-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2230-1-bmv2.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
12. because application of rule Call_ok/control-apply-methodt failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
  - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:645.7-645.29)
    1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:645.7-645.29)
      - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
        1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `IN`_dir()) was not met ()
        2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
            3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `HeaderT%%` to abstyp ()
                3. because cannot downcast `HeaderT%%` to abstyp ()
                4. because cannot downcast `HeaderT%%` to abstyp ()
                5. because cannot downcast `HeaderT%%` to aliastyp ()
                6. because cannot downcast `HeaderT%%` to aliastyp ()
                7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `HeaderT%%` ()
                8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `HeaderT%%` ()
                9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `HeaderT%%` ()
                10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `HeaderT%%` ()
                11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `HeaderT%%` ()
                12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `HeaderT%%` ()
                13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
                14. because application of rule Type_alpha/headert failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (id = id') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:85.45-85.47)
                15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
                16. because cannot downcast `HeaderT%%` to objtyp ()
                17. because cannot downcast `HeaderT%%` to objtyp ()
                18. because cannot downcast `HeaderT%%` to objtyp ()
                19. because cannot downcast `HeaderT%%` to objtyp ()
                20. because cannot downcast `HeaderT%%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `HeaderT%%` to synthtyp ()
                23. because cannot downcast `HeaderT%%` to synthtyp ()
                24. because cannot downcast `HeaderT%%` to synthtyp ()
                25. because cannot downcast `HeaderT%%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `HeaderT%%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `HeaderT%%` to synthtyp ()
                30. because cannot downcast `HeaderT%%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `HeaderT%%` to abstyp ()
                3. because cannot downcast `HeaderT%%` to abstyp ()
                4. because cannot downcast `HeaderT%%` to abstyp ()
                5. because cannot downcast `HeaderT%%` to aliastyp ()
                6. because cannot downcast `HeaderT%%` to aliastyp ()
                7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `HeaderT%%` ()
                8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `HeaderT%%` ()
                9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `HeaderT%%` ()
                10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `HeaderT%%` ()
                11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `HeaderT%%` ()
                12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `HeaderT%%` ()
                13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
                14. because application of rule Type_alpha/headert failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (id = id') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:85.45-85.47)
                15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
                16. because cannot downcast `HeaderT%%` to objtyp ()
                17. because cannot downcast `HeaderT%%` to objtyp ()
                18. because cannot downcast `HeaderT%%` to objtyp ()
                19. because cannot downcast `HeaderT%%` to objtyp ()
                20. because cannot downcast `HeaderT%%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `HeaderT%%` to synthtyp ()
                23. because cannot downcast `HeaderT%%` to synthtyp ()
                24. because cannot downcast `HeaderT%%` to synthtyp ()
                25. because cannot downcast `HeaderT%%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `HeaderT%%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `HeaderT%%` to synthtyp ()
                30. because cannot downcast `HeaderT%%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            5. because cannot downcast `SpecT%%` to aliastyp ()
            6. because cannot downcast `SpecT%%` to aliastyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to datatyp ()
            15. because cannot downcast `SpecT%%` to datatyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because cannot downcast `SpecT%%` to objtyp ()
            20. because cannot downcast `SpecT%%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because cannot downcast `SpecT%%` to synthtyp ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `SpecT%%` to synthtyp ()
            30. because cannot downcast `SpecT%%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:12.6-12.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (actctxt = `ACT`_actctxt()) was not met ()
        4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `NO`_dir()) was not met ()
    2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
    3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
    4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:645.7-645.29)
      - because condition (argIL = `AnyA`_argIL()) was not met ()
13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ControlApplyMethodT%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2230.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2230.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL_r, typ_l) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
      3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
          1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `HeaderT%%` to abstyp ()
          3. because cannot downcast `HeaderT%%` to abstyp ()
          4. because cannot downcast `HeaderT%%` to abstyp ()
          5. because cannot downcast `HeaderT%%` to aliastyp ()
          6. because cannot downcast `HeaderT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `HeaderT%%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `HeaderT%%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `HeaderT%%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `HeaderT%%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `HeaderT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `HeaderT%%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
          14. because application of rule Type_alpha/headert failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (id = id') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:85.45-85.47)
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
          16. because cannot downcast `HeaderT%%` to objtyp ()
          17. because cannot downcast `HeaderT%%` to objtyp ()
          18. because cannot downcast `HeaderT%%` to objtyp ()
          19. because cannot downcast `HeaderT%%` to objtyp ()
          20. because cannot downcast `HeaderT%%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `HeaderT%%` to synthtyp ()
          23. because cannot downcast `HeaderT%%` to synthtyp ()
          24. because cannot downcast `HeaderT%%` to synthtyp ()
          25. because cannot downcast `HeaderT%%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `HeaderT%%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `HeaderT%%` to synthtyp ()
          30. because cannot downcast `HeaderT%%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
          1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `HeaderT%%` to abstyp ()
          3. because cannot downcast `HeaderT%%` to abstyp ()
          4. because cannot downcast `HeaderT%%` to abstyp ()
          5. because cannot downcast `HeaderT%%` to aliastyp ()
          6. because cannot downcast `HeaderT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `HeaderT%%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `HeaderT%%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `HeaderT%%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `HeaderT%%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `HeaderT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `HeaderT%%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
          14. because application of rule Type_alpha/headert failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (id = id') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:85.45-85.47)
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
          16. because cannot downcast `HeaderT%%` to objtyp ()
          17. because cannot downcast `HeaderT%%` to objtyp ()
          18. because cannot downcast `HeaderT%%` to objtyp ()
          19. because cannot downcast `HeaderT%%` to objtyp ()
          20. because cannot downcast `HeaderT%%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `HeaderT%%` to synthtyp ()
          23. because cannot downcast `HeaderT%%` to synthtyp ()
          24. because cannot downcast `HeaderT%%` to synthtyp ()
          25. because cannot downcast `HeaderT%%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `HeaderT%%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `HeaderT%%` to synthtyp ()
          30. because cannot downcast `HeaderT%%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      5. because cannot downcast `SpecT%%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SpecT%%` to datatyp ()
      8. because cannot downcast `SpecT%%` to datatyp ()
      9. because cannot downcast `SpecT%%` to datatyp ()
      10. because cannot downcast `SpecT%%` to datatyp ()
      11. because cannot downcast `SpecT%%` to datatyp ()
      12. because cannot downcast `SpecT%%` to datatyp ()
      13. because cannot downcast `SpecT%%` to datatyp ()
      14. because cannot downcast `SpecT%%` to datatyp ()
      15. because cannot downcast `SpecT%%` to datatyp ()
      16. because cannot downcast `SpecT%%` to objtyp ()
      17. because cannot downcast `SpecT%%` to objtyp ()
      18. because cannot downcast `SpecT%%` to objtyp ()
      19. because cannot downcast `SpecT%%` to objtyp ()
      20. because cannot downcast `SpecT%%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because cannot downcast `SpecT%%` to synthtyp ()
      24. because cannot downcast `SpecT%%` to synthtyp ()
      25. because cannot downcast `SpecT%%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `SpecT%%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `SpecT%%` to synthtyp ()
      30. because cannot downcast `SpecT%%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `HeaderT%%` to abstyp ()
              3. because cannot downcast `HeaderT%%` to abstyp ()
              4. because cannot downcast `HeaderT%%` to abstyp ()
              5. because cannot downcast `HeaderT%%` to aliastyp ()
              6. because cannot downcast `HeaderT%%` to aliastyp ()
              7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `HeaderT%%` ()
              8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `HeaderT%%` ()
              9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `HeaderT%%` ()
              10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `HeaderT%%` ()
              11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `HeaderT%%` ()
              12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `HeaderT%%` ()
              13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
              14. because application of rule Type_alpha/headert failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (id = id') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:85.45-85.47)
              15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `HeaderT%%` ()
              16. because cannot downcast `HeaderT%%` to objtyp ()
              17. because cannot downcast `HeaderT%%` to objtyp ()
              18. because cannot downcast `HeaderT%%` to objtyp ()
              19. because cannot downcast `HeaderT%%` to objtyp ()
              20. because cannot downcast `HeaderT%%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `HeaderT%%` to synthtyp ()
              23. because cannot downcast `HeaderT%%` to synthtyp ()
              24. because cannot downcast `HeaderT%%` to synthtyp ()
              25. because cannot downcast `HeaderT%%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `HeaderT%%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `HeaderT%%` to synthtyp ()
              30. because cannot downcast `HeaderT%%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `HeaderT%%` to numtyp ()
          3. because cannot downcast `HeaderT%%` to numtyp ()
          4. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_a, _(member, val)*) expected but got `HeaderT%%` ()
          5. because cannot downcast `HeaderT%%` to synthtyp ()
          6. because cannot downcast `HeaderT%%` to synthtyp ()
          7. because cannot downcast `HeaderT%%` to synthtyp ()
          8. because cannot downcast `HeaderT%%` to synthtyp ()
          9. because cannot downcast `HeaderT%%` to synthtyp ()
          10. because cannot downcast `HeaderT%%` to synthtyp ()
          11. because cannot downcast `HeaderT%%` to synthtyp ()
          12. because cannot downcast `HeaderT%%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `HeaderT%%` to synthtyp ()
          15. because cannot downcast `HeaderT%%` to synthtyp ()
          16. because cannot downcast `HeaderT%%` to synthtyp ()
          17. because cannot downcast `HeaderT%%` to synthtyp ()
          18. because cannot downcast `HeaderT%%` to synthtyp ()
          19. because cannot downcast `HeaderT%%` to synthtyp ()
          20. because application of rule Sub_impl_canon/invalidt-headert failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `HeaderT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2267.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2267.p4
interp error: tracing backtrack logs:
- because invocation of function $add_styp(`BLOCK`_cursor(), C_2, id, `%%%%`_styp(typ, `NO`_dir(), `DYN`_ctk(), ?())) failed (../../../../spec/4g-typing-decl.watsup:1281.16-1281.25)
  1. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:1281.16-1281.25)
    - because condition (cursor = `GLOBAL`_cursor()) was not met ()
  2. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:1281.16-1281.25)
    - because condition ~ $in_set<id>(id, $dom_map<id, styp>(C.BLOCK.FRAME)) was not met (../../../../spec/4a1-typing-context.watsup:154.9-154.60)
  3. because application of clause add_styp(cursor, C, id, styp) failed (../../../../spec/4g-typing-decl.watsup:1281.16-1281.25)
    - because condition (cursor = `LOCAL`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2290.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2290.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `HeaderD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `HeaderD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `HeaderD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `HeaderD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `HeaderD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `HeaderD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `HeaderD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `HeaderD%%%` ()
        9. because application of rule Decl_ok/headerd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:247.6-247.16)
            1. because cannot downcast `PolyD%->%` to monotypdef ()
            2. because application of rule TypeDef_wf/polyd failed (../../../../spec/4g-typing-decl.watsup:247.6-247.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `HeaderT%%` to abstyp ()
                3. because cannot downcast `HeaderT%%` to abstyp ()
                4. because cannot downcast `HeaderT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `HeaderT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `HeaderT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `HeaderT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `HeaderT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `HeaderT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `HeaderT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                12. because application of rule Type_wf/headert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition $nestable_headert(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:196.9-196.31)
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                14. because cannot downcast `HeaderT%%` to objtyp ()
                15. because cannot downcast `HeaderT%%` to objtyp ()
                16. because cannot downcast `HeaderT%%` to objtyp ()
                17. because cannot downcast `HeaderT%%` to objtyp ()
                18. because cannot downcast `HeaderT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `HeaderT%%` to synthtyp ()
                21. because cannot downcast `HeaderT%%` to synthtyp ()
                22. because cannot downcast `HeaderT%%` to synthtyp ()
                23. because cannot downcast `HeaderT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `HeaderT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `HeaderT%%` to synthtyp ()
                28. because cannot downcast `HeaderT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `HeaderD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `HeaderD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `HeaderD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `HeaderD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `HeaderD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `HeaderD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `HeaderD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `HeaderD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `HeaderD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `HeaderD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `HeaderD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `HeaderD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `HeaderD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2317.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2317.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `IfS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
        5. because application of rule Stmt_ok/ifs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
            1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BinE%%%` ()
            2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BinE%%%` ()
            3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BinE%%%` ()
            4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BinE%%%` ()
            5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BinE%%%` ()
            6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BinE%%%` ()
            7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
            8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
            9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
            10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
            11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition (expr = `DefaultE`_expr()) was not met ()
            12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition (expr = `InvalidE`_expr()) was not met ()
            13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
            14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
            15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
            16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
            17. because application of rule Expr_ok/bine-plus-minus-mult failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`PLUS`_binop(), `MINUS`_binop(), `MUL`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:166.9-166.58)
            18. because application of rule Expr_ok/bine-sat-plus-minus failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SPLUS`_binop(), `SMINUS`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:191.9-191.55)
            19. because application of rule Expr_ok/bine-div-mod-lctk failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:215.9-215.50)
            20. because application of rule Expr_ok/bine-div-mod-non-lctk failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:235.9-235.50)
            21. because application of rule Expr_ok/bine-shift failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SHL`_binop(), `SHR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:268.9-268.50)
            22. because application of rule Expr_ok/bine-compare-eq failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:285.6-285.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `CallFuncE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `CallFuncE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `CallFuncE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `CallFuncE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `CallFuncE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `CallFuncE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `CallFuncE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `CallFuncE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CallFuncE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CallFuncE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:285.6-285.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:285.6-285.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `CallFuncE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `CallFuncE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `CallFuncE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `CallFuncE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `CallFuncE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallFuncE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallFuncE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallFuncE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `CallFuncE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `CallFuncE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CallFuncE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CallFuncE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
                48. because application of rule Expr_ok/callfunce failed (../../../../spec/4e-typing-expr.watsup:285.6-285.13)
                  - because condition (typ =/= ((typ) `VoidT`_primtyp())) was not met (../../../../spec/4e-typing-expr.watsup:809.9-809.22)
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `CallFuncE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `CallFuncE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncE%%%` ()
            23. because application of rule Expr_ok/bine-compare failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LE`_binop(), `GE`_binop(), `LT`_binop(), `GT`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:309.9-309.56)
            24. because application of rule Expr_ok/bine-bitwise failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`BAND`_binop(), `BXOR`_binop(), `BOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:334.9-334.57)
            25. because application of rule Expr_ok/bine-concat-fint failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition (binop = `CONCAT`_binop()) was not met ()
            26. because application of rule Expr_ok/bine-concat-fbit failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition (binop = `CONCAT`_binop()) was not met ()
            27. because application of rule Expr_ok/bine-logical failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
              - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LAND`_binop(), `LOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:402.9-402.51)
            28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BinE%%%` ()
            29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BinE%%%` ()
            30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BinE%%%` ()
            31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BinE%%%` ()
            32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BinE%%%` ()
            33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
            34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
            35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
            36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `BinE%%%` ()
            37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BinE%%%` ()
            38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
            39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
            40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
            41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
            42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
            43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
            44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
            45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
            46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
            47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
            48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
            49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BinE%%%` ()
            50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
            51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BinE%%%` ()
            52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `IfS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `IfS%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `IfS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `IfS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2332.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2332.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_c) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `FBitT%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2335.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2335.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `DeclS%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `DeclS%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `DeclS%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `DeclS%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `DeclS%` ()
            14. because application of rule Stmt_ok/decls failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Decl_ok failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
                2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:67.23-67.26)
                3. because application of rule Decl_ok/vard-some failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
                  - because condition $is_assignable(typ) was not met (../../../../spec/4g-typing-decl.watsup:77.9-77.28)
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2354-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2354-1.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ActionD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ActionD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ActionD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ActionD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ActionD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ActionD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        19. because application of rule Decl_ok/actiond failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
            1. because application of rule FuncDef_wf/monofd failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                2. because application of rule FuncType_wf/actiont failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                  - because condition ((((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ $is_intt(typ')) /\ ~ $is_obj(typ')) /\ (~ $is_strt(typ') \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:424.9-426.45)
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ActionT%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            2. because cannot downcast `MonoFD%` to polyfuncdef ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ActionD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ActionD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ActionD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ActionD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ActionD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ActionD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2354.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2354.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ActionD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ActionD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ActionD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ActionD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ActionD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ActionD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        19. because application of rule Decl_ok/actiond failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
            1. because application of rule FuncDef_wf/monofd failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                2. because application of rule FuncType_wf/actiont failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                  - because condition ((((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ $is_intt(typ')) /\ ~ $is_obj(typ')) /\ (~ $is_strt(typ') \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:424.9-426.45)
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ActionT%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            2. because cannot downcast `MonoFD%` to polyfuncdef ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ActionD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ActionD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ActionD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ActionD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ActionD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ActionD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2413.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2413.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.FDENV) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2441.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2441.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2444-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2444-1.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_c) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `IntT` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `IntT` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because mismatch in case expression: `FBitT%`_numtyp(_width) expected but got `IntT` ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `IntT` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `IntT` to datatyp ()
          21. because cannot downcast `IntT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2454.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2454.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `FuncT%%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            4. because application of rule Call_ok/funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because condition (tid* = []) was not met (../../../../spec/4h-typing-call.watsup:493.7-493.10)
            5. because application of rule Call_ok/funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation FuncType_wf failed (../../../../spec/4h-typing-call.watsup:523.6-523.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `FuncT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `FuncT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `FuncT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `FuncT%%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
                7. because application of rule FuncType_wf/functiont failed (../../../../spec/4h-typing-call.watsup:523.6-523.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ $is_obj(typ')) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:472.9-474.29)
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `FuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `FuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `FuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `FuncT%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2525.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2525.p4
interp error: tracing backtrack logs:
1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
  - because condition (stmt = `EmptyS`_stmt()) was not met ()
2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `SwitchS%%` ()
3. because application of rule Stmt_ok/switchs-tbl failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
  - because invocation of relation Switch_tbl_cases_ok failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
    1. because application of rule Switch_tbl_cases_ok/empty failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
      - because condition (switchcase* = []) was not met (../../../../spec/4f-typing-stmt.watsup:79.17-79.20)
    2. because application of rule Switch_tbl_cases_ok/seq failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
      - because invocation of relation Switch_tbl_cases_ok failed (../../../../spec/4f-typing-stmt.watsup:85.6-85.25)
        1. because application of rule Switch_tbl_cases_ok/empty failed (../../../../spec/4f-typing-stmt.watsup:85.6-85.25)
          - because condition (switchcase* = []) was not met (../../../../spec/4f-typing-stmt.watsup:79.17-79.20)
        2. because application of rule Switch_tbl_cases_ok/seq failed (../../../../spec/4f-typing-stmt.watsup:85.6-85.25)
          - because invocation of relation Switch_tbl_case_ok failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
            1. because application of rule Switch_tbl_case_ok/matchc failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
              - because invocation of relation Switch_tbl_label_ok failed (../../../../spec/4f-typing-stmt.watsup:66.6-66.25)
                1. because mismatch in case expression: `ExprL%`_switchlabel(`NameE%`_expr(`CURRENT%`_name(id_a))) expected but got `DefaultL` ()
                2. because application of rule Switch_tbl_label_ok/defaultl failed (../../../../spec/4f-typing-stmt.watsup:66.6-66.25)
                  - because condition (bool = true) was not met (../../../../spec/4f-typing-stmt.watsup:57.12-57.16)
            2. because mismatch in case expression: `FallC%`_switchcase(switchlabel) expected but got `MatchC%%` ()
4. because application of rule Stmt_ok/switchs-gen failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
  - because condition (((($is_errt(typ') \/ $is_fintt(typ')) \/ $is_fbitt(typ')) \/ $is_enumt(typ')) \/ $is_senumt(typ')) was not met (../../../../spec/4f-typing-stmt.watsup:147.9-147.100)
5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `SwitchS%%` ()
6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `SwitchS%%` ()
7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
  - because condition (stmt = `ExitS`_stmt()) was not met ()
8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `SwitchS%%` ()
10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `SwitchS%%` ()
14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `SwitchS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2544_recursive.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2544_self_ref.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2544_self_ref.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2597.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue2597.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
            12. because application of rule Call_ok/control-apply-methodt failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:643.6-643.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ControlApplyMethodT%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ControlApplyMethodT%` ()
                18. because application of rule Call_site_ok/local-controlapplymethod failed (../../../../spec/4h-typing-call.watsup:643.6-643.18)
                  - because condition (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind()) was not met (../../../../spec/4h-typing-call.watsup:425.9-425.42)
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ControlApplyMethodT%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ControlApplyMethodT%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue2835-bmv2.p4
Error on typecheck: should fail

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3045-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3045-1.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            7. because application of rule Call_ok/extern-methodt-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                3. because application of rule Call_site_ok/block-externmethod failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                13. because application of rule Call_site_ok/local-externmethod-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because mismatch in case expression: `EXTERNABSTRACTMETHOD%`_lkind(typ) expected but got `FUNC%` ()
                14. because application of rule Call_site_ok/local-externmethod-else failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because condition ((((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `PARSERSTATE`_lkind())) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:403.9-406.43)
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternMethodT%%` ()
            8. because application of rule Call_ok/extern-methodt-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                3. because application of rule Call_site_ok/block-externmethod failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                13. because application of rule Call_site_ok/local-externmethod-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because mismatch in case expression: `EXTERNABSTRACTMETHOD%`_lkind(typ) expected but got `FUNC%` ()
                14. because application of rule Call_site_ok/local-externmethod-else failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because condition ((((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `PARSERSTATE`_lkind())) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:403.9-406.43)
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternMethodT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternMethodT%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3045-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3045-2.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            7. because application of rule Call_ok/extern-methodt-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                3. because application of rule Call_site_ok/block-externmethod failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                13. because application of rule Call_site_ok/local-externmethod-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because mismatch in case expression: `EXTERNABSTRACTMETHOD%`_lkind(typ) expected but got `FUNC%` ()
                14. because application of rule Call_site_ok/local-externmethod-else failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because condition ((((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `PARSERSTATE`_lkind())) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:403.9-406.43)
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternMethodT%%` ()
            8. because application of rule Call_ok/extern-methodt-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                3. because application of rule Call_site_ok/block-externmethod failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                13. because application of rule Call_site_ok/local-externmethod-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because mismatch in case expression: `EXTERNABSTRACTMETHOD%`_lkind(typ) expected but got `FUNC%` ()
                14. because application of rule Call_site_ok/local-externmethod-else failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because condition ((((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `PARSERSTATE`_lkind())) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:403.9-406.43)
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternMethodT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternMethodT%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3045.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3045.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            7. because application of rule Call_ok/extern-methodt-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                3. because application of rule Call_site_ok/block-externmethod failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                13. because application of rule Call_site_ok/local-externmethod-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because mismatch in case expression: `EXTERNABSTRACTMETHOD%`_lkind(typ) expected but got `FUNC%` ()
                14. because application of rule Call_site_ok/local-externmethod-else failed (../../../../spec/4h-typing-call.watsup:554.6-554.18)
                  - because condition ((((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `PARSERSTATE`_lkind())) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:403.9-406.43)
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternMethodT%%` ()
            8. because application of rule Call_ok/extern-methodt-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                3. because application of rule Call_site_ok/block-externmethod failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                13. because application of rule Call_site_ok/local-externmethod-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because mismatch in case expression: `EXTERNABSTRACTMETHOD%`_lkind(typ) expected but got `FUNC%` ()
                14. because application of rule Call_site_ok/local-externmethod-else failed (../../../../spec/4h-typing-call.watsup:576.6-576.18)
                  - because condition ((((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `PARSERSTATE`_lkind())) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:403.9-406.43)
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternMethodT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternMethodT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternMethodT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternMethodT%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue306.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue306.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
    3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
    4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
    11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Arg_ok failed (../../../../spec/4f-typing-stmt.watsup:227.7-227.13)
        1. because application of rule Arg_ok/expra failed (../../../../spec/4f-typing-stmt.watsup:227.7-227.13)
          - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
            1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
            2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
            3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
            4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
            5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
            6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
            7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
            8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
            9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
            10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
            11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because condition (expr = `DefaultE`_expr()) was not met ()
            12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because condition (expr = `InvalidE`_expr()) was not met ()
            13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
            14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
            15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
            16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
            17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
            28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
            29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
            30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
            31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
            32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
            33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
            34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
            35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
            36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
            37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
            38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
            39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
            40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
            41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
            42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
            43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:759.6-759.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:765.6-765.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:773.6-773.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:781.6-781.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4e-typing-expr.watsup:789.6-789.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
            50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
            52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
        2. because mismatch in case expression: `NameA%%`_arg(id, ?(expr)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_arg(id, expr?) expected but got `ExprA%` ()
        4. because application of rule Arg_ok/anya failed (../../../../spec/4f-typing-stmt.watsup:227.7-227.13)
          - because condition (arg = `AnyA`_arg()) was not met ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
    14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3153.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3153.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senum_unary(exprIL, $compatible_uplus) failed (../../../../spec/4e-typing-expr.watsup:130.21-130.40)
  1. because application of clause reduce_senum_unary(exprIL, $check_unary) failed (../../../../spec/4e-typing-expr.watsup:130.21-130.40)
    - because condition $check_unary(typ) was not met (../../../../spec/4d2-typing-subtyping.watsup:303.9-303.26)
  2. because application of clause reduce_senum_unary(exprIL, $check_unary) failed (../../../../spec/4e-typing-expr.watsup:130.21-130.40)
    - because cannot downcast `BoolT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3170-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3170-1.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TypeDefD%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TypeDefD%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TypeDefD%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TypeDefD%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TypeDefD%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TypeDefD%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TypeDefD%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TypeDefD%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TypeDefD%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TypeDefD%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TypeDefD%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TypeDefD%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TypeDefD%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TypeDefD%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TypeDefD%%` ()
        16. because application of rule Decl_ok/typedefd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:389.6-389.13)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
            2. because mismatch in case expression: `VarT%`_abstyp(tid) expected but got `SpecT%%` ()
            3. because application of rule Type_wf/spect failed (../../../../spec/4g-typing-decl.watsup:389.6-389.13)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `HeaderT%%` to abstyp ()
                3. because cannot downcast `HeaderT%%` to abstyp ()
                4. because cannot downcast `HeaderT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `HeaderT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `HeaderT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `HeaderT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `HeaderT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `HeaderT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `HeaderT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                12. because application of rule Type_wf/headert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition $nestable_headert(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:196.9-196.31)
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                14. because cannot downcast `HeaderT%%` to objtyp ()
                15. because cannot downcast `HeaderT%%` to objtyp ()
                16. because cannot downcast `HeaderT%%` to objtyp ()
                17. because cannot downcast `HeaderT%%` to objtyp ()
                18. because cannot downcast `HeaderT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `HeaderT%%` to synthtyp ()
                21. because cannot downcast `HeaderT%%` to synthtyp ()
                22. because cannot downcast `HeaderT%%` to synthtyp ()
                23. because cannot downcast `HeaderT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `HeaderT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `HeaderT%%` to synthtyp ()
                28. because cannot downcast `HeaderT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because cannot downcast `SpecT%%` to aliastyp ()
            5. because cannot downcast `SpecT%%` to datatyp ()
            6. because cannot downcast `SpecT%%` to datatyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to objtyp ()
            15. because cannot downcast `SpecT%%` to objtyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:389.6-389.13)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            20. because cannot downcast `SpecT%%` to synthtyp ()
            21. because cannot downcast `SpecT%%` to synthtyp ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:389.6-389.13)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:389.6-389.13)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because cannot downcast `SpecT%%` to synthtyp ()
            29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:389.6-389.13)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        17. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        18. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TypeDefD%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TypeDefD%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TypeDefD%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TypeDefD%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TypeDefD%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TypeDefD%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TypeDefD%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `TypeDefD%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TypeDefD%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TypeDefD%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TypeDefD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3170.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3170.p4
interp error: tracing backtrack logs:
- because cannot transpose a matrix of value batches ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3188.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3188.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because application of rule Decl_ok/constd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Expr_ok failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
        1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `CallFuncE%%%` ()
        2. because mismatch in case expression: `StrE%`_expr(t) expected but got `CallFuncE%%%` ()
        3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `CallFuncE%%%` ()
        4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `CallFuncE%%%` ()
        5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `CallFuncE%%%` ()
        6. because mismatch in case expression: `NameE%`_expr(name) expected but got `CallFuncE%%%` ()
        7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `CallFuncE%%%` ()
        8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `CallFuncE%%%` ()
        9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CallFuncE%%%` ()
        10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CallFuncE%%%` ()
        11. because application of rule Expr_ok/defaulte failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
          - because condition (expr = `DefaultE`_expr()) was not met ()
        12. because application of rule Expr_ok/invalide failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
          - because condition (expr = `InvalidE`_expr()) was not met ()
        13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
        14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
        15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
        16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallFuncE%%%` ()
        17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallFuncE%%%` ()
        28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `CallFuncE%%%` ()
        29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `CallFuncE%%%` ()
        30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `CallFuncE%%%` ()
        31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `CallFuncE%%%` ()
        32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `CallFuncE%%%` ()
        33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallFuncE%%%` ()
        34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallFuncE%%%` ()
        35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallFuncE%%%` ()
        36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `CallFuncE%%%` ()
        37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `CallFuncE%%%` ()
        38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CallFuncE%%%` ()
        39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CallFuncE%%%` ()
        40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
        41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
        42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
        43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallFuncE%%%` ()
        44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
        45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
        46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
        47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallFuncE%%%` ()
        48. because application of rule Expr_ok/callfunce failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
          - because invocation of relation Call_ok failed (../../../../spec/4e-typing-expr.watsup:808.6-808.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4e-typing-expr.watsup:808.6-808.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:466.6-466.18)
                1. because application of rule Call_site_ok/block-externfunc failed (../../../../spec/4h-typing-call.watsup:466.6-466.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternFuncT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                8. because application of rule Call_site_ok/local-externfunc-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:466.6-466.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
                9. because application of rule Call_site_ok/local-externfunc-else failed (../../../../spec/4h-typing-call.watsup:466.6-466.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternFuncT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternFuncT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternFuncT%%` ()
            3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4e-typing-expr.watsup:808.6-808.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:488.6-488.18)
                1. because application of rule Call_site_ok/block-externfunc failed (../../../../spec/4h-typing-call.watsup:488.6-488.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ExternFuncT%%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                8. because application of rule Call_site_ok/local-externfunc-externabstractmethod failed (../../../../spec/4h-typing-call.watsup:488.6-488.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
                9. because application of rule Call_site_ok/local-externfunc-else failed (../../../../spec/4h-typing-call.watsup:488.6-488.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ExternFuncT%%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternFuncT%%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ExternFuncT%%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ExternFuncT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
        49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `CallFuncE%%%` ()
        50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncE%%%` ()
        51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `CallFuncE%%%` ()
        52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncE%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ConstD%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ConstD%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ConstD%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ConstD%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ConstD%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ConstD%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ConstD%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ConstD%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ConstD%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ConstD%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ConstD%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ConstD%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ConstD%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ConstD%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ConstD%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ConstD%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ConstD%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ConstD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3197-e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3197-e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.FDENV) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3210.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3221.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3221.p4
interp error: tracing backtrack logs:
- because application of rule Sub_expl/ failed (../../../../spec/4e-typing-expr.watsup:447.6-447.14)
  - because invocation of relation Sub_expl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
    1. because application of rule Sub_expl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
        1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
        2. because cannot downcast `FBitT%` to abstyp ()
        3. because cannot downcast `FBitT%` to abstyp ()
        4. because cannot downcast `FBitT%` to abstyp ()
        5. because cannot downcast `FBitT%` to aliastyp ()
        6. because cannot downcast `NewT%%` to aliastyp ()
        7. because cannot downcast `FBitT%` to datatyp ()
        8. because cannot downcast `FBitT%` to datatyp ()
        9. because cannot downcast `FBitT%` to datatyp ()
        10. because cannot downcast `FBitT%` to datatyp ()
        11. because cannot downcast `FBitT%` to datatyp ()
        12. because cannot downcast `FBitT%` to datatyp ()
        13. because cannot downcast `FBitT%` to datatyp ()
        14. because cannot downcast `FBitT%` to datatyp ()
        15. because cannot downcast `FBitT%` to datatyp ()
        16. because cannot downcast `FBitT%` to objtyp ()
        17. because cannot downcast `FBitT%` to objtyp ()
        18. because cannot downcast `FBitT%` to objtyp ()
        19. because cannot downcast `FBitT%` to objtyp ()
        20. because cannot downcast `FBitT%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because cannot downcast `FBitT%` to synthtyp ()
        23. because cannot downcast `FBitT%` to synthtyp ()
        24. because cannot downcast `FBitT%` to synthtyp ()
        25. because cannot downcast `FBitT%` to synthtyp ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because cannot downcast `FBitT%` to synthtyp ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because cannot downcast `FBitT%` to synthtyp ()
        30. because cannot downcast `FBitT%` to synthtyp ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    2. because application of rule Sub_expl_canon/fbitt-boolt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because condition (typ = ((typ) `FBitT%`_numtyp(1))) was not met ()
    3. because application of rule Sub_expl_canon/boolt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because condition (typ = ((typ) `BoolT`_primtyp())) was not met ()
    4. because application of rule Sub_expl_canon/intt-boolt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
    5. because mismatch in case expression: `FIntT%`_numtyp(width_a) expected but got `FBitT%` ()
    6. because cannot downcast `NewT%%` to numtyp ()
    7. because cannot downcast `NewT%%` to numtyp ()
    8. because mismatch in case expression: `FIntT%`_numtyp(width_a) expected but got `FBitT%` ()
    9. because application of rule Sub_expl_canon/fbitt-intt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
    10. because mismatch in case expression: `FIntT%`_numtyp(width) expected but got `FBitT%` ()
    11. because cannot downcast `NewT%%` to numtyp ()
    12. because cannot downcast `NewT%%` to numtyp ()
    13. because cannot downcast `FBitT%` to datatyp ()
    14. because application of rule Sub_expl_canon/innert-newt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:52.6-52.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:52.6-52.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `FBitT%` to datatyp ()
            21. because cannot downcast `FBitT%` to datatyp ()
    15. because cannot downcast `FBitT%` to datatyp ()
    16. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_b, _(member, val)*) expected but got `NewT%%` ()
    17. because cannot downcast `FBitT%` to synthtyp ()
    18. because cannot downcast `FBitT%` to synthtyp ()
    19. because cannot downcast `FBitT%` to synthtyp ()
    20. because cannot downcast `FBitT%` to synthtyp ()
    21. because cannot downcast `FBitT%` to synthtyp ()
    22. because cannot downcast `FBitT%` to synthtyp ()
    23. because cannot downcast `FBitT%` to synthtyp ()
    24. because application of rule Sub_expl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
      - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
    25. because cannot downcast `FBitT%` to synthtyp ()
    26. because cannot downcast `FBitT%` to synthtyp ()
    27. because cannot downcast `FBitT%` to synthtyp ()
    28. because cannot downcast `FBitT%` to synthtyp ()
    29. because cannot downcast `FBitT%` to synthtyp ()
    30. because cannot downcast `FBitT%` to synthtyp ()
    31. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()
    32. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()
    33. because cannot downcast `FBitT%` to synthtyp ()
    34. because cannot downcast `NewT%%` to synthtyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3246.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3246.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `FuncD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `FuncD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `FuncD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `FuncD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `FuncD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `FuncD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `FuncD%%%%%` ()
20. because application of rule Decl_ok/funcd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `RetS%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `RetS%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `RetS%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `RetS%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `RetS%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because application of rule Stmt_ok/rets-some failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:199.6-199.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `CallMethodE%%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `CallMethodE%%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `CallMethodE%%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `CallMethodE%%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `CallMethodE%%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `CallMethodE%%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `CallMethodE%%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `CallMethodE%%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CallMethodE%%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CallMethodE%%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:199.6-199.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:199.6-199.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallMethodE%%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallMethodE%%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallMethodE%%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CallMethodE%%%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CallMethodE%%%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `CallMethodE%%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `CallMethodE%%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `CallMethodE%%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `CallMethodE%%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `CallMethodE%%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallMethodE%%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallMethodE%%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CallMethodE%%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `CallMethodE%%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `CallMethodE%%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CallMethodE%%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CallMethodE%%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallMethodE%%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallMethodE%%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallMethodE%%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CallMethodE%%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallMethodE%%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallMethodE%%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallMethodE%%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CallMethodE%%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodE%%%%` ()
                49. because application of rule Expr_ok/callmethode failed (../../../../spec/4f-typing-stmt.watsup:199.6-199.13)
                  - because condition (targ* = []) was not met (../../../../spec/4e-typing-expr.watsup:816.36-816.39)
                50. because application of rule Expr_ok/callmethode failed (../../../../spec/4f-typing-stmt.watsup:199.6-199.13)
                  - because condition ~ $in_set<member>(member, `SET%`_set<member>(["minSizeInBits", "minSizeInBytes", "maxSizeInBits", "maxSizeInBytes"])) was not met (../../../../spec/4e-typing-expr.watsup:825.9-825.113)
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `CallMethodE%%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodE%%%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `RetS%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `RetS%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `RetS%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `RetS%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `RetS%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:463.6-463.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `FuncD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `FuncD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `FuncD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `FuncD%%%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `FuncD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3264.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3264.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<id, styp>(C.GLOBAL.FRAME, id) failed (../../../../spec/4a1-typing-context.watsup:277.42-277.51)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:277.42-277.51)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3271-1.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3271.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3282.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3282.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
    4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
    5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
        1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because invocation of relation Arg_ok failed (../../../../spec/4h-typing-call.watsup:714.7-714.13)
            1. because application of rule Arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:714.7-714.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `InstE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `InstE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `InstE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `InstE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `InstE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `InstE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `InstE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `InstE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `InstE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `InstE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `InstE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `InstE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `InstE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `InstE%%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `InstE%%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `InstE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `InstE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `InstE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `InstE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `InstE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `InstE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `InstE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `InstE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `InstE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `InstE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `InstE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `InstE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `InstE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `InstE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `InstE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `InstE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `InstE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `InstE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `InstE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `InstE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `InstE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `InstE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `InstE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `InstE%%%` ()
                52. because application of rule Expr_ok/inste failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition $not_abstract_extern_object(typ) was not met (../../../../spec/4e-typing-expr.watsup:885.9-885.41)
            2. because mismatch in case expression: `NameA%%`_arg(id, ?(expr)) expected but got `ExprA%` ()
            3. because mismatch in case expression: `NameA%%`_arg(id, expr?) expected but got `ExprA%` ()
            4. because application of rule Arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:714.7-714.13)
              - because condition (arg = `AnyA`_arg()) was not met ()
        2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because condition (|tid_fresh*{tid_fresh <- tid_fresh*}| > 0) was not met (../../../../spec/4h-typing-call.watsup:731.9-731.25)
        3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because condition ~ ((p = `GLOBAL`_cursor()) /\ $is_packaget($canon_typ(typ_i))) was not met (../../../../spec/4h-typing-call.watsup:756.9-756.59)
        4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because condition ~ ((p = `GLOBAL`_cursor()) /\ $is_packaget($canon_typ(typ_i))) was not met (../../../../spec/4h-typing-call.watsup:773.9-773.59)
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3285.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3293.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3293.p4
interp error: tracing backtrack logs:
- because cannot transpose a matrix of value batches ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3299.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3299.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ActionD%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ActionD%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ActionD%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ActionD%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ActionD%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ActionD%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
    19. because application of rule Decl_ok/actiond failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
        1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `SwitchS%%` ()
                3. because application of rule Stmt_ok/switchs-tbl failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind()) was not met (../../../../spec/4f-typing-stmt.watsup:90.9-90.42)
                4. because application of rule Stmt_ok/switchs-gen failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind()) was not met (../../../../spec/4f-typing-stmt.watsup:142.9-142.42)
                5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `SwitchS%%` ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `SwitchS%%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `RetS%`_stmt(?())) was not met ()
                9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `SwitchS%%` ()
                10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `SwitchS%%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `SwitchS%%` ()
        2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
          - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ActionD%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ActionD%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ActionD%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ActionD%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ActionD%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ActionD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3304.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3304.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `DeclS%` ()
    3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
    4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `DeclS%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `DeclS%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `DeclS%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
    11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `DeclS%` ()
    14. because application of rule Stmt_ok/decls failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Decl_ok failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
        2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
          - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:67.23-67.26)
        3. because application of rule Decl_ok/vard-some failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
          - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:76.6-76.13)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
            2. because mismatch in case expression: `VarT%`_abstyp(tid) expected but got `SpecT%%` ()
            3. because application of rule Type_wf/spect failed (../../../../spec/4g-typing-decl.watsup:76.6-76.13)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                1. because cannot downcast `StructT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `StructT%%` to abstyp ()
                3. because cannot downcast `StructT%%` to abstyp ()
                4. because cannot downcast `StructT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `StructT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `StructT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `StructT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `StructT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `StructT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `StructT%%` ()
                11. because application of rule Type_wf/structt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition $nestable_structt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:162.9-162.31)
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StructT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StructT%%` ()
                14. because cannot downcast `StructT%%` to objtyp ()
                15. because cannot downcast `StructT%%` to objtyp ()
                16. because cannot downcast `StructT%%` to objtyp ()
                17. because cannot downcast `StructT%%` to objtyp ()
                18. because cannot downcast `StructT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `StructT%%` to synthtyp ()
                21. because cannot downcast `StructT%%` to synthtyp ()
                22. because cannot downcast `StructT%%` to synthtyp ()
                23. because cannot downcast `StructT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `StructT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `StructT%%` to synthtyp ()
                28. because cannot downcast `StructT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because cannot downcast `SpecT%%` to aliastyp ()
            5. because cannot downcast `SpecT%%` to datatyp ()
            6. because cannot downcast `SpecT%%` to datatyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to objtyp ()
            15. because cannot downcast `SpecT%%` to objtyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:76.6-76.13)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            20. because cannot downcast `SpecT%%` to synthtyp ()
            21. because cannot downcast `SpecT%%` to synthtyp ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:76.6-76.13)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:76.6-76.13)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because cannot downcast `SpecT%%` to synthtyp ()
            29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:76.6-76.13)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3305.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3305.p4
interp error: tracing backtrack logs:
- because cannot transpose a matrix of value batches ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3316.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3316.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
        1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
        2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
            1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
            2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `FuncD%%%%%` ()
            3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `FuncD%%%%%` ()
            4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `FuncD%%%%%` ()
            5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `FuncD%%%%%` ()
            6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
            7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
            8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
            9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
            10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
            11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `FuncD%%%%%` ()
            12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `FuncD%%%%%` ()
            13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
            14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
            15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
            16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
            17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
            18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
            19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `FuncD%%%%%` ()
            20. because application of rule Decl_ok/funcd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
              - because invocation of relation Param_ok failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
                1. because application of rule Param_ok/param-default failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
                  - because condition (ctk = `LCTK`_ctk()) was not met ()
                2. because application of rule Param_ok/param-nodefault failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:18.22-18.25)
            21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
            22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `FuncD%%%%%` ()
            23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
            24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
            25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `FuncD%%%%%` ()
            26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `FuncD%%%%%` ()
            27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
            28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `FuncD%%%%%` ()
            29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `FuncD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3335.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3335.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:658.6-658.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `TransS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `TransS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `TransS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `TransS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        13. because application of rule Stmt_ok/transs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
            1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `SelectE%%` ()
            2. because mismatch in case expression: `StrE%`_expr(t) expected but got `SelectE%%` ()
            3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `SelectE%%` ()
            4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `SelectE%%` ()
            5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `SelectE%%` ()
            6. because mismatch in case expression: `NameE%`_expr(name) expected but got `SelectE%%` ()
            7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `DefaultE`_expr()) was not met ()
            12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `InvalidE`_expr()) was not met ()
            13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `SelectE%%` ()
            29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `SelectE%%` ()
            30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `SelectE%%` ()
            31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `SelectE%%` ()
            32. because application of rule Expr_ok/selecte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because invocation of relation Type_wf failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                1. because cannot downcast `SetT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `SetT%` to abstyp ()
                3. because cannot downcast `SetT%` to abstyp ()
                4. because cannot downcast `SetT%` to aliastyp ()
                5. because cannot downcast `SetT%` to datatyp ()
                6. because cannot downcast `SetT%` to datatyp ()
                7. because cannot downcast `SetT%` to datatyp ()
                8. because cannot downcast `SetT%` to datatyp ()
                9. because cannot downcast `SetT%` to datatyp ()
                10. because cannot downcast `SetT%` to datatyp ()
                11. because cannot downcast `SetT%` to datatyp ()
                12. because cannot downcast `SetT%` to datatyp ()
                13. because cannot downcast `SetT%` to datatyp ()
                14. because cannot downcast `SetT%` to objtyp ()
                15. because cannot downcast `SetT%` to objtyp ()
                16. because cannot downcast `SetT%` to objtyp ()
                17. because cannot downcast `SetT%` to objtyp ()
                18. because cannot downcast `SetT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because mismatch in case expression: `SeqT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                21. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                22. because mismatch in case expression: `RecordT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                23. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because application of rule Type_wf/sett failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition $nestable_sett(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:316.9-316.28)
                26. because application of rule Type_wf/statet failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because mismatch in case expression: `TableEnumT%%`_synthtyp(_id, member*{member <- member*}) expected but got `SetT%` ()
                28. because mismatch in case expression: `TableStructT%%`_synthtyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `SelectE%%` ()
            37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `SelectE%%` ()
            38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `SelectE%%` ()
            50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `SelectE%%` ()
            52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `TransS%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:658.6-658.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3338.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3338.p4
interp error: tracing backtrack logs:
- because invocation of relation Prog_ok failed ()
  - because application of rule Prog_ok/ failed ()
    - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
      2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
          2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
          3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
          4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
          5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
          6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
          7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
          8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
          12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
          13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
          14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
          17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
          20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
          21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
          23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
          24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
            - because condition $in_set<statelabel>("start", `SET%`_set<statelabel>(statelabel*{statelabel <- statelabel*})) was not met (../../../../spec/4g-typing-decl.watsup:684.9-684.54)
          26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
          27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
          29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3345.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3345.p4
interp error: tracing backtrack logs:
1. because application of rule Select_case_keysets_ok/one-to-one failed (../../../../spec/4e-typing-expr.watsup:567.6-567.28)
  - because invocation of relation Select_case_keyset_ok failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
    1. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    2. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    3. because application of rule Select_case_keyset_ok/exprk-not-sett failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because invocation of relation Sub_impl failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `BoolT` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `BoolT` to numtyp ()
            3. because cannot downcast `BoolT` to numtyp ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `BoolT` to datatyp ()
            21. because cannot downcast `BoolT` to datatyp ()
    4. because application of rule Select_case_keyset_ok/defaultk failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because condition (keyset = `DefaultK`_keyset()) was not met ()
    5. because application of rule Select_case_keyset_ok/anyk failed (../../../../spec/4e-typing-expr.watsup:549.6-549.27)
      - because condition (keyset = `AnyK`_keyset()) was not met ()
2. because application of rule Select_case_keysets_ok/many-to-one failed (../../../../spec/4e-typing-expr.watsup:567.6-567.28)
  - because invocation of relation Select_case_keyset_ok failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
    1. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    2. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because cannot downcast `FBitT%` to synthtyp ()
    3. because application of rule Select_case_keyset_ok/exprk-not-sett failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because invocation of relation Sub_impl failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `SeqT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `SeqT%` to numtyp ()
            3. because cannot downcast `SeqT%` to numtyp ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `SeqT%` to datatyp ()
            21. because cannot downcast `SeqT%` to datatyp ()
    4. because application of rule Select_case_keyset_ok/defaultk failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because condition (keyset = `DefaultK`_keyset()) was not met ()
    5. because application of rule Select_case_keyset_ok/anyk failed (../../../../spec/4e-typing-expr.watsup:553.6-553.27)
      - because condition (keyset = `AnyK`_keyset()) was not met ()
3. because application of rule Select_case_keysets_ok/many-to-many failed (../../../../spec/4e-typing-expr.watsup:567.6-567.28)
  - because invocation of relation Select_case_keyset_ok failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
    1. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because cannot downcast `FBitT%` to synthtyp ()
    2. because application of rule Select_case_keyset_ok/exprk-sett failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because cannot downcast `FBitT%` to synthtyp ()
    3. because application of rule Select_case_keyset_ok/exprk-not-sett failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because invocation of relation Sub_impl failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
        - because application of rule Sub_impl/ failed (../../../../spec/4e-typing-expr.watsup:533.6-533.14)
          - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `BoolT` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `BoolT` to numtyp ()
            3. because cannot downcast `BoolT` to numtyp ()
            4. because cannot downcast `FBitT%` to datatyp ()
            5. because cannot downcast `FBitT%` to synthtyp ()
            6. because cannot downcast `FBitT%` to synthtyp ()
            7. because cannot downcast `FBitT%` to synthtyp ()
            8. because cannot downcast `FBitT%` to synthtyp ()
            9. because cannot downcast `FBitT%` to synthtyp ()
            10. because cannot downcast `FBitT%` to synthtyp ()
            11. because cannot downcast `FBitT%` to synthtyp ()
            12. because cannot downcast `FBitT%` to synthtyp ()
            13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            14. because cannot downcast `FBitT%` to synthtyp ()
            15. because cannot downcast `FBitT%` to synthtyp ()
            16. because cannot downcast `FBitT%` to synthtyp ()
            17. because cannot downcast `FBitT%` to synthtyp ()
            18. because cannot downcast `FBitT%` to synthtyp ()
            19. because cannot downcast `FBitT%` to synthtyp ()
            20. because cannot downcast `BoolT` to datatyp ()
            21. because cannot downcast `BoolT` to datatyp ()
    4. because application of rule Select_case_keyset_ok/defaultk failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because condition (keyset = `DefaultK`_keyset()) was not met ()
    5. because application of rule Select_case_keyset_ok/anyk failed (../../../../spec/4e-typing-expr.watsup:558.7-558.28)
      - because condition (keyset = `AnyK`_keyset()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3346.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3346.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
    25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
        1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
          - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
        2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
          - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
            1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ValueSetD%%%` ()
            2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ValueSetD%%%` ()
            3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ValueSetD%%%` ()
            4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ValueSetD%%%` ()
            5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ValueSetD%%%` ()
            6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ValueSetD%%%` ()
            7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ValueSetD%%%` ()
            8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ValueSetD%%%` ()
            9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ValueSetD%%%` ()
            10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ValueSetD%%%` ()
            11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ValueSetD%%%` ()
            12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ValueSetD%%%` ()
            13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ValueSetD%%%` ()
            14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
            15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
            16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ValueSetD%%%` ()
            17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
            18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
            19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ValueSetD%%%` ()
            20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ValueSetD%%%` ()
            21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ValueSetD%%%` ()
            22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ValueSetD%%%` ()
            23. because application of rule Decl_ok/valuesetd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
              - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:622.6-622.13)
                1. because cannot downcast `SetT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `SetT%` to abstyp ()
                3. because cannot downcast `SetT%` to abstyp ()
                4. because cannot downcast `SetT%` to aliastyp ()
                5. because cannot downcast `SetT%` to datatyp ()
                6. because cannot downcast `SetT%` to datatyp ()
                7. because cannot downcast `SetT%` to datatyp ()
                8. because cannot downcast `SetT%` to datatyp ()
                9. because cannot downcast `SetT%` to datatyp ()
                10. because cannot downcast `SetT%` to datatyp ()
                11. because cannot downcast `SetT%` to datatyp ()
                12. because cannot downcast `SetT%` to datatyp ()
                13. because cannot downcast `SetT%` to datatyp ()
                14. because cannot downcast `SetT%` to objtyp ()
                15. because cannot downcast `SetT%` to objtyp ()
                16. because cannot downcast `SetT%` to objtyp ()
                17. because cannot downcast `SetT%` to objtyp ()
                18. because cannot downcast `SetT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:622.6-622.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because mismatch in case expression: `SeqT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                21. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                22. because mismatch in case expression: `RecordT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                23. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:622.6-622.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because application of rule Type_wf/sett failed (../../../../spec/4g-typing-decl.watsup:622.6-622.13)
                  - because condition $nestable_sett(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:316.9-316.28)
                26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:622.6-622.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because mismatch in case expression: `TableEnumT%%`_synthtyp(_id, member*{member <- member*}) expected but got `SetT%` ()
                28. because mismatch in case expression: `TableStructT%%`_synthtyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:622.6-622.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ValueSetD%%%` ()
            25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ValueSetD%%%` ()
            26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ValueSetD%%%` ()
            27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ValueSetD%%%` ()
            28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ValueSetD%%%` ()
            29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ValueSetD%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3359.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3359.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
                2. because application of rule Decl_ok/vard-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:67.23-67.26)
                3. because application of rule Decl_ok/vard-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition $is_assignable(typ) was not met (../../../../spec/4g-typing-decl.watsup:77.9-77.28)
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3363.p4
Error on typecheck: should fail

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3378.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3378.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `PackageTypeD%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `PackageTypeD%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `PackageTypeD%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `PackageTypeD%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `PackageTypeD%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `PackageTypeD%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `PackageTypeD%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `PackageTypeD%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `PackageTypeD%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `PackageTypeD%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `PackageTypeD%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `PackageTypeD%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `PackageTypeD%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `PackageTypeD%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `PackageTypeD%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `PackageTypeD%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `PackageTypeD%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `PackageTypeD%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `PackageTypeD%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `PackageTypeD%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `PackageTypeD%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `PackageTypeD%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `PackageTypeD%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `PackageTypeD%%%` ()
    29. because application of rule Decl_ok/packagetyped failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation CParam_ok failed (../../../../spec/4g-typing-decl.watsup:1348.7-1348.16)
        1. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:28.22-28.26)
        2. because application of rule CParam_ok/cparam-nodefault failed (../../../../spec/4g-typing-decl.watsup:1348.7-1348.16)
          - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:43.6-43.13)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
            2. because mismatch in case expression: `VarT%`_abstyp(tid) expected but got `SpecT%%` ()
            3. because application of rule Type_wf/spect failed (../../../../spec/4g-typing-decl.watsup:43.6-43.13)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `TupleT%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `TupleT%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `TupleT%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `TupleT%` ()
                9. because application of rule Type_wf/tuplet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition $nestable_tuplet(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:128.9-128.30)
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `TupleT%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                14. because cannot downcast `TupleT%` to objtyp ()
                15. because cannot downcast `TupleT%` to objtyp ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `TupleT%` to synthtyp ()
                21. because cannot downcast `TupleT%` to synthtyp ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because cannot downcast `TupleT%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because cannot downcast `SpecT%%` to aliastyp ()
            5. because cannot downcast `SpecT%%` to datatyp ()
            6. because cannot downcast `SpecT%%` to datatyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to objtyp ()
            15. because cannot downcast `SpecT%%` to objtyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:43.6-43.13)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            20. because cannot downcast `SpecT%%` to synthtyp ()
            21. because cannot downcast `SpecT%%` to synthtyp ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:43.6-43.13)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:43.6-43.13)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because cannot downcast `SpecT%%` to synthtyp ()
            29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:43.6-43.13)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3442.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3442.p4
interp error: tracing backtrack logs:
1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
        1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
        2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
          - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
            1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `EntryP%` ()
            2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `EntryP%` ()
            3. because application of rule Table_prop_ok/entryp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
              - because invocation of relation Table_entries_ok failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
                - because application of rule Table_entries_ok/ failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
                  - because condition ((|tblctx_0.KEYS| = 0) => (|tblentry*{tblentry <- tblentry*}| = 0)) was not met (../../../../spec/4g-typing-decl.watsup:1137.9-1137.51)
            4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `EntryP%` ()
            5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `EntryP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue345.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue345.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3522.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3522.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `DeclS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `DeclS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `DeclS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `DeclS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `DeclS%` ()
        14. because application of rule Stmt_ok/decls failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Decl_ok failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
            1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
            2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
              - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:67.23-67.26)
            3. because application of rule Decl_ok/vard-some failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (((p = `BLOCK`_cursor()) /\ (C.BLOCK.KIND = `PARSER`_bkind())) \/ ((p = `LOCAL`_cursor()) /\ (C.LOCAL.KIND = `PARSERSTATE`_lkind()))) was not met (../../../../spec/4e-typing-expr.watsup:743.9-743.90)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because mismatch in case expression: `StructT%%`_datatyp(id_s, (member_s, typ_s)*{member_s <- member_s*, typ_s <- typ_s*}) expected but got `StackT%%` ()
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StackT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StackT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because cannot downcast `StackT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
            5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
            6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
            7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
            8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
            12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
            13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
            14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
            17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
            20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
            21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
            23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
            24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
            26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
            27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
            29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:437.6-437.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3534.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3534.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_r) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `SEnumT%%%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `SEnumT%%%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `SEnumT%%%` to numtyp ()
          3. because cannot downcast `SEnumT%%%` to numtyp ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3589.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3589.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `DeclS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `DeclS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `DeclS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `DeclS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `DeclS%` ()
        14. because application of rule Stmt_ok/decls failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Decl_ok failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
            1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
            2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
              - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:67.23-67.26)
            3. because application of rule Decl_ok/vard-some failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BinE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BinE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BinE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BinE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BinE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BinE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                17. because application of rule Expr_ok/bine-plus-minus-mult failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`PLUS`_binop(), `MINUS`_binop(), `MUL`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:166.9-166.58)
                18. because application of rule Expr_ok/bine-sat-plus-minus failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SPLUS`_binop(), `SMINUS`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:191.9-191.55)
                19. because application of rule Expr_ok/bine-div-mod-lctk failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:215.9-215.50)
                20. because application of rule Expr_ok/bine-div-mod-non-lctk failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:235.9-235.50)
                21. because application of rule Expr_ok/bine-shift failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SHL`_binop(), `SHR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:268.9-268.50)
                22. because application of rule Expr_ok/bine-compare-eq failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $is_equalable(typ') was not met (../../../../spec/4e-typing-expr.watsup:292.9-292.28)
                23. because application of rule Expr_ok/bine-compare failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LE`_binop(), `GE`_binop(), `LT`_binop(), `GT`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:309.9-309.56)
                24. because application of rule Expr_ok/bine-bitwise failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`BAND`_binop(), `BXOR`_binop(), `BOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:334.9-334.57)
                25. because application of rule Expr_ok/bine-concat-fint failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                26. because application of rule Expr_ok/bine-concat-fbit failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                27. because application of rule Expr_ok/bine-logical failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LAND`_binop(), `LOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:402.9-402.51)
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BinE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BinE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BinE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BinE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BinE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `BinE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BinE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BinE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BinE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
            4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
            5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
            6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
            7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
            8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
            12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
            13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
            14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
            17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
            20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
            21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
            23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
            24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
            26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
            27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
            29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3611.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3611.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `SwitchS%%` ()
    3. because application of rule Stmt_ok/switchs-tbl failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Switch_tbl_cases_ok failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
        1. because application of rule Switch_tbl_cases_ok/empty failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
          - because condition (switchcase* = []) was not met (../../../../spec/4f-typing-stmt.watsup:79.17-79.20)
        2. because application of rule Switch_tbl_cases_ok/seq failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
          - because invocation of relation Switch_tbl_case_ok failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
            1. because application of rule Switch_tbl_case_ok/matchc failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
              - because invocation of relation Switch_tbl_label_ok failed (../../../../spec/4f-typing-stmt.watsup:66.6-66.25)
                1. because mismatch in case expression: `NameE%`_expr(`CURRENT%`_name(id_a)) expected but got `NumE%` ()
                2. because application of rule Switch_tbl_label_ok/defaultl failed (../../../../spec/4f-typing-stmt.watsup:66.6-66.25)
                  - because condition (bool = true) was not met (../../../../spec/4f-typing-stmt.watsup:57.12-57.16)
            2. because mismatch in case expression: `FallC%`_switchcase(switchlabel) expected but got `MatchC%%` ()
    4. because application of rule Stmt_ok/switchs-gen failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (((($is_errt(typ') \/ $is_fintt(typ')) \/ $is_fbitt(typ')) \/ $is_enumt(typ')) \/ $is_senumt(typ')) was not met (../../../../spec/4f-typing-stmt.watsup:147.9-147.100)
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `SwitchS%%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `SwitchS%%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `SwitchS%%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `SwitchS%%` ()
    14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `SwitchS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3622.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3622.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `SwitchS%%` ()
    3. because application of rule Stmt_ok/switchs-tbl failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Switch_tbl_cases_ok failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
        1. because application of rule Switch_tbl_cases_ok/empty failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
          - because condition (switchcase* = []) was not met (../../../../spec/4f-typing-stmt.watsup:79.17-79.20)
        2. because application of rule Switch_tbl_cases_ok/seq failed (../../../../spec/4f-typing-stmt.watsup:94.6-94.25)
          - because invocation of relation Switch_tbl_case_ok failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
            1. because application of rule Switch_tbl_case_ok/matchc failed (../../../../spec/4f-typing-stmt.watsup:84.6-84.24)
              - because invocation of relation Switch_tbl_label_ok failed (../../../../spec/4f-typing-stmt.watsup:66.6-66.25)
                1. because mismatch in case expression: `NameE%`_expr(`CURRENT%`_name(id_a)) expected but got `TernE%%%` ()
                2. because application of rule Switch_tbl_label_ok/defaultl failed (../../../../spec/4f-typing-stmt.watsup:66.6-66.25)
                  - because condition (switchlabel = `DefaultL`_switchlabel()) was not met ()
            2. because mismatch in case expression: `FallC%`_switchcase(switchlabel) expected but got `MatchC%%` ()
    4. because application of rule Stmt_ok/switchs-gen failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (((($is_errt(typ') \/ $is_fintt(typ')) \/ $is_fbitt(typ')) \/ $is_enumt(typ')) \/ $is_senumt(typ')) was not met (../../../../spec/4f-typing-stmt.watsup:147.9-147.100)
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `SwitchS%%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `SwitchS%%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `SwitchS%%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SwitchS%%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `SwitchS%%` ()
    14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `SwitchS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3623-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3623-2.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_s) failed (../../../../spec/4f-typing-stmt.watsup:106.20-106.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:106.20-106.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `SEnumT%%%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:106.20-106.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `SEnumT%%%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `SEnumT%%%` to numtyp ()
          3. because cannot downcast `SEnumT%%%` to numtyp ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3623-3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3623-3.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_s) failed (../../../../spec/4f-typing-stmt.watsup:106.20-106.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:106.20-106.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `IntT` to abstyp ()
      3. because cannot downcast `IntT` to abstyp ()
      4. because cannot downcast `IntT` to abstyp ()
      5. because cannot downcast `IntT` to aliastyp ()
      6. because cannot downcast `SEnumT%%%` to aliastyp ()
      7. because cannot downcast `IntT` to datatyp ()
      8. because cannot downcast `IntT` to datatyp ()
      9. because cannot downcast `IntT` to datatyp ()
      10. because cannot downcast `IntT` to datatyp ()
      11. because cannot downcast `IntT` to datatyp ()
      12. because cannot downcast `IntT` to datatyp ()
      13. because cannot downcast `IntT` to datatyp ()
      14. because cannot downcast `IntT` to datatyp ()
      15. because cannot downcast `IntT` to datatyp ()
      16. because cannot downcast `IntT` to objtyp ()
      17. because cannot downcast `IntT` to objtyp ()
      18. because cannot downcast `IntT` to objtyp ()
      19. because cannot downcast `IntT` to objtyp ()
      20. because cannot downcast `IntT` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `IntT` to synthtyp ()
      23. because cannot downcast `IntT` to synthtyp ()
      24. because cannot downcast `IntT` to synthtyp ()
      25. because cannot downcast `IntT` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `IntT` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `IntT` to synthtyp ()
      30. because cannot downcast `IntT` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:106.20-106.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `IntT` to abstyp ()
              3. because cannot downcast `IntT` to abstyp ()
              4. because cannot downcast `IntT` to abstyp ()
              5. because cannot downcast `IntT` to aliastyp ()
              6. because cannot downcast `SEnumT%%%` to aliastyp ()
              7. because cannot downcast `IntT` to datatyp ()
              8. because cannot downcast `IntT` to datatyp ()
              9. because cannot downcast `IntT` to datatyp ()
              10. because cannot downcast `IntT` to datatyp ()
              11. because cannot downcast `IntT` to datatyp ()
              12. because cannot downcast `IntT` to datatyp ()
              13. because cannot downcast `IntT` to datatyp ()
              14. because cannot downcast `IntT` to datatyp ()
              15. because cannot downcast `IntT` to datatyp ()
              16. because cannot downcast `IntT` to objtyp ()
              17. because cannot downcast `IntT` to objtyp ()
              18. because cannot downcast `IntT` to objtyp ()
              19. because cannot downcast `IntT` to objtyp ()
              20. because cannot downcast `IntT` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `IntT` to synthtyp ()
              23. because cannot downcast `IntT` to synthtyp ()
              24. because cannot downcast `IntT` to synthtyp ()
              25. because cannot downcast `IntT` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `IntT` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `IntT` to synthtyp ()
              30. because cannot downcast `IntT` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `SEnumT%%%` to numtyp ()
          3. because cannot downcast `SEnumT%%%` to numtyp ()
          4. because cannot downcast `IntT` to datatyp ()
          5. because cannot downcast `IntT` to synthtyp ()
          6. because cannot downcast `IntT` to synthtyp ()
          7. because cannot downcast `IntT` to synthtyp ()
          8. because cannot downcast `IntT` to synthtyp ()
          9. because cannot downcast `IntT` to synthtyp ()
          10. because cannot downcast `IntT` to synthtyp ()
          11. because cannot downcast `IntT` to synthtyp ()
          12. because cannot downcast `IntT` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `IntT` to synthtyp ()
          15. because cannot downcast `IntT` to synthtyp ()
          16. because cannot downcast `IntT` to synthtyp ()
          17. because cannot downcast `IntT` to synthtyp ()
          18. because cannot downcast `IntT` to synthtyp ()
          19. because cannot downcast `IntT` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3656.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3656.p4
interp error: tracing backtrack logs:
- because invocation of function $specialize_funcdef(fd, targIL*{targIL <- targIL*}) failed (../../../../spec/4h-typing-call.watsup:47.30-47.49)
  1. because application of clause specialize_funcdef(((funcdef) `MonoFD%`_monofuncdef(ft)), typ*) failed (../../../../spec/4h-typing-call.watsup:47.30-47.49)
    - because condition (typ* = []) was not met (../../../../spec/2c3-runtime-type-subst.watsup:327.36-327.39)
  2. because cannot downcast `MonoFD%` to polyfuncdef ()
  3. because cannot downcast `MonoFD%` to polyfuncdef ()
  4. because cannot downcast `MonoFD%` to polyfuncdef ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3671-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3671-2.p4
interp error: tracing backtrack logs:
1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1238.6-1238.20)
      - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
        1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `DefaultP%` ()
        2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `DefaultP%` ()
        3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `DefaultP%` ()
        4. because application of rule Table_prop_ok/defaultp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
          - because invocation of relation Table_default_ok failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
            - because application of rule Table_default_ok/ failed (../../../../spec/4g-typing-decl.watsup:1221.6-1221.22)
              - because invocation of relation Call_default_action_ok failed (../../../../spec/4g-typing-decl.watsup:1158.6-1158.28)
                - because application of rule Call_default_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:1158.6-1158.28)
                  - because condition (argIL_a = argIL_d) was not met (../../../../spec/4g-typing-decl.watsup:993.9-993.28)
        5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `DefaultP%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3727.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3727.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
    1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
    2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
      - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
        1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `ActionP%` ()
        2. because application of rule Table_prop_ok/actionp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
          - because invocation of relation Table_actions_ok failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
            1. because application of rule Table_actions_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
              - because condition (tblaction* = []) was not met (../../../../spec/4g-typing-decl.watsup:826.17-826.20)
            2. because application of rule Table_actions_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1213.6-1213.22)
              - because invocation of relation Table_action_ok failed (../../../../spec/4g-typing-decl.watsup:830.6-830.21)
                - because application of rule Table_action_ok/ failed (../../../../spec/4g-typing-decl.watsup:830.6-830.21)
                  - because cannot downcast `PolyFD%->%` to monofuncdef ()
        3. because mismatch in case expression: `EntryP%`_tblprop(tblentryprop) expected but got `ActionP%` ()
        4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `ActionP%` ()
        5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `ActionP%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3750-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3750-1.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `FuncD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `FuncD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `FuncD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `FuncD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `FuncD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `FuncD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `FuncD%%%%%` ()
    20. because application of rule Decl_ok/funcd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Param_ok failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
        1. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:6.22-6.26)
        2. because application of rule Param_ok/param-nodefault failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
          - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
            2. because mismatch in case expression: `VarT%`_abstyp(tid) expected but got `SpecT%%` ()
            3. because application of rule Type_wf/spect failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `TupleT%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `TupleT%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `TupleT%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `TupleT%` ()
                9. because application of rule Type_wf/tuplet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition $nestable_tuplet(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:128.9-128.30)
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `TupleT%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                14. because cannot downcast `TupleT%` to objtyp ()
                15. because cannot downcast `TupleT%` to objtyp ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `TupleT%` to synthtyp ()
                21. because cannot downcast `TupleT%` to synthtyp ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because cannot downcast `TupleT%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because cannot downcast `SpecT%%` to aliastyp ()
            5. because cannot downcast `SpecT%%` to datatyp ()
            6. because cannot downcast `SpecT%%` to datatyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to objtyp ()
            15. because cannot downcast `SpecT%%` to objtyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            20. because cannot downcast `SpecT%%` to synthtyp ()
            21. because cannot downcast `SpecT%%` to synthtyp ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because cannot downcast `SpecT%%` to synthtyp ()
            29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `FuncD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `FuncD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `FuncD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `FuncD%%%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `FuncD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3750.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3750.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `FuncD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `FuncD%%%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `FuncD%%%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `FuncD%%%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `FuncD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `FuncD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `FuncD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `FuncD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `FuncD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `FuncD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `FuncD%%%%%` ()
    20. because application of rule Decl_ok/funcd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Param_ok failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
        1. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:6.22-6.26)
        2. because application of rule Param_ok/param-nodefault failed (../../../../spec/4g-typing-decl.watsup:458.7-458.15)
          - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
            2. because mismatch in case expression: `VarT%`_abstyp(tid) expected but got `SpecT%%` ()
            3. because application of rule Type_wf/spect failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `TupleT%` to abstyp ()
                3. because cannot downcast `TupleT%` to abstyp ()
                4. because cannot downcast `TupleT%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `TupleT%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `TupleT%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `TupleT%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `TupleT%` ()
                9. because application of rule Type_wf/tuplet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition $nestable_tuplet(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:128.9-128.30)
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `TupleT%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `TupleT%` ()
                14. because cannot downcast `TupleT%` to objtyp ()
                15. because cannot downcast `TupleT%` to objtyp ()
                16. because cannot downcast `TupleT%` to objtyp ()
                17. because cannot downcast `TupleT%` to objtyp ()
                18. because cannot downcast `TupleT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `TupleT%` to synthtyp ()
                21. because cannot downcast `TupleT%` to synthtyp ()
                22. because cannot downcast `TupleT%` to synthtyp ()
                23. because cannot downcast `TupleT%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `TupleT%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `TupleT%` to synthtyp ()
                28. because cannot downcast `TupleT%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because cannot downcast `SpecT%%` to aliastyp ()
            5. because cannot downcast `SpecT%%` to datatyp ()
            6. because cannot downcast `SpecT%%` to datatyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to objtyp ()
            15. because cannot downcast `SpecT%%` to objtyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            20. because cannot downcast `SpecT%%` to synthtyp ()
            21. because cannot downcast `SpecT%%` to synthtyp ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because cannot downcast `SpecT%%` to synthtyp ()
            29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:21.6-21.13)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `FuncD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `FuncD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `FuncD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `FuncD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `FuncD%%%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `FuncD%%%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `FuncD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3751.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3751.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:679.6-679.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ValueSetD%%%` ()
                2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ValueSetD%%%` ()
                3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ValueSetD%%%` ()
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ValueSetD%%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ValueSetD%%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ValueSetD%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ValueSetD%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ValueSetD%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ValueSetD%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ValueSetD%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ValueSetD%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ValueSetD%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ValueSetD%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ValueSetD%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ValueSetD%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ValueSetD%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ValueSetD%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ValueSetD%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ValueSetD%%%` ()
                23. because application of rule Decl_ok/valuesetd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition ((ctk = `CTK`_ctk()) \/ (ctk = `LCTK`_ctk())) was not met (../../../../spec/4g-typing-decl.watsup:626.9-626.32)
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ValueSetD%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ValueSetD%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ValueSetD%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ValueSetD%%%` ()
                28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ValueSetD%%%` ()
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ValueSetD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3787.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3787.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlTypeD%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlTypeD%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlTypeD%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlTypeD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlTypeD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlTypeD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlTypeD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlTypeD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlTypeD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlTypeD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlTypeD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlTypeD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlTypeD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlTypeD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlTypeD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlTypeD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlTypeD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlTypeD%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlTypeD%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlTypeD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlTypeD%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlTypeD%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlTypeD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlTypeD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlTypeD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlTypeD%%%` ()
27. because application of rule Decl_ok/controltyped failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:1298.6-1298.16)
    1. because cannot downcast `PolyD%->%` to monotypdef ()
    2. because application of rule TypeDef_wf/polyd failed (../../../../spec/4g-typing-decl.watsup:1298.6-1298.16)
      - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
        1. because cannot downcast `ControlT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
        2. because cannot downcast `ControlT%` to abstyp ()
        3. because cannot downcast `ControlT%` to abstyp ()
        4. because cannot downcast `ControlT%` to aliastyp ()
        5. because cannot downcast `ControlT%` to datatyp ()
        6. because cannot downcast `ControlT%` to datatyp ()
        7. because cannot downcast `ControlT%` to datatyp ()
        8. because cannot downcast `ControlT%` to datatyp ()
        9. because cannot downcast `ControlT%` to datatyp ()
        10. because cannot downcast `ControlT%` to datatyp ()
        11. because cannot downcast `ControlT%` to datatyp ()
        12. because cannot downcast `ControlT%` to datatyp ()
        13. because cannot downcast `ControlT%` to datatyp ()
        14. because mismatch in case expression: `ExternT%%`_objtyp(_id, fmap) expected but got `ControlT%` ()
        15. because mismatch in case expression: `ParserT%`_objtyp(pt*{pt <- pt*}) expected but got `ControlT%` ()
        16. because application of rule Type_wf/controlt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
          - because invocation of relation ParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:226.6-226.19)
            - because application of rule ParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:226.6-226.19)
              - because invocation of relation ParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                1. because application of rule ParamType_wf/none failed (../../../../spec/2c6-runtime-type-wellformed.watsup:395.7-395.19)
                  - because condition ($is_externt($canon_typ(typ)) => (dir = `NO`_dir())) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:383.9-383.51)
                2. because cannot assign a none value into ?(val) (../../../../spec/2c6-runtime-type-wellformed.watsup:386.23-386.26)
        17. because mismatch in case expression: `PackageT%`_objtyp(typ*{typ <- typ*}) expected but got `ControlT%` ()
        18. because mismatch in case expression: `TableT%%`_objtyp(_id, typ) expected but got `ControlT%` ()
        19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        20. because cannot downcast `ControlT%` to synthtyp ()
        21. because cannot downcast `ControlT%` to synthtyp ()
        22. because cannot downcast `ControlT%` to synthtyp ()
        23. because cannot downcast `ControlT%` to synthtyp ()
        24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        25. because cannot downcast `ControlT%` to synthtyp ()
        26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        27. because cannot downcast `ControlT%` to synthtyp ()
        28. because cannot downcast `ControlT%` to synthtyp ()
        29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ControlTypeD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlTypeD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3808-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3808-1.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
        1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
        2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
                2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
                3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
                28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition (tid*' = []) was not met (../../../../spec/4g-typing-decl.watsup:1315.46-1315.49)
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3808.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3808.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because condition (tid* = []) was not met (../../../../spec/4h-typing-call.watsup:456.7-456.10)
            3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation FuncType_wf failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternFuncT%%` ()
                6. because application of rule FuncType_wf/externfunctiont failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:459.9-462.29)
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3813.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3813.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.FDENV) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3814.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3814.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3846.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3846.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `IfS%%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
            5. because application of rule Stmt_ok/ifs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BinE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BinE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BinE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BinE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BinE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BinE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                17. because application of rule Expr_ok/bine-plus-minus-mult failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`PLUS`_binop(), `MINUS`_binop(), `MUL`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:166.9-166.58)
                18. because application of rule Expr_ok/bine-sat-plus-minus failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SPLUS`_binop(), `SMINUS`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:191.9-191.55)
                19. because application of rule Expr_ok/bine-div-mod-lctk failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:215.9-215.50)
                20. because application of rule Expr_ok/bine-div-mod-non-lctk failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:235.9-235.50)
                21. because application of rule Expr_ok/bine-shift failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SHL`_binop(), `SHR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:268.9-268.50)
                22. because application of rule Expr_ok/bine-compare-eq failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $is_equalable(typ') was not met (../../../../spec/4e-typing-expr.watsup:292.9-292.28)
                23. because application of rule Expr_ok/bine-compare failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LE`_binop(), `GE`_binop(), `LT`_binop(), `GT`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:309.9-309.56)
                24. because application of rule Expr_ok/bine-bitwise failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`BAND`_binop(), `BXOR`_binop(), `BOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:334.9-334.57)
                25. because application of rule Expr_ok/bine-concat-fint failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                26. because application of rule Expr_ok/bine-concat-fbit failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                27. because application of rule Expr_ok/bine-logical failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LAND`_binop(), `LOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:402.9-402.51)
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BinE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BinE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BinE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BinE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BinE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `BinE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BinE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BinE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BinE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `IfS%%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `IfS%%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `IfS%%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `IfS%%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue3847.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue3847.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `IfS%%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `IfS%%%` ()
            5. because application of rule Stmt_ok/ifs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BinE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BinE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BinE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BinE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BinE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BinE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BinE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BinE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BinE%%%` ()
                17. because application of rule Expr_ok/bine-plus-minus-mult failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`PLUS`_binop(), `MINUS`_binop(), `MUL`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:166.9-166.58)
                18. because application of rule Expr_ok/bine-sat-plus-minus failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SPLUS`_binop(), `SMINUS`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:191.9-191.55)
                19. because application of rule Expr_ok/bine-div-mod-lctk failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:215.9-215.50)
                20. because application of rule Expr_ok/bine-div-mod-non-lctk failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`DIV`_binop(), `MOD`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:235.9-235.50)
                21. because application of rule Expr_ok/bine-shift failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`SHL`_binop(), `SHR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:268.9-268.50)
                22. because application of rule Expr_ok/bine-compare-eq failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $is_equalable(typ') was not met (../../../../spec/4e-typing-expr.watsup:292.9-292.28)
                23. because application of rule Expr_ok/bine-compare failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LE`_binop(), `GE`_binop(), `LT`_binop(), `GT`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:309.9-309.56)
                24. because application of rule Expr_ok/bine-bitwise failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`BAND`_binop(), `BXOR`_binop(), `BOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:334.9-334.57)
                25. because application of rule Expr_ok/bine-concat-fint failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                26. because application of rule Expr_ok/bine-concat-fbit failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition (binop = `CONCAT`_binop()) was not met ()
                27. because application of rule Expr_ok/bine-logical failed (../../../../spec/4f-typing-stmt.watsup:158.6-158.13)
                  - because condition $in_set<binop>(binop, `SET%`_set<binop>([`LAND`_binop(), `LOR`_binop()])) was not met (../../../../spec/4e-typing-expr.watsup:402.9-402.51)
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BinE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BinE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BinE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BinE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BinE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BinE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `BinE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BinE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BinE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BinE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BinE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BinE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BinE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BinE%%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `IfS%%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `IfS%%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `IfS%%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `IfS%%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `IfS%%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue388.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue388.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
        4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
        5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
            1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
              - because condition $is_packaget($canon_typ(typ_i)) was not met (../../../../spec/4h-typing-call.watsup:711.9-711.40)
            2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
              - because condition $is_packaget($canon_typ(typ_i)) was not met (../../../../spec/4h-typing-call.watsup:729.9-729.40)
            3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
              - because invocation of relation Inst_site_ok failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                1. because application of rule Inst_site_ok/global failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                  - because condition ($is_externt(typ_i') \/ $is_packaget(typ_i')) was not met (../../../../spec/4h-typing-call.watsup:669.9-669.52)
                2. because application of rule Inst_site_ok/block-package failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                3. because application of rule Inst_site_ok/block-parser failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because application of rule Inst_site_ok/block-control failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                5. because application of rule Inst_site_ok/local-parserstate failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
                6. because application of rule Inst_site_ok/local-controlapplymethod failed (../../../../spec/4h-typing-call.watsup:767.6-767.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
            4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
              - because invocation of relation Inst_site_ok failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                1. because application of rule Inst_site_ok/global failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                  - because condition ($is_externt(typ_i') \/ $is_packaget(typ_i')) was not met (../../../../spec/4h-typing-call.watsup:669.9-669.52)
                2. because application of rule Inst_site_ok/block-package failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                3. because application of rule Inst_site_ok/block-parser failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                4. because application of rule Inst_site_ok/block-control failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                  - because condition (cursor = `BLOCK`_cursor()) was not met ()
                5. because application of rule Inst_site_ok/local-parserstate failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
                6. because application of rule Inst_site_ok/local-controlapplymethod failed (../../../../spec/4h-typing-call.watsup:791.6-791.18)
                  - because condition (cursor = `LOCAL`_cursor()) was not met ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue394.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue394.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
                2. because application of rule Decl_ok/vard-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition $is_assignable(typ) was not met (../../../../spec/4g-typing-decl.watsup:70.9-70.28)
                3. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:74.23-74.27)
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
                28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue401.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue401.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
  - because condition (expr? = ?()) was not met (../../../../spec/4g-typing-decl.watsup:67.23-67.26)
3. because application of rule Decl_ok/vard-some failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
  - because invocation of relation Expr_ok failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
    1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `CastE%%` ()
    2. because mismatch in case expression: `StrE%`_expr(t) expected but got `CastE%%` ()
    3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `CastE%%` ()
    4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `CastE%%` ()
    5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `CastE%%` ()
    6. because mismatch in case expression: `NameE%`_expr(name) expected but got `CastE%%` ()
    7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `CastE%%` ()
    8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `CastE%%` ()
    9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CastE%%` ()
    10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CastE%%` ()
    11. because application of rule Expr_ok/defaulte failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
      - because condition (expr = `DefaultE`_expr()) was not met ()
    12. because application of rule Expr_ok/invalide failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
      - because condition (expr = `InvalidE`_expr()) was not met ()
    13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `CastE%%` ()
    29. because application of rule Expr_ok/caste failed (../../../../spec/4g-typing-decl.watsup:79.6-79.13)
      - because invocation of relation Sub_expl failed (../../../../spec/4e-typing-expr.watsup:447.6-447.14)
        - because application of rule Sub_expl/ failed (../../../../spec/4e-typing-expr.watsup:447.6-447.14)
          - because invocation of relation Sub_expl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
            1. because application of rule Sub_expl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `SeqT%` to abstyp ()
                3. because cannot downcast `SeqT%` to abstyp ()
                4. because cannot downcast `SeqT%` to abstyp ()
                5. because cannot downcast `SeqT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `SeqT%` to datatyp ()
                8. because cannot downcast `SeqT%` to datatyp ()
                9. because cannot downcast `SeqT%` to datatyp ()
                10. because cannot downcast `SeqT%` to datatyp ()
                11. because cannot downcast `SeqT%` to datatyp ()
                12. because cannot downcast `SeqT%` to datatyp ()
                13. because cannot downcast `SeqT%` to datatyp ()
                14. because cannot downcast `SeqT%` to datatyp ()
                15. because cannot downcast `SeqT%` to datatyp ()
                16. because cannot downcast `SeqT%` to objtyp ()
                17. because cannot downcast `SeqT%` to objtyp ()
                18. because cannot downcast `SeqT%` to objtyp ()
                19. because cannot downcast `SeqT%` to objtyp ()
                20. because cannot downcast `SeqT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
                24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
                25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
                30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because application of rule Sub_expl_canon/fbitt-boolt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `FBitT%`_numtyp(1))) was not met ()
            3. because application of rule Sub_expl_canon/boolt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `BoolT`_primtyp())) was not met ()
            4. because application of rule Sub_expl_canon/intt-boolt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            5. because cannot downcast `SeqT%` to numtyp ()
            6. because cannot downcast `SeqT%` to numtyp ()
            7. because cannot downcast `SeqT%` to numtyp ()
            8. because cannot downcast `SeqT%` to numtyp ()
            9. because cannot downcast `SeqT%` to numtyp ()
            10. because cannot downcast `SeqT%` to numtyp ()
            11. because application of rule Sub_expl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            12. because mismatch in case expression: `FIntT%`_numtyp(width) expected but got `FBitT%` ()
            13. because cannot downcast `SeqT%` to datatyp ()
            14. because cannot downcast `FBitT%` to datatyp ()
            15. because cannot downcast `SeqT%` to datatyp ()
            16. because cannot downcast `FBitT%` to datatyp ()
            17. because cannot downcast `FBitT%` to datatyp ()
            18. because cannot downcast `FBitT%` to datatyp ()
            19. because cannot downcast `FBitT%` to datatyp ()
            20. because cannot downcast `FBitT%` to datatyp ()
            21. because cannot downcast `FBitT%` to datatyp ()
            22. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
            23. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
            24. because application of rule Sub_expl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            25. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
            26. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
            27. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
            28. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
            29. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
            30. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
            31. because cannot downcast `FBitT%` to datatyp ()
            32. because cannot downcast `FBitT%` to datatyp ()
            33. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
            34. because cannot downcast `FBitT%` to synthtyp ()
    30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `CastE%%` ()
    31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `CastE%%` ()
    32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `CastE%%` ()
    33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CastE%%` ()
    34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CastE%%` ()
    35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CastE%%` ()
    36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `CastE%%` ()
    37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `CastE%%` ()
    38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CastE%%` ()
    39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CastE%%` ()
    40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CastE%%` ()
    49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `CastE%%` ()
    50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CastE%%` ()
    51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `CastE%%` ()
    52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CastE%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue407-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue407-1.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `HeaderD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `HeaderD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `HeaderD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `HeaderD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `HeaderD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `HeaderD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `HeaderD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `HeaderD%%%` ()
        9. because application of rule Decl_ok/headerd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:247.6-247.16)
            1. because cannot downcast `PolyD%->%` to monotypdef ()
            2. because application of rule TypeDef_wf/polyd failed (../../../../spec/4g-typing-decl.watsup:247.6-247.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                1. because cannot downcast `HeaderT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `HeaderT%%` to abstyp ()
                3. because cannot downcast `HeaderT%%` to abstyp ()
                4. because cannot downcast `HeaderT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `HeaderT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `HeaderT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `HeaderT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `HeaderT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `HeaderT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `HeaderT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                12. because application of rule Type_wf/headert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition $nestable_headert(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:196.9-196.31)
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `HeaderT%%` ()
                14. because cannot downcast `HeaderT%%` to objtyp ()
                15. because cannot downcast `HeaderT%%` to objtyp ()
                16. because cannot downcast `HeaderT%%` to objtyp ()
                17. because cannot downcast `HeaderT%%` to objtyp ()
                18. because cannot downcast `HeaderT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `HeaderT%%` to synthtyp ()
                21. because cannot downcast `HeaderT%%` to synthtyp ()
                22. because cannot downcast `HeaderT%%` to synthtyp ()
                23. because cannot downcast `HeaderT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `HeaderT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `HeaderT%%` to synthtyp ()
                28. because cannot downcast `HeaderT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `HeaderD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `HeaderD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `HeaderD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `HeaderD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `HeaderD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `HeaderD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `HeaderD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `HeaderD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `HeaderD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `HeaderD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `HeaderD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `HeaderD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `HeaderD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `HeaderD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `HeaderD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue413.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue413.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because application of rule Call_ok/actiont failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:450.6-450.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                5. because application of rule Call_site_ok/local-action failed (../../../../spec/4h-typing-call.watsup:450.6-450.18)
                  - because condition (((C.LOCAL.KIND = `ACTION`_lkind()) \/ (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind())) \/ (C.LOCAL.KIND = `TABLEAPPLYMETHOD`_lkind())) was not met (../../../../spec/4h-typing-call.watsup:356.9-358.43)
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ActionT%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ActionT%` ()
                18. because mismatch in case expression: `ControlApplyMethodT%`_functyp(_paramtyp*) expected but got `ActionT%` ()
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ActionT%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ActionT%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue4136.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue4136.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BitAccE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BitAccE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BitAccE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BitAccE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BitAccE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BitAccE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BitAccE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BitAccE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BitAccE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BitAccE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BitAccE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BitAccE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BitAccE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BitAccE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BitAccE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BitAccE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BitAccE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BitAccE%%%` ()
                36. because application of rule Expr_ok/bitacce failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because cannot downcast a negative integer to natural number (../../../../spec/4e-typing-expr.watsup:690.9-690.12)
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BitAccE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BitAccE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BitAccE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BitAccE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BitAccE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BitAccE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BitAccE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BitAccE%%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue4140.p4
Error on typecheck: should fail

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue4142.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue435.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue435.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ExternObjectD%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ExternObjectD%%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ExternObjectD%%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ExternObjectD%%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ExternObjectD%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ExternObjectD%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
    22. because application of rule Decl_ok/externobjectd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Methods_ok failed (../../../../spec/4g-typing-decl.watsup:609.6-609.16)
        1. because application of rule Methods_ok/nil failed (../../../../spec/4g-typing-decl.watsup:609.6-609.16)
          - because condition (method* = []) was not met (../../../../spec/4g-typing-decl.watsup:585.13-585.16)
        2. because application of rule Methods_ok/cons failed (../../../../spec/4g-typing-decl.watsup:609.6-609.16)
          - because invocation of relation Methods_ok failed (../../../../spec/4g-typing-decl.watsup:590.6-590.16)
            1. because application of rule Methods_ok/nil failed (../../../../spec/4g-typing-decl.watsup:590.6-590.16)
              - because condition (method* = []) was not met (../../../../spec/4g-typing-decl.watsup:585.13-585.16)
            2. because application of rule Methods_ok/cons failed (../../../../spec/4g-typing-decl.watsup:590.6-590.16)
              - because invocation of relation Method_ok failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
                1. because application of rule Method_ok/externconsm failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
                  - because condition (id_e = id) was not met (../../../../spec/4g-typing-decl.watsup:519.25-519.29)
                2. because mismatch in case expression: `ExternAbstractM%%%%`_method(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternConsM%%` ()
                3. because mismatch in case expression: `ExternM%%%%`_method(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternConsM%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ExternObjectD%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ExternObjectD%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ExternObjectD%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ExternObjectD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue561-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue561-1.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because cannot downcast `SeqT%` to abstyp ()
      3. because cannot downcast `SeqT%` to abstyp ()
      4. because cannot downcast `SeqT%` to abstyp ()
      5. because cannot downcast `SeqT%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SeqT%` to datatyp ()
      8. because cannot downcast `SeqT%` to datatyp ()
      9. because cannot downcast `SeqT%` to datatyp ()
      10. because cannot downcast `SeqT%` to datatyp ()
      11. because cannot downcast `SeqT%` to datatyp ()
      12. because cannot downcast `SeqT%` to datatyp ()
      13. because cannot downcast `SeqT%` to datatyp ()
      14. because cannot downcast `SeqT%` to datatyp ()
      15. because cannot downcast `SeqT%` to datatyp ()
      16. because cannot downcast `SeqT%` to objtyp ()
      17. because cannot downcast `SeqT%` to objtyp ()
      18. because cannot downcast `SeqT%` to objtyp ()
      19. because cannot downcast `SeqT%` to objtyp ()
      20. because cannot downcast `SeqT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
      24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
      25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
      30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `SeqT%` to abstyp ()
              3. because cannot downcast `SeqT%` to abstyp ()
              4. because cannot downcast `SeqT%` to abstyp ()
              5. because cannot downcast `SeqT%` to aliastyp ()
              6. because cannot downcast `UnionT%%` to aliastyp ()
              7. because cannot downcast `SeqT%` to datatyp ()
              8. because cannot downcast `SeqT%` to datatyp ()
              9. because cannot downcast `SeqT%` to datatyp ()
              10. because cannot downcast `SeqT%` to datatyp ()
              11. because cannot downcast `SeqT%` to datatyp ()
              12. because cannot downcast `SeqT%` to datatyp ()
              13. because cannot downcast `SeqT%` to datatyp ()
              14. because cannot downcast `SeqT%` to datatyp ()
              15. because cannot downcast `SeqT%` to datatyp ()
              16. because cannot downcast `SeqT%` to objtyp ()
              17. because cannot downcast `SeqT%` to objtyp ()
              18. because cannot downcast `SeqT%` to objtyp ()
              19. because cannot downcast `SeqT%` to objtyp ()
              20. because cannot downcast `SeqT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `UnionT%%` to synthtyp ()
              23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
              24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
              25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
              30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `UnionT%%` to numtyp ()
          3. because cannot downcast `UnionT%%` to numtyp ()
          4. because cannot downcast `SeqT%` to datatyp ()
          5. because mismatch in case expression: `ListT%`_datatyp(typ_b) expected but got `UnionT%%` ()
          6. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `UnionT%%` ()
          7. because mismatch in case expression: `StackT%%`_datatyp(typ_b, i_size) expected but got `UnionT%%` ()
          8. because mismatch in case expression: `StructT%%`_datatyp(_id, (_member, typ_b)*{_member <- _member*, typ_b <- typ_b*}) expected but got `UnionT%%` ()
          9. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (_member, typ_b)*{_member <- _member*, typ_b <- typ_b*}) expected but got `UnionT%%` ()
          10. because cannot downcast `UnionT%%` to synthtyp ()
          11. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          12. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          15. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          16. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          17. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          18. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          19. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `UnionT%%` ()
          21. because application of rule Sub_impl_canon/invalidt-uniont failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue584.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue584.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because condition (tid* = []) was not met (../../../../spec/4h-typing-call.watsup:456.7-456.10)
            3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation FuncType_wf failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternFuncT%%` ()
                6. because application of rule FuncType_wf/externfunctiont failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:459.9-462.29)
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue67.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue67.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_c) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `IntT` to abstyp ()
      3. because cannot downcast `IntT` to abstyp ()
      4. because cannot downcast `IntT` to abstyp ()
      5. because cannot downcast `IntT` to aliastyp ()
      6. because cannot downcast `BoolT` to aliastyp ()
      7. because cannot downcast `IntT` to datatyp ()
      8. because cannot downcast `IntT` to datatyp ()
      9. because cannot downcast `IntT` to datatyp ()
      10. because cannot downcast `IntT` to datatyp ()
      11. because cannot downcast `IntT` to datatyp ()
      12. because cannot downcast `IntT` to datatyp ()
      13. because cannot downcast `IntT` to datatyp ()
      14. because cannot downcast `IntT` to datatyp ()
      15. because cannot downcast `IntT` to datatyp ()
      16. because cannot downcast `IntT` to objtyp ()
      17. because cannot downcast `IntT` to objtyp ()
      18. because cannot downcast `IntT` to objtyp ()
      19. because cannot downcast `IntT` to objtyp ()
      20. because cannot downcast `IntT` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `IntT` to synthtyp ()
      23. because cannot downcast `IntT` to synthtyp ()
      24. because cannot downcast `IntT` to synthtyp ()
      25. because cannot downcast `IntT` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `IntT` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `IntT` to synthtyp ()
      30. because cannot downcast `IntT` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:56.20-56.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `IntT` to abstyp ()
              3. because cannot downcast `IntT` to abstyp ()
              4. because cannot downcast `IntT` to abstyp ()
              5. because cannot downcast `IntT` to aliastyp ()
              6. because cannot downcast `BoolT` to aliastyp ()
              7. because cannot downcast `IntT` to datatyp ()
              8. because cannot downcast `IntT` to datatyp ()
              9. because cannot downcast `IntT` to datatyp ()
              10. because cannot downcast `IntT` to datatyp ()
              11. because cannot downcast `IntT` to datatyp ()
              12. because cannot downcast `IntT` to datatyp ()
              13. because cannot downcast `IntT` to datatyp ()
              14. because cannot downcast `IntT` to datatyp ()
              15. because cannot downcast `IntT` to datatyp ()
              16. because cannot downcast `IntT` to objtyp ()
              17. because cannot downcast `IntT` to objtyp ()
              18. because cannot downcast `IntT` to objtyp ()
              19. because cannot downcast `IntT` to objtyp ()
              20. because cannot downcast `IntT` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `IntT` to synthtyp ()
              23. because cannot downcast `IntT` to synthtyp ()
              24. because cannot downcast `IntT` to synthtyp ()
              25. because cannot downcast `IntT` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `IntT` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `IntT` to synthtyp ()
              30. because cannot downcast `IntT` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `BoolT` to numtyp ()
          3. because cannot downcast `BoolT` to numtyp ()
          4. because cannot downcast `IntT` to datatyp ()
          5. because cannot downcast `IntT` to synthtyp ()
          6. because cannot downcast `IntT` to synthtyp ()
          7. because cannot downcast `IntT` to synthtyp ()
          8. because cannot downcast `IntT` to synthtyp ()
          9. because cannot downcast `IntT` to synthtyp ()
          10. because cannot downcast `IntT` to synthtyp ()
          11. because cannot downcast `IntT` to synthtyp ()
          12. because cannot downcast `IntT` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `IntT` to synthtyp ()
          15. because cannot downcast `IntT` to synthtyp ()
          16. because cannot downcast `IntT` to synthtyp ()
          17. because cannot downcast `IntT` to synthtyp ()
          18. because cannot downcast `IntT` to synthtyp ()
          19. because cannot downcast `IntT` to synthtyp ()
          20. because cannot downcast `BoolT` to datatyp ()
          21. because cannot downcast `BoolT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue764.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue764.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because condition (tid* = []) was not met (../../../../spec/4h-typing-call.watsup:456.7-456.10)
            3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation FuncType_wf failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternFuncT%%` ()
                6. because application of rule FuncType_wf/externfunctiont failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:459.9-462.29)
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue774-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue774-1.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:658.6-658.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
                1. because mismatch in case expression: `ExprA%`_argIL(exprIL) expected but got `AnyA` ()
                2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `AnyA` ()
                3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `AnyA` ()
                4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:468.7-468.29)
                  - because condition (dir = `OUT`_dir()) was not met ()
            3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
                1. because mismatch in case expression: `ExprA%`_argIL(exprIL) expected but got `AnyA` ()
                2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `AnyA` ()
                3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `AnyA` ()
                4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:490.7-490.29)
                  - because condition (dir = `OUT`_dir()) was not met ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:658.6-658.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue774-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue774-2.p4
interp error: tracing backtrack logs:
- because invocation of function $resolve_cstrs(cstr') failed (../../../../spec/4h-typing-call.watsup:330.57-330.71)
  1. because application of clause resolve_cstrs(map<tid, typ?>) failed (../../../../spec/4h-typing-call.watsup:330.57-330.71)
    - because condition (map<tid, typ?> = `MAP%`_map<tid, typ?>([])) was not met ()
  2. because application of clause resolve_cstrs(`MAP%`_map<tid, typ?>(`PAIR%%`_pair<tid, typ?>(tid_h, ?(typ_h)) :: `PAIR%%`_pair<tid, typ?>(tid_t, typ_t?{typ_t <- typ_t?})*{tid_t <- tid_t*, typ_t? <- typ_t?*})) failed (../../../../spec/4h-typing-call.watsup:330.57-330.71)
    - because condition (typ_h =/= ((typ) `AnyT`_synthtyp())) was not met (../../../../spec/4h-typing-call.watsup:323.9-323.23)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue803-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue803-1.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue807.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue807.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ExternObjectD%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ExternObjectD%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ExternObjectD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ExternObjectD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ExternObjectD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ExternObjectD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
22. because application of rule Decl_ok/externobjectd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Methods_ok failed (../../../../spec/4g-typing-decl.watsup:601.6-601.16)
    1. because application of rule Methods_ok/nil failed (../../../../spec/4g-typing-decl.watsup:601.6-601.16)
      - because condition (method* = []) was not met (../../../../spec/4g-typing-decl.watsup:585.13-585.16)
    2. because application of rule Methods_ok/cons failed (../../../../spec/4g-typing-decl.watsup:601.6-601.16)
      - because invocation of relation Method_ok failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
        1. because mismatch in case expression: `ExternConsM%%`_method(id, cparam*{cparam <- cparam*}) expected but got `ExternM%%%%` ()
        2. because mismatch in case expression: `ExternAbstractM%%%%`_method(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternM%%%%` ()
        3. because application of rule Method_ok/externm failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:575.6-575.16)
            1. because cannot downcast `PolyFD%->%` to monofuncdef ()
            2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/4g-typing-decl.watsup:575.6-575.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternMethodT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternMethodT%%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
                8. because application of rule FuncType_wf/externmethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:484.9-487.29)
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternMethodT%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ExternObjectD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ExternObjectD%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ExternObjectD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ExternObjectD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue816-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue816-1.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation ConsDef_wf failed (../../../../spec/4g-typing-decl.watsup:1332.6-1332.16)
            - because application of rule ConsDef_wf/ failed (../../../../spec/4g-typing-decl.watsup:1332.6-1332.16)
              - because invocation of relation ConsType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                1. because application of rule ConsType_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because mismatch in case expression: `ExternT%%`_objtyp(id, fmap) expected but got `ControlT%` ()
                2. because application of rule ConsType_wf/parsert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because mismatch in case expression: `ParserT%`_objtyp(_paramtyp*) expected but got `ControlT%` ()
                3. because application of rule ConsType_wf/controlt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because condition ((((~ $is_deft(typ_p') /\ ~ $is_spect(typ_p')) /\ ~ $is_parsert(typ_p')) /\ ~ $is_packaget(typ_p')) /\ ~ $is_tablet(typ_p')) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:580.9-581.82)
                4. because application of rule ConsType_wf/packaget failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because mismatch in case expression: `PackageT%`_objtyp(_typ*) expected but got `ControlT%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue816.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue816.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4f-typing-stmt.watsup:180.6-180.14)
  - because condition (blkctxt = `INIT`_blkctxt()) was not met ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4f-typing-stmt.watsup:180.6-180.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:175.6-175.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:175.6-175.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:175.6-175.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
            2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ControlApplyMethodT%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ControlApplyMethodT%` ()
            12. because application of rule Call_ok/control-apply-methodt failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
              - because invocation of relation Call_site_ok failed (../../../../spec/4h-typing-call.watsup:643.6-643.18)
                1. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                2. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                3. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                4. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                5. because mismatch in case expression: `ActionT%`_functyp(_paramtyp*) expected but got `ControlApplyMethodT%` ()
                6. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                8. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                9. because mismatch in case expression: `ExternFuncT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                10. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                11. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                12. because mismatch in case expression: `BuiltinMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                13. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                14. because mismatch in case expression: `ExternMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                15. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                16. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(_paramtyp*, _typ) expected but got `ControlApplyMethodT%` ()
                17. because mismatch in case expression: `ParserApplyMethodT%`_functyp(_paramtyp*) expected but got `ControlApplyMethodT%` ()
                18. because application of rule Call_site_ok/local-controlapplymethod failed (../../../../spec/4h-typing-call.watsup:643.6-643.18)
                  - because condition (C.LOCAL.KIND = `CONTROLAPPLYMETHOD`_lkind()) was not met (../../../../spec/4h-typing-call.watsup:425.9-425.42)
                19. because mismatch in case expression: `TableApplyMethodT%`_functyp(_typ) expected but got `ControlApplyMethodT%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ControlApplyMethodT%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue818.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue818.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ExternObjectD%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ExternObjectD%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ExternObjectD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ExternObjectD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ExternObjectD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternObjectD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ExternObjectD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ExternObjectD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternObjectD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternObjectD%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ExternObjectD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
22. because application of rule Decl_ok/externobjectd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Methods_ok failed (../../../../spec/4g-typing-decl.watsup:609.6-609.16)
    1. because application of rule Methods_ok/nil failed (../../../../spec/4g-typing-decl.watsup:609.6-609.16)
      - because condition (method* = []) was not met (../../../../spec/4g-typing-decl.watsup:585.13-585.16)
    2. because application of rule Methods_ok/cons failed (../../../../spec/4g-typing-decl.watsup:609.6-609.16)
      - because invocation of relation Method_ok failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
        1. because application of rule Method_ok/externconsm failed (../../../../spec/4g-typing-decl.watsup:589.6-589.15)
          - because invocation of relation ConsDef_wf failed (../../../../spec/4g-typing-decl.watsup:530.6-530.16)
            - because application of rule ConsDef_wf/ failed (../../../../spec/4g-typing-decl.watsup:530.6-530.16)
              - because invocation of relation ConsType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                1. because application of rule ConsType_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because condition ((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:556.9-557.52)
                2. because application of rule ConsType_wf/parsert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because mismatch in case expression: `ParserT%`_objtyp(_paramtyp*) expected but got `ExternT%%` ()
                3. because application of rule ConsType_wf/controlt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because mismatch in case expression: `ControlT%`_objtyp(_paramtyp*) expected but got `ExternT%%` ()
                4. because application of rule ConsType_wf/packaget failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
                  - because mismatch in case expression: `PackageT%`_objtyp(_typ*) expected but got `ExternT%%` ()
        2. because mismatch in case expression: `ExternAbstractM%%%%`_method(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternConsM%%` ()
        3. because mismatch in case expression: `ExternM%%%%`_method(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternConsM%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ExternObjectD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ExternObjectD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ExternObjectD%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternObjectD%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ExternObjectD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ExternObjectD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue819-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue819-1.p4
interp error: tracing backtrack logs:
- because cannot transpose a matrix of value batches ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/issue819.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/issue819.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
        1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
        2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
                2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
                3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
                28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition (tid*' = []) was not met (../../../../spec/4g-typing-decl.watsup:1315.46-1315.49)
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/list-error.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/list-error.p4
interp error: tracing backtrack logs:
1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
  - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
    1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because condition (dir = `IN`_dir()) was not met ()
    2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
    3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because condition (actctxt = `ACT`_actctxt()) was not met ()
    4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
        1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
        2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
        3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            1. because cannot downcast `ListT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because cannot downcast `ListT%` to abstyp ()
            3. because cannot downcast `ListT%` to abstyp ()
            4. because cannot downcast `ListT%` to abstyp ()
            5. because cannot downcast `ListT%` to aliastyp ()
            6. because cannot downcast `ListT%` to aliastyp ()
            7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `ListT%` ()
            8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `ListT%` ()
            9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `ListT%` ()
            10. because application of rule Type_alpha/listt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `ListT%` ()
            12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `ListT%` ()
            13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            16. because cannot downcast `ListT%` to objtyp ()
            17. because cannot downcast `ListT%` to objtyp ()
            18. because cannot downcast `ListT%` to objtyp ()
            19. because cannot downcast `ListT%` to objtyp ()
            20. because cannot downcast `ListT%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `ListT%` to synthtyp ()
            23. because cannot downcast `ListT%` to synthtyp ()
            24. because cannot downcast `ListT%` to synthtyp ()
            25. because cannot downcast `ListT%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `ListT%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `ListT%` to synthtyp ()
            30. because cannot downcast `ListT%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            1. because cannot downcast `ListT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because cannot downcast `ListT%` to abstyp ()
            3. because cannot downcast `ListT%` to abstyp ()
            4. because cannot downcast `ListT%` to abstyp ()
            5. because cannot downcast `ListT%` to aliastyp ()
            6. because cannot downcast `ListT%` to aliastyp ()
            7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `ListT%` ()
            8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `ListT%` ()
            9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `ListT%` ()
            10. because application of rule Type_alpha/listt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `ListT%` ()
            12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `ListT%` ()
            13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            16. because cannot downcast `ListT%` to objtyp ()
            17. because cannot downcast `ListT%` to objtyp ()
            18. because cannot downcast `ListT%` to objtyp ()
            19. because cannot downcast `ListT%` to objtyp ()
            20. because cannot downcast `ListT%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `ListT%` to synthtyp ()
            23. because cannot downcast `ListT%` to synthtyp ()
            24. because cannot downcast `ListT%` to synthtyp ()
            25. because cannot downcast `ListT%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `ListT%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `ListT%` to synthtyp ()
            30. because cannot downcast `ListT%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        5. because cannot downcast `SpecT%%` to aliastyp ()
        6. because cannot downcast `SpecT%%` to aliastyp ()
        7. because cannot downcast `SpecT%%` to datatyp ()
        8. because cannot downcast `SpecT%%` to datatyp ()
        9. because cannot downcast `SpecT%%` to datatyp ()
        10. because cannot downcast `SpecT%%` to datatyp ()
        11. because cannot downcast `SpecT%%` to datatyp ()
        12. because cannot downcast `SpecT%%` to datatyp ()
        13. because cannot downcast `SpecT%%` to datatyp ()
        14. because cannot downcast `SpecT%%` to datatyp ()
        15. because cannot downcast `SpecT%%` to datatyp ()
        16. because cannot downcast `SpecT%%` to objtyp ()
        17. because cannot downcast `SpecT%%` to objtyp ()
        18. because cannot downcast `SpecT%%` to objtyp ()
        19. because cannot downcast `SpecT%%` to objtyp ()
        20. because cannot downcast `SpecT%%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because cannot downcast `SpecT%%` to synthtyp ()
        23. because cannot downcast `SpecT%%` to synthtyp ()
        24. because cannot downcast `SpecT%%` to synthtyp ()
        25. because cannot downcast `SpecT%%` to synthtyp ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because cannot downcast `SpecT%%` to synthtyp ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because cannot downcast `SpecT%%` to synthtyp ()
        30. because cannot downcast `SpecT%%` to synthtyp ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
  - because condition (argIL = `AnyA`_argIL()) was not met ()
1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
  - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
    1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because condition (dir = `IN`_dir()) was not met ()
    2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
    3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because condition (actctxt = `ACT`_actctxt()) was not met ()
    4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
      - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
        1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
        2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
        3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            1. because cannot downcast `ListT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because cannot downcast `ListT%` to abstyp ()
            3. because cannot downcast `ListT%` to abstyp ()
            4. because cannot downcast `ListT%` to abstyp ()
            5. because cannot downcast `ListT%` to aliastyp ()
            6. because cannot downcast `ListT%` to aliastyp ()
            7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `ListT%` ()
            8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `ListT%` ()
            9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `ListT%` ()
            10. because application of rule Type_alpha/listt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `ListT%` ()
            12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `ListT%` ()
            13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            16. because cannot downcast `ListT%` to objtyp ()
            17. because cannot downcast `ListT%` to objtyp ()
            18. because cannot downcast `ListT%` to objtyp ()
            19. because cannot downcast `ListT%` to objtyp ()
            20. because cannot downcast `ListT%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `ListT%` to synthtyp ()
            23. because cannot downcast `ListT%` to synthtyp ()
            24. because cannot downcast `ListT%` to synthtyp ()
            25. because cannot downcast `ListT%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `ListT%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `ListT%` to synthtyp ()
            30. because cannot downcast `ListT%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            1. because cannot downcast `ListT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because cannot downcast `ListT%` to abstyp ()
            3. because cannot downcast `ListT%` to abstyp ()
            4. because cannot downcast `ListT%` to abstyp ()
            5. because cannot downcast `ListT%` to aliastyp ()
            6. because cannot downcast `ListT%` to aliastyp ()
            7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `ListT%` ()
            8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `ListT%` ()
            9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `ListT%` ()
            10. because application of rule Type_alpha/listt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FBitT%` to abstyp ()
                3. because cannot downcast `FBitT%` to abstyp ()
                4. because cannot downcast `FBitT%` to abstyp ()
                5. because cannot downcast `FBitT%` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `FBitT%` to datatyp ()
                8. because cannot downcast `FBitT%` to datatyp ()
                9. because cannot downcast `FBitT%` to datatyp ()
                10. because cannot downcast `FBitT%` to datatyp ()
                11. because cannot downcast `FBitT%` to datatyp ()
                12. because cannot downcast `FBitT%` to datatyp ()
                13. because cannot downcast `FBitT%` to datatyp ()
                14. because cannot downcast `FBitT%` to datatyp ()
                15. because cannot downcast `FBitT%` to datatyp ()
                16. because cannot downcast `FBitT%` to objtyp ()
                17. because cannot downcast `FBitT%` to objtyp ()
                18. because cannot downcast `FBitT%` to objtyp ()
                19. because cannot downcast `FBitT%` to objtyp ()
                20. because cannot downcast `FBitT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FBitT%` to synthtyp ()
                23. because cannot downcast `FBitT%` to synthtyp ()
                24. because cannot downcast `FBitT%` to synthtyp ()
                25. because cannot downcast `FBitT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FBitT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FBitT%` to synthtyp ()
                30. because cannot downcast `FBitT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:70.6-70.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `ListT%` ()
            12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `ListT%` ()
            13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `ListT%` ()
            16. because cannot downcast `ListT%` to objtyp ()
            17. because cannot downcast `ListT%` to objtyp ()
            18. because cannot downcast `ListT%` to objtyp ()
            19. because cannot downcast `ListT%` to objtyp ()
            20. because cannot downcast `ListT%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `ListT%` to synthtyp ()
            23. because cannot downcast `ListT%` to synthtyp ()
            24. because cannot downcast `ListT%` to synthtyp ()
            25. because cannot downcast `ListT%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `ListT%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `ListT%` to synthtyp ()
            30. because cannot downcast `ListT%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        5. because cannot downcast `SpecT%%` to aliastyp ()
        6. because cannot downcast `SpecT%%` to aliastyp ()
        7. because cannot downcast `SpecT%%` to datatyp ()
        8. because cannot downcast `SpecT%%` to datatyp ()
        9. because cannot downcast `SpecT%%` to datatyp ()
        10. because cannot downcast `SpecT%%` to datatyp ()
        11. because cannot downcast `SpecT%%` to datatyp ()
        12. because cannot downcast `SpecT%%` to datatyp ()
        13. because cannot downcast `SpecT%%` to datatyp ()
        14. because cannot downcast `SpecT%%` to datatyp ()
        15. because cannot downcast `SpecT%%` to datatyp ()
        16. because cannot downcast `SpecT%%` to objtyp ()
        17. because cannot downcast `SpecT%%` to objtyp ()
        18. because cannot downcast `SpecT%%` to objtyp ()
        19. because cannot downcast `SpecT%%` to objtyp ()
        20. because cannot downcast `SpecT%%` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because cannot downcast `SpecT%%` to synthtyp ()
        23. because cannot downcast `SpecT%%` to synthtyp ()
        24. because cannot downcast `SpecT%%` to synthtyp ()
        25. because cannot downcast `SpecT%%` to synthtyp ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because cannot downcast `SpecT%%` to synthtyp ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because cannot downcast `SpecT%%` to synthtyp ()
        30. because cannot downcast `SpecT%%` to synthtyp ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
  - because condition (argIL = `AnyA`_argIL()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/loop1-err.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/loop2-err.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/loop3-err.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/methodArgDontcare.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/methodArgDontcare.p4
interp error: tracing backtrack logs:
- because invocation of function $resolve_cstrs(cstr') failed (../../../../spec/4h-typing-call.watsup:330.57-330.71)
  1. because application of clause resolve_cstrs(map<tid, typ?>) failed (../../../../spec/4h-typing-call.watsup:330.57-330.71)
    - because condition (map<tid, typ?> = `MAP%`_map<tid, typ?>([])) was not met ()
  2. because cannot assign a none value into ?(typ_h) (../../../../spec/4h-typing-call.watsup:321.37-321.42)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/minWidth.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/missing_actions.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/missing_actions.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
                2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
                3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
                4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
                5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
                26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition (|$actions_of_table(tbl)| = 1) was not met (../../../../spec/4g-typing-decl.watsup:1271.9-1271.37)
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
                28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/missing_match.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/missing_match.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<id, styp>(C.GLOBAL.FRAME, id) failed (../../../../spec/4a1-typing-context.watsup:277.42-277.51)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:277.42-277.51)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/module_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/module_e.p4
interp error: tracing backtrack logs:
1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
  - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:724.7-724.29)
    1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:724.7-724.29)
      - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
        1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (dir = `IN`_dir()) was not met ()
        2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
        3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because condition (actctxt = `ACT`_actctxt()) was not met ()
        4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
          - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
            2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
            3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                1. because cannot downcast `ParserT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `ParserT%` to abstyp ()
                3. because cannot downcast `ParserT%` to abstyp ()
                4. because cannot downcast `ParserT%` to abstyp ()
                5. because cannot downcast `ParserT%` to aliastyp ()
                6. because cannot downcast `ParserT%` to aliastyp ()
                7. because cannot downcast `ParserT%` to datatyp ()
                8. because cannot downcast `ParserT%` to datatyp ()
                9. because cannot downcast `ParserT%` to datatyp ()
                10. because cannot downcast `ParserT%` to datatyp ()
                11. because cannot downcast `ParserT%` to datatyp ()
                12. because cannot downcast `ParserT%` to datatyp ()
                13. because cannot downcast `ParserT%` to datatyp ()
                14. because cannot downcast `ParserT%` to datatyp ()
                15. because cannot downcast `ParserT%` to datatyp ()
                16. because mismatch in case expression: `ExternT%%`_objtyp(id, fmap_a) expected but got `ParserT%` ()
                17. because application of rule Type_alpha/parsert failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (dir_a = dir_b) was not met (../../../../spec/2c5-runtime-type-alpha.watsup:106.9-106.24)
                18. because mismatch in case expression: `ControlT%`_objtyp(pt_a*{pt_a <- pt_a*}) expected but got `ParserT%` ()
                19. because mismatch in case expression: `PackageT%`_objtyp(typ_a*{typ_a <- typ_a*}) expected but got `ParserT%` ()
                20. because mismatch in case expression: `TableT%%`_objtyp(id, typ_a) expected but got `ParserT%` ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `ParserT%` to synthtyp ()
                23. because cannot downcast `ParserT%` to synthtyp ()
                24. because cannot downcast `ParserT%` to synthtyp ()
                25. because cannot downcast `ParserT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `ParserT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `ParserT%` to synthtyp ()
                30. because cannot downcast `ParserT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                1. because cannot downcast `ParserT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
                2. because cannot downcast `ParserT%` to abstyp ()
                3. because cannot downcast `ParserT%` to abstyp ()
                4. because cannot downcast `ParserT%` to abstyp ()
                5. because cannot downcast `ParserT%` to aliastyp ()
                6. because cannot downcast `ParserT%` to aliastyp ()
                7. because cannot downcast `ParserT%` to datatyp ()
                8. because cannot downcast `ParserT%` to datatyp ()
                9. because cannot downcast `ParserT%` to datatyp ()
                10. because cannot downcast `ParserT%` to datatyp ()
                11. because cannot downcast `ParserT%` to datatyp ()
                12. because cannot downcast `ParserT%` to datatyp ()
                13. because cannot downcast `ParserT%` to datatyp ()
                14. because cannot downcast `ParserT%` to datatyp ()
                15. because cannot downcast `ParserT%` to datatyp ()
                16. because mismatch in case expression: `ExternT%%`_objtyp(id, fmap_a) expected but got `ParserT%` ()
                17. because application of rule Type_alpha/parsert failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (dir_a = dir_b) was not met (../../../../spec/2c5-runtime-type-alpha.watsup:106.9-106.24)
                18. because mismatch in case expression: `ControlT%`_objtyp(pt_a*{pt_a <- pt_a*}) expected but got `ParserT%` ()
                19. because mismatch in case expression: `PackageT%`_objtyp(typ_a*{typ_a <- typ_a*}) expected but got `ParserT%` ()
                20. because mismatch in case expression: `TableT%%`_objtyp(id, typ_a) expected but got `ParserT%` ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `ParserT%` to synthtyp ()
                23. because cannot downcast `ParserT%` to synthtyp ()
                24. because cannot downcast `ParserT%` to synthtyp ()
                25. because cannot downcast `ParserT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `ParserT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `ParserT%` to synthtyp ()
                30. because cannot downcast `ParserT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            5. because cannot downcast `SpecT%%` to aliastyp ()
            6. because cannot downcast `SpecT%%` to aliastyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to datatyp ()
            15. because cannot downcast `SpecT%%` to datatyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because cannot downcast `SpecT%%` to objtyp ()
            20. because cannot downcast `SpecT%%` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because cannot downcast `SpecT%%` to synthtyp ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `SpecT%%` to synthtyp ()
            30. because cannot downcast `SpecT%%` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
    3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
    4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:724.7-724.29)
      - because condition (argIL = `AnyA`_argIL()) was not met ()
2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
  - because condition (|tid_fresh*{tid_fresh <- tid_fresh*}| > 0) was not met (../../../../spec/4h-typing-call.watsup:731.9-731.25)
3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
  - because condition ~ ((p = `GLOBAL`_cursor()) /\ $is_packaget($canon_typ(typ_i))) was not met (../../../../spec/4h-typing-call.watsup:756.9-756.59)
4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
  - because condition ~ ((p = `GLOBAL`_cursor()) /\ $is_packaget($canon_typ(typ_i))) was not met (../../../../spec/4h-typing-call.watsup:773.9-773.59)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/mux_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/mux_e.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `TernE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `TernE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `TernE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `TernE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `TernE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `TernE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `TernE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `TernE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `TernE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `TernE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TernE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TernE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TernE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TernE%%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TernE%%%` ()
                28. because application of rule Expr_ok/terne failed (../../../../spec/4f-typing-stmt.watsup:36.6-36.13)
                  - because condition (typ = ((typ) `BoolT`_primtyp())) was not met ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `TernE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `TernE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `TernE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `TernE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `TernE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `TernE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `TernE%%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `TernE%%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `TernE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `TernE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `TernE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TernE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TernE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TernE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TernE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TernE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TernE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TernE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TernE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TernE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `TernE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TernE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `TernE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TernE%%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/named-fail.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/named-fail.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func_opt<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.BLOCK.FDENV) failed (../../../../spec/4a1-typing-context.watsup:327.32-327.46)
  1. because application of clause find_func_opt(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:327.32-327.46)
    - because cannot assign a none value into ?(id_a') (../../../../spec/2e-runtime-env.watsup:162.18-162.23)
  2. because application of clause find_func_opt(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:327.32-327.46)
    - because cannot assign a none value into ?(id_a') (../../../../spec/2e-runtime-env.watsup:167.18-167.23)
  3. because application of clause find_func_opt(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:327.32-327.46)
    - because condition (id_a?{id_a <- id_a?} = ?()) was not met (../../../../spec/2e-runtime-env.watsup:172.9-172.22)
  4. because application of clause find_func_opt(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:327.32-327.46)
    - because condition (id_a?{id_a <- id_a?} = ?()) was not met (../../../../spec/2e-runtime-env.watsup:176.9-176.22)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/named-fail1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/named-fail1.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.FDENV) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/neg.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/neg.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senums_binary(exprIL_l', exprIL_r', $compatible_divmod) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
  1. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because condition $check_binary(typ_a, typ_b) was not met (../../../../spec/4d2-typing-subtyping.watsup:319.9-319.36)
  2. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FIntT%` to datatyp ()
  3. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:222.37-222.58)
    - because cannot downcast `FIntT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/newtype-err.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/newtype-err.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL_r, typ_l) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `DefT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because cannot downcast `DefT%` to abstyp ()
      3. because cannot downcast `DefT%` to abstyp ()
      4. because cannot downcast `DefT%` to abstyp ()
      5. because application of rule Type_alpha/deft-left failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:50.6-50.16)
          1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
          2. because cannot downcast `FBitT%` to abstyp ()
          3. because cannot downcast `FBitT%` to abstyp ()
          4. because cannot downcast `FBitT%` to abstyp ()
          5. because cannot downcast `FBitT%` to aliastyp ()
          6. because cannot downcast `NewT%%` to aliastyp ()
          7. because cannot downcast `FBitT%` to datatyp ()
          8. because cannot downcast `FBitT%` to datatyp ()
          9. because cannot downcast `FBitT%` to datatyp ()
          10. because cannot downcast `FBitT%` to datatyp ()
          11. because cannot downcast `FBitT%` to datatyp ()
          12. because cannot downcast `FBitT%` to datatyp ()
          13. because cannot downcast `FBitT%` to datatyp ()
          14. because cannot downcast `FBitT%` to datatyp ()
          15. because cannot downcast `FBitT%` to datatyp ()
          16. because cannot downcast `FBitT%` to objtyp ()
          17. because cannot downcast `FBitT%` to objtyp ()
          18. because cannot downcast `FBitT%` to objtyp ()
          19. because cannot downcast `FBitT%` to objtyp ()
          20. because cannot downcast `FBitT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:50.6-50.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `FBitT%` to synthtyp ()
          23. because cannot downcast `FBitT%` to synthtyp ()
          24. because cannot downcast `FBitT%` to synthtyp ()
          25. because cannot downcast `FBitT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:50.6-50.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `FBitT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:50.6-50.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `FBitT%` to synthtyp ()
          30. because cannot downcast `FBitT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:50.6-50.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      6. because cannot downcast `NewT%%` to aliastyp ()
      7. because cannot downcast `DefT%` to datatyp ()
      8. because cannot downcast `DefT%` to datatyp ()
      9. because cannot downcast `DefT%` to datatyp ()
      10. because cannot downcast `DefT%` to datatyp ()
      11. because cannot downcast `DefT%` to datatyp ()
      12. because cannot downcast `DefT%` to datatyp ()
      13. because cannot downcast `DefT%` to datatyp ()
      14. because cannot downcast `DefT%` to datatyp ()
      15. because cannot downcast `DefT%` to datatyp ()
      16. because cannot downcast `DefT%` to objtyp ()
      17. because cannot downcast `DefT%` to objtyp ()
      18. because cannot downcast `DefT%` to objtyp ()
      19. because cannot downcast `DefT%` to objtyp ()
      20. because cannot downcast `DefT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `DefT%` to synthtyp ()
      23. because cannot downcast `DefT%` to synthtyp ()
      24. because cannot downcast `DefT%` to synthtyp ()
      25. because cannot downcast `DefT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `DefT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `DefT%` to synthtyp ()
      30. because cannot downcast `DefT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `NewT%%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `NewT%%` to numtyp ()
          3. because cannot downcast `NewT%%` to numtyp ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/next.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/next.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
    1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (((p = `BLOCK`_cursor()) /\ (C.BLOCK.KIND = `PARSER`_bkind())) \/ ((p = `LOCAL`_cursor()) /\ (C.LOCAL.KIND = `PARSERSTATE`_lkind()))) was not met (../../../../spec/4e-typing-expr.watsup:751.9-751.90)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `StructT%%`_datatyp(id_s, (member_s, typ_s)*{member_s <- member_s*, typ_s <- typ_s*}) expected but got `StackT%%` ()
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StackT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StackT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because cannot downcast `StackT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
    2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
      - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/nostart.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/nostart.p4
interp error: tracing backtrack logs:
- because invocation of relation Prog_ok failed ()
  - because application of rule Prog_ok/ failed ()
    - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
      2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
        - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
          2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
          3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
          4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
          5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
          6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
          7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
          8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
          11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
          12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
          13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
          14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
          17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
          19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
          20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
          21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
          23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
          24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
            - because condition $in_set<statelabel>("start", `SET%`_set<statelabel>(statelabel*{statelabel <- statelabel*})) was not met (../../../../spec/4g-typing-decl.watsup:684.9-684.54)
          26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
          27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
          28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
          29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/not_bound.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/not_bound.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<funcdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.FDENV) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:325.51-325.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/p_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/package.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/package.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `PackageTypeD%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `PackageTypeD%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `PackageTypeD%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `PackageTypeD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `PackageTypeD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `PackageTypeD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `PackageTypeD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `PackageTypeD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `PackageTypeD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `PackageTypeD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `PackageTypeD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `PackageTypeD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `PackageTypeD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `PackageTypeD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `PackageTypeD%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `PackageTypeD%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `PackageTypeD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `PackageTypeD%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `PackageTypeD%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `PackageTypeD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `PackageTypeD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `PackageTypeD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `PackageTypeD%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `PackageTypeD%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `PackageTypeD%%%` ()
29. because application of rule Decl_ok/packagetyped failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation ConsDef_wf failed (../../../../spec/4g-typing-decl.watsup:1359.6-1359.16)
    - because application of rule ConsDef_wf/ failed (../../../../spec/4g-typing-decl.watsup:1359.6-1359.16)
      - because invocation of relation ConsType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
        1. because application of rule ConsType_wf/externt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
          - because invocation of relation CParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:549.6-549.20)
            - because application of rule CParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:549.6-549.20)
              - because invocation of relation CParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                - because application of rule CParamType_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                  - because condition (dir = `NO`_dir()) was not met ()
        2. because application of rule ConsType_wf/parsert failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
          - because invocation of relation CParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:561.6-561.20)
            - because application of rule CParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:561.6-561.20)
              - because invocation of relation CParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                - because application of rule CParamType_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                  - because condition (dir = `NO`_dir()) was not met ()
        3. because application of rule ConsType_wf/controlt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
          - because invocation of relation CParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:573.6-573.20)
            - because application of rule CParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:573.6-573.20)
              - because invocation of relation CParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                - because application of rule CParamType_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                  - because condition (dir = `NO`_dir()) was not met ()
        4. because application of rule ConsType_wf/packaget failed (../../../../spec/2c6-runtime-type-wellformed.watsup:610.6-610.17)
          - because invocation of relation CParamTypes_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:585.6-585.20)
            - because application of rule CParamTypes_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:585.6-585.20)
              - because invocation of relation CParamType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                - because application of rule CParamType_wf/ failed (../../../../spec/2c6-runtime-type-wellformed.watsup:541.7-541.20)
                  - because condition (dir = `NO`_dir()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/param.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/param.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ActionD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ActionD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ActionD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ActionD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ActionD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ActionD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ActionD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ActionD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ActionD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ActionD%%%` ()
        19. because application of rule Decl_ok/actiond failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
            1. because application of rule FuncDef_wf/monofd failed (../../../../spec/4g-typing-decl.watsup:441.6-441.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                2. because application of rule FuncType_wf/actiont failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                  - because condition ((((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ $is_intt(typ')) /\ ~ $is_obj(typ')) /\ (~ $is_strt(typ') \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:424.9-426.45)
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ActionT%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ActionT%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ActionT%` ()
            2. because cannot downcast `MonoFD%` to polyfuncdef ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ActionD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ActionD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ActionD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ActionD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ActionD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ActionD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ActionD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ActionD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/parser-arg.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/parser-arg.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ParserD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ParserD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ParserD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ParserD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ParserD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ParserD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ParserD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ParserD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ParserD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ParserD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ParserD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ParserD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ParserD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        25. because application of rule Decl_ok/parserd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:675.6-675.16)
            1. because application of rule FuncDef_wf/monofd failed (../../../../spec/4g-typing-decl.watsup:675.6-675.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ParserApplyMethodT%` ()
                3. because application of rule FuncType_wf/parserapplymethodt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:516.6-516.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:434.9-437.29)
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ParserApplyMethodT%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ParserApplyMethodT%` ()
                6. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ParserApplyMethodT%` ()
            2. because cannot downcast `MonoFD%` to polyfuncdef ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ParserD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ParserD%%%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ParserD%%%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ParserD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/persistent_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/persistent_e.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
    4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
    5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
        1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because condition (cursor = `GLOBAL`_cursor()) was not met ()
        2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because condition (cursor = `GLOBAL`_cursor()) was not met ()
        3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
            1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
              - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition (dir = `IN`_dir()) was not met ()
                2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
                3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition (actctxt = `ACT`_actctxt()) was not met ()
                4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition ((ctk = `LCTK`_ctk()) \/ (ctk = `CTK`_ctk())) was not met (../../../../spec/4h-typing-call.watsup:22.9-22.32)
            2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
            3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
            4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
              - because condition (argIL = `AnyA`_argIL()) was not met ()
        4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
          - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
            1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
              - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition (dir = `IN`_dir()) was not met ()
                2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
                3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition (actctxt = `ACT`_actctxt()) was not met ()
                4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition ((ctk = `LCTK`_ctk()) \/ (ctk = `CTK`_ctk())) was not met (../../../../spec/4h-typing-call.watsup:22.9-22.32)
            2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
            3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
            4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
              - because condition (argIL = `AnyA`_argIL()) was not met ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
    26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/pr2918.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/pr2918.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `TransS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `TransS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `TransS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `TransS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        13. because application of rule Stmt_ok/transs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
            1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `SelectE%%` ()
            2. because mismatch in case expression: `StrE%`_expr(t) expected but got `SelectE%%` ()
            3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `SelectE%%` ()
            4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `SelectE%%` ()
            5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `SelectE%%` ()
            6. because mismatch in case expression: `NameE%`_expr(name) expected but got `SelectE%%` ()
            7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `DefaultE`_expr()) was not met ()
            12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `InvalidE`_expr()) was not met ()
            13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `SelectE%%` ()
            29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `SelectE%%` ()
            30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `SelectE%%` ()
            31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `SelectE%%` ()
            32. because application of rule Expr_ok/selecte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because invocation of relation Type_wf failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                1. because cannot downcast `SetT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `SetT%` to abstyp ()
                3. because cannot downcast `SetT%` to abstyp ()
                4. because cannot downcast `SetT%` to aliastyp ()
                5. because cannot downcast `SetT%` to datatyp ()
                6. because cannot downcast `SetT%` to datatyp ()
                7. because cannot downcast `SetT%` to datatyp ()
                8. because cannot downcast `SetT%` to datatyp ()
                9. because cannot downcast `SetT%` to datatyp ()
                10. because cannot downcast `SetT%` to datatyp ()
                11. because cannot downcast `SetT%` to datatyp ()
                12. because cannot downcast `SetT%` to datatyp ()
                13. because cannot downcast `SetT%` to datatyp ()
                14. because cannot downcast `SetT%` to objtyp ()
                15. because cannot downcast `SetT%` to objtyp ()
                16. because cannot downcast `SetT%` to objtyp ()
                17. because cannot downcast `SetT%` to objtyp ()
                18. because cannot downcast `SetT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because mismatch in case expression: `SeqT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                21. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                22. because mismatch in case expression: `RecordT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                23. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because application of rule Type_wf/sett failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition $nestable_sett(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:316.9-316.28)
                26. because application of rule Type_wf/statet failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because mismatch in case expression: `TableEnumT%%`_synthtyp(_id, member*{member <- member*}) expected but got `SetT%` ()
                28. because mismatch in case expression: `TableStructT%%`_synthtyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `SelectE%%` ()
            37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `SelectE%%` ()
            38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `SelectE%%` ()
            50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `SelectE%%` ()
            52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `TransS%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/psa-meter2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/psa-meter2.p4
interp error: tracing backtrack logs:
1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because condition (|decl*{decl <- decl*}| > 0) was not met (../../../../spec/4g-typing-decl.watsup:154.9-154.20)
5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Inst_ok failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
    1. because application of rule Inst_ok/global-packaget-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    2. because application of rule Inst_ok/global-packaget-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because condition (cursor = `GLOBAL`_cursor()) was not met ()
    3. because application of rule Inst_ok/else-no-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `IntT` to abstyp ()
                3. because cannot downcast `IntT` to abstyp ()
                4. because cannot downcast `IntT` to abstyp ()
                5. because cannot downcast `IntT` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `IntT` to datatyp ()
                8. because cannot downcast `IntT` to datatyp ()
                9. because cannot downcast `IntT` to datatyp ()
                10. because cannot downcast `IntT` to datatyp ()
                11. because cannot downcast `IntT` to datatyp ()
                12. because cannot downcast `IntT` to datatyp ()
                13. because cannot downcast `IntT` to datatyp ()
                14. because cannot downcast `IntT` to datatyp ()
                15. because cannot downcast `IntT` to datatyp ()
                16. because cannot downcast `IntT` to objtyp ()
                17. because cannot downcast `IntT` to objtyp ()
                18. because cannot downcast `IntT` to objtyp ()
                19. because cannot downcast `IntT` to objtyp ()
                20. because cannot downcast `IntT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `IntT` to synthtyp ()
                23. because cannot downcast `IntT` to synthtyp ()
                24. because cannot downcast `IntT` to synthtyp ()
                25. because cannot downcast `IntT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `IntT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `IntT` to synthtyp ()
                30. because cannot downcast `IntT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:768.7-768.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
    4. because application of rule Inst_ok/else-targsinfer failed (../../../../spec/4g-typing-decl.watsup:187.6-187.13)
      - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
        1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
            1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (dir = `IN`_dir()) was not met ()
            2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
            3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because condition (actctxt = `ACT`_actctxt()) was not met ()
            4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
              - because invocation of relation Type_alpha failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `IntT` to abstyp ()
                3. because cannot downcast `IntT` to abstyp ()
                4. because cannot downcast `IntT` to abstyp ()
                5. because cannot downcast `IntT` to aliastyp ()
                6. because cannot downcast `FBitT%` to aliastyp ()
                7. because cannot downcast `IntT` to datatyp ()
                8. because cannot downcast `IntT` to datatyp ()
                9. because cannot downcast `IntT` to datatyp ()
                10. because cannot downcast `IntT` to datatyp ()
                11. because cannot downcast `IntT` to datatyp ()
                12. because cannot downcast `IntT` to datatyp ()
                13. because cannot downcast `IntT` to datatyp ()
                14. because cannot downcast `IntT` to datatyp ()
                15. because cannot downcast `IntT` to datatyp ()
                16. because cannot downcast `IntT` to objtyp ()
                17. because cannot downcast `IntT` to objtyp ()
                18. because cannot downcast `IntT` to objtyp ()
                19. because cannot downcast `IntT` to objtyp ()
                20. because cannot downcast `IntT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `IntT` to synthtyp ()
                23. because cannot downcast `IntT` to synthtyp ()
                24. because cannot downcast `IntT` to synthtyp ()
                25. because cannot downcast `IntT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `IntT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `IntT` to synthtyp ()
                30. because cannot downcast `IntT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4h-typing-call.watsup:23.6-23.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
        3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
        4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:792.7-792.29)
          - because condition (argIL = `AnyA`_argIL()) was not met ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/psa-type-hdr.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/psa-type-hdr.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `NewTypeD%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `NewTypeD%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `NewTypeD%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `NewTypeD%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `NewTypeD%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `NewTypeD%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `NewTypeD%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `NewTypeD%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `NewTypeD%%` ()
        13. because application of rule Decl_ok/newtyped-type failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:355.6-355.16)
            1. because application of rule TypeDef_wf/monod failed (../../../../spec/4g-typing-decl.watsup:355.6-355.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `NewT%%` to abstyp ()
                3. because cannot downcast `NewT%%` to abstyp ()
                4. because cannot downcast `NewT%%` to aliastyp ()
                5. because application of rule Type_wf/newt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition $nestable_newt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:66.9-66.28)
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `NewT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `NewT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `NewT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `NewT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `NewT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                14. because cannot downcast `NewT%%` to objtyp ()
                15. because cannot downcast `NewT%%` to objtyp ()
                16. because cannot downcast `NewT%%` to objtyp ()
                17. because cannot downcast `NewT%%` to objtyp ()
                18. because cannot downcast `NewT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `NewT%%` to synthtyp ()
                21. because cannot downcast `NewT%%` to synthtyp ()
                22. because cannot downcast `NewT%%` to synthtyp ()
                23. because cannot downcast `NewT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `NewT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `NewT%%` to synthtyp ()
                28. because cannot downcast `NewT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `MonoD%` to polytypdef ()
        14. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        15. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `NewTypeD%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `NewTypeD%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `NewTypeD%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `NewTypeD%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `NewTypeD%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `NewTypeD%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `NewTypeD%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `NewTypeD%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `NewTypeD%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `NewTypeD%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `NewTypeD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/push_nonconstant.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/push_nonconstant.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
    3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
    4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
    11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
        1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `BuiltinMethodT%%` ()
        2. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        3. because mismatch in case expression: `ExternFuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        6. because application of rule Call_ok/builtin-methodt failed (../../../../spec/4f-typing-stmt.watsup:236.6-236.13)
          - because invocation of relation Call_convention_arg_ok failed (../../../../spec/4h-typing-call.watsup:541.7-541.29)
            1. because application of rule Call_convention_arg_ok/expra failed (../../../../spec/4h-typing-call.watsup:541.7-541.29)
              - because invocation of relation Call_convention_ok failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                1. because application of rule Call_convention_ok/in failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition (dir = `IN`_dir()) was not met ()
                2. because application of rule Call_convention_ok/out-inout failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition ((dir = `OUT`_dir()) \/ (dir = `INOUT`_dir())) was not met (../../../../spec/4h-typing-call.watsup:11.9-11.33)
                3. because application of rule Call_convention_ok/no-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition (actctxt = `ACT`_actctxt()) was not met ()
                4. because application of rule Call_convention_ok/no-not-action failed (../../../../spec/4h-typing-call.watsup:28.6-28.24)
                  - because condition ((ctk = `LCTK`_ctk()) \/ (ctk = `CTK`_ctk())) was not met (../../../../spec/4h-typing-call.watsup:22.9-22.32)
            2. because mismatch in case expression: `NameA%%`_argIL(id, ?(exprIL)) expected but got `ExprA%` ()
            3. because mismatch in case expression: `NameA%%`_argIL(id, exprIL?) expected but got `ExprA%` ()
            4. because application of rule Call_convention_arg_ok/anya failed (../../../../spec/4h-typing-call.watsup:541.7-541.29)
              - because condition (argIL = `AnyA`_argIL()) was not met ()
        7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `BuiltinMethodT%%` ()
        11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `BuiltinMethodT%%` ()
        12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `BuiltinMethodT%%` ()
        13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `BuiltinMethodT%%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
    14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/range_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/range_e.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_binary(exprIL_lb, exprIL_ub) failed (../../../../spec/4e-typing-expr.watsup:497.37-497.51)
  1. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:497.37-497.51)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `FBitT%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:345.6-345.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:497.37-497.51)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:350.6-350.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:350.6-350.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()
  3. because application of clause coerce_binary(exprIL_a, exprIL_b) failed (../../../../spec/4e-typing-expr.watsup:497.37-497.51)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:356.6-356.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:356.6-356.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/scope.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/scope.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:300.35-300.44)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:300.35-300.44)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/select-struct.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/select-struct.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `TransS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `TransS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `TransS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `TransS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        13. because application of rule Stmt_ok/transs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
            1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `SelectE%%` ()
            2. because mismatch in case expression: `StrE%`_expr(t) expected but got `SelectE%%` ()
            3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `SelectE%%` ()
            4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `SelectE%%` ()
            5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `SelectE%%` ()
            6. because mismatch in case expression: `NameE%`_expr(name) expected but got `SelectE%%` ()
            7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `DefaultE`_expr()) was not met ()
            12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `InvalidE`_expr()) was not met ()
            13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `SelectE%%` ()
            29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `SelectE%%` ()
            30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `SelectE%%` ()
            31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `SelectE%%` ()
            32. because application of rule Expr_ok/selecte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because invocation of relation Type_wf failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                1. because cannot downcast `SetT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `SetT%` to abstyp ()
                3. because cannot downcast `SetT%` to abstyp ()
                4. because cannot downcast `SetT%` to aliastyp ()
                5. because cannot downcast `SetT%` to datatyp ()
                6. because cannot downcast `SetT%` to datatyp ()
                7. because cannot downcast `SetT%` to datatyp ()
                8. because cannot downcast `SetT%` to datatyp ()
                9. because cannot downcast `SetT%` to datatyp ()
                10. because cannot downcast `SetT%` to datatyp ()
                11. because cannot downcast `SetT%` to datatyp ()
                12. because cannot downcast `SetT%` to datatyp ()
                13. because cannot downcast `SetT%` to datatyp ()
                14. because cannot downcast `SetT%` to objtyp ()
                15. because cannot downcast `SetT%` to objtyp ()
                16. because cannot downcast `SetT%` to objtyp ()
                17. because cannot downcast `SetT%` to objtyp ()
                18. because cannot downcast `SetT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because mismatch in case expression: `SeqT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                21. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                22. because mismatch in case expression: `RecordT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                23. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because application of rule Type_wf/sett failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition $nestable_sett(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:316.9-316.28)
                26. because application of rule Type_wf/statet failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because mismatch in case expression: `TableEnumT%%`_synthtyp(_id, member*{member <- member*}) expected but got `SetT%` ()
                28. because mismatch in case expression: `TableStructT%%`_synthtyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `SelectE%%` ()
            37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `SelectE%%` ()
            38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `SelectE%%` ()
            50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `SelectE%%` ()
            52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `TransS%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/select-varbits.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/select-varbits.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `TransS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `TransS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `TransS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `TransS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `TransS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TransS%` ()
        13. because application of rule Stmt_ok/transs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
            1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `SelectE%%` ()
            2. because mismatch in case expression: `StrE%`_expr(t) expected but got `SelectE%%` ()
            3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `SelectE%%` ()
            4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `SelectE%%` ()
            5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `SelectE%%` ()
            6. because mismatch in case expression: `NameE%`_expr(name) expected but got `SelectE%%` ()
            7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `SelectE%%` ()
            9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `SelectE%%` ()
            11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `DefaultE`_expr()) was not met ()
            12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because condition (expr = `InvalidE`_expr()) was not met ()
            13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `SelectE%%` ()
            17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `SelectE%%` ()
            28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `SelectE%%` ()
            29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `SelectE%%` ()
            30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `SelectE%%` ()
            31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `SelectE%%` ()
            32. because application of rule Expr_ok/selecte failed (../../../../spec/4f-typing-stmt.watsup:263.6-263.13)
              - because invocation of relation Type_wf failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                1. because cannot downcast `SetT%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `SetT%` to abstyp ()
                3. because cannot downcast `SetT%` to abstyp ()
                4. because cannot downcast `SetT%` to aliastyp ()
                5. because cannot downcast `SetT%` to datatyp ()
                6. because cannot downcast `SetT%` to datatyp ()
                7. because cannot downcast `SetT%` to datatyp ()
                8. because cannot downcast `SetT%` to datatyp ()
                9. because cannot downcast `SetT%` to datatyp ()
                10. because cannot downcast `SetT%` to datatyp ()
                11. because cannot downcast `SetT%` to datatyp ()
                12. because cannot downcast `SetT%` to datatyp ()
                13. because cannot downcast `SetT%` to datatyp ()
                14. because cannot downcast `SetT%` to objtyp ()
                15. because cannot downcast `SetT%` to objtyp ()
                16. because cannot downcast `SetT%` to objtyp ()
                17. because cannot downcast `SetT%` to objtyp ()
                18. because cannot downcast `SetT%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because mismatch in case expression: `SeqT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                21. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ*{typ <- typ*}) expected but got `SetT%` ()
                22. because mismatch in case expression: `RecordT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                23. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because application of rule Type_wf/sett failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition $nestable_sett(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:316.9-316.28)
                26. because application of rule Type_wf/statet failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because mismatch in case expression: `TableEnumT%%`_synthtyp(_id, member*{member <- member*}) expected but got `SetT%` ()
                28. because mismatch in case expression: `TableStructT%%`_synthtyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `SetT%` ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/4e-typing-expr.watsup:577.7-577.14)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `SelectE%%` ()
            36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `SelectE%%` ()
            37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `SelectE%%` ()
            38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `SelectE%%` ()
            40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `SelectE%%` ()
            44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `SelectE%%` ()
            48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `SelectE%%` ()
            50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
            51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `SelectE%%` ()
            52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `SelectE%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `TransS%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/self-call.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/self-call.p4
interp error: tracing backtrack logs:
- because invocation of function $find_func<consdef>(id, $to_fkey(arg*{arg <- arg*}), C.GLOBAL.CDENV) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
  - because application of clause find_func(id_f, id_a?{id_a <- id_a?}*{id_a? <- id_a?*}, `MAP%`_map<fid, V>(`PAIR%%`_pair<fid, V>(fid, V)*{V <- V*, fid <- fid*})) failed (../../../../spec/4a1-typing-context.watsup:349.51-349.61)
    - because cannot assign a none value into ?((fid', V', id_deft*{id_deft <- id_deft*})) (../../../../spec/2e-runtime-env.watsup:184.9-184.29)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/serEnumImplCast.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/serEnumImplCast.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_p) failed (../../../../spec/4h-typing-call.watsup:17.20-17.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4h-typing-call.watsup:17.20-17.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `SEnumT%%%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4h-typing-call.watsup:17.20-17.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `SEnumT%%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `SEnumT%%%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `SEnumT%%%` to numtyp ()
          3. because cannot downcast `SEnumT%%%` to numtyp ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `SEnumT%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/serenum-type.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/serenum-type.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_s) failed (../../../../spec/4g-typing-decl.watsup:299.20-299.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:299.20-299.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `IntT` to abstyp ()
      3. because cannot downcast `IntT` to abstyp ()
      4. because cannot downcast `IntT` to abstyp ()
      5. because cannot downcast `IntT` to aliastyp ()
      6. because cannot downcast `NewT%%` to aliastyp ()
      7. because cannot downcast `IntT` to datatyp ()
      8. because cannot downcast `IntT` to datatyp ()
      9. because cannot downcast `IntT` to datatyp ()
      10. because cannot downcast `IntT` to datatyp ()
      11. because cannot downcast `IntT` to datatyp ()
      12. because cannot downcast `IntT` to datatyp ()
      13. because cannot downcast `IntT` to datatyp ()
      14. because cannot downcast `IntT` to datatyp ()
      15. because cannot downcast `IntT` to datatyp ()
      16. because cannot downcast `IntT` to objtyp ()
      17. because cannot downcast `IntT` to objtyp ()
      18. because cannot downcast `IntT` to objtyp ()
      19. because cannot downcast `IntT` to objtyp ()
      20. because cannot downcast `IntT` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `IntT` to synthtyp ()
      23. because cannot downcast `IntT` to synthtyp ()
      24. because cannot downcast `IntT` to synthtyp ()
      25. because cannot downcast `IntT` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `IntT` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `IntT` to synthtyp ()
      30. because cannot downcast `IntT` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:299.20-299.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `IntT` to abstyp ()
              3. because cannot downcast `IntT` to abstyp ()
              4. because cannot downcast `IntT` to abstyp ()
              5. because cannot downcast `IntT` to aliastyp ()
              6. because cannot downcast `NewT%%` to aliastyp ()
              7. because cannot downcast `IntT` to datatyp ()
              8. because cannot downcast `IntT` to datatyp ()
              9. because cannot downcast `IntT` to datatyp ()
              10. because cannot downcast `IntT` to datatyp ()
              11. because cannot downcast `IntT` to datatyp ()
              12. because cannot downcast `IntT` to datatyp ()
              13. because cannot downcast `IntT` to datatyp ()
              14. because cannot downcast `IntT` to datatyp ()
              15. because cannot downcast `IntT` to datatyp ()
              16. because cannot downcast `IntT` to objtyp ()
              17. because cannot downcast `IntT` to objtyp ()
              18. because cannot downcast `IntT` to objtyp ()
              19. because cannot downcast `IntT` to objtyp ()
              20. because cannot downcast `IntT` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `IntT` to synthtyp ()
              23. because cannot downcast `IntT` to synthtyp ()
              24. because cannot downcast `IntT` to synthtyp ()
              25. because cannot downcast `IntT` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `IntT` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `IntT` to synthtyp ()
              30. because cannot downcast `IntT` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `NewT%%` to numtyp ()
          3. because cannot downcast `NewT%%` to numtyp ()
          4. because cannot downcast `IntT` to datatyp ()
          5. because cannot downcast `IntT` to synthtyp ()
          6. because cannot downcast `IntT` to synthtyp ()
          7. because cannot downcast `IntT` to synthtyp ()
          8. because cannot downcast `IntT` to synthtyp ()
          9. because cannot downcast `IntT` to synthtyp ()
          10. because cannot downcast `IntT` to synthtyp ()
          11. because cannot downcast `IntT` to synthtyp ()
          12. because cannot downcast `IntT` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `IntT` to synthtyp ()
          15. because cannot downcast `IntT` to synthtyp ()
          16. because cannot downcast `IntT` to synthtyp ()
          17. because cannot downcast `IntT` to synthtyp ()
          18. because cannot downcast `IntT` to synthtyp ()
          19. because cannot downcast `IntT` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/serenum-typedef.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/serenum-typedef.p4
interp error: tracing backtrack logs:
1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:299.20-299.34)
  - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
    1. because cannot downcast `DefT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
    2. because cannot downcast `IntT` to abstyp ()
    3. because cannot downcast `IntT` to abstyp ()
    4. because cannot downcast `IntT` to abstyp ()
    5. because cannot downcast `IntT` to aliastyp ()
    6. because application of rule Type_alpha/deft-right failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
        1. because cannot downcast `DefT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
        2. because cannot downcast `IntT` to abstyp ()
        3. because cannot downcast `IntT` to abstyp ()
        4. because cannot downcast `IntT` to abstyp ()
        5. because cannot downcast `IntT` to aliastyp ()
        6. because application of rule Type_alpha/deft-right failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
          - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
            1. because cannot downcast `DefT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
            2. because cannot downcast `IntT` to abstyp ()
            3. because cannot downcast `IntT` to abstyp ()
            4. because cannot downcast `IntT` to abstyp ()
            5. because cannot downcast `IntT` to aliastyp ()
            6. because application of rule Type_alpha/deft-right failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
              - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
                1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `IntT` to abstyp ()
                3. because cannot downcast `IntT` to abstyp ()
                4. because cannot downcast `IntT` to abstyp ()
                5. because cannot downcast `IntT` to aliastyp ()
                6. because cannot downcast `NewT%%` to aliastyp ()
                7. because cannot downcast `IntT` to datatyp ()
                8. because cannot downcast `IntT` to datatyp ()
                9. because cannot downcast `IntT` to datatyp ()
                10. because cannot downcast `IntT` to datatyp ()
                11. because cannot downcast `IntT` to datatyp ()
                12. because cannot downcast `IntT` to datatyp ()
                13. because cannot downcast `IntT` to datatyp ()
                14. because cannot downcast `IntT` to datatyp ()
                15. because cannot downcast `IntT` to datatyp ()
                16. because cannot downcast `IntT` to objtyp ()
                17. because cannot downcast `IntT` to objtyp ()
                18. because cannot downcast `IntT` to objtyp ()
                19. because cannot downcast `IntT` to objtyp ()
                20. because cannot downcast `IntT` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `IntT` to synthtyp ()
                23. because cannot downcast `IntT` to synthtyp ()
                24. because cannot downcast `IntT` to synthtyp ()
                25. because cannot downcast `IntT` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `IntT` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `IntT` to synthtyp ()
                30. because cannot downcast `IntT` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            7. because cannot downcast `IntT` to datatyp ()
            8. because cannot downcast `IntT` to datatyp ()
            9. because cannot downcast `IntT` to datatyp ()
            10. because cannot downcast `IntT` to datatyp ()
            11. because cannot downcast `IntT` to datatyp ()
            12. because cannot downcast `IntT` to datatyp ()
            13. because cannot downcast `IntT` to datatyp ()
            14. because cannot downcast `IntT` to datatyp ()
            15. because cannot downcast `IntT` to datatyp ()
            16. because cannot downcast `IntT` to objtyp ()
            17. because cannot downcast `IntT` to objtyp ()
            18. because cannot downcast `IntT` to objtyp ()
            19. because cannot downcast `IntT` to objtyp ()
            20. because cannot downcast `IntT` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `IntT` to synthtyp ()
            23. because cannot downcast `IntT` to synthtyp ()
            24. because cannot downcast `IntT` to synthtyp ()
            25. because cannot downcast `IntT` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `IntT` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `IntT` to synthtyp ()
            30. because cannot downcast `IntT` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        7. because cannot downcast `IntT` to datatyp ()
        8. because cannot downcast `IntT` to datatyp ()
        9. because cannot downcast `IntT` to datatyp ()
        10. because cannot downcast `IntT` to datatyp ()
        11. because cannot downcast `IntT` to datatyp ()
        12. because cannot downcast `IntT` to datatyp ()
        13. because cannot downcast `IntT` to datatyp ()
        14. because cannot downcast `IntT` to datatyp ()
        15. because cannot downcast `IntT` to datatyp ()
        16. because cannot downcast `IntT` to objtyp ()
        17. because cannot downcast `IntT` to objtyp ()
        18. because cannot downcast `IntT` to objtyp ()
        19. because cannot downcast `IntT` to objtyp ()
        20. because cannot downcast `IntT` to objtyp ()
        21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
          - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
        22. because cannot downcast `IntT` to synthtyp ()
        23. because cannot downcast `IntT` to synthtyp ()
        24. because cannot downcast `IntT` to synthtyp ()
        25. because cannot downcast `IntT` to synthtyp ()
        26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
          - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
        27. because cannot downcast `IntT` to synthtyp ()
        28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
          - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
        29. because cannot downcast `IntT` to synthtyp ()
        30. because cannot downcast `IntT` to synthtyp ()
        31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:54.6-54.16)
          - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
    7. because cannot downcast `IntT` to datatyp ()
    8. because cannot downcast `IntT` to datatyp ()
    9. because cannot downcast `IntT` to datatyp ()
    10. because cannot downcast `IntT` to datatyp ()
    11. because cannot downcast `IntT` to datatyp ()
    12. because cannot downcast `IntT` to datatyp ()
    13. because cannot downcast `IntT` to datatyp ()
    14. because cannot downcast `IntT` to datatyp ()
    15. because cannot downcast `IntT` to datatyp ()
    16. because cannot downcast `IntT` to objtyp ()
    17. because cannot downcast `IntT` to objtyp ()
    18. because cannot downcast `IntT` to objtyp ()
    19. because cannot downcast `IntT` to objtyp ()
    20. because cannot downcast `IntT` to objtyp ()
    21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
    22. because cannot downcast `IntT` to synthtyp ()
    23. because cannot downcast `IntT` to synthtyp ()
    24. because cannot downcast `IntT` to synthtyp ()
    25. because cannot downcast `IntT` to synthtyp ()
    26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
    27. because cannot downcast `IntT` to synthtyp ()
    28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
    29. because cannot downcast `IntT` to synthtyp ()
    30. because cannot downcast `IntT` to synthtyp ()
    31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:299.20-299.34)
  - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
    - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
        1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
            1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
            2. because cannot downcast `IntT` to abstyp ()
            3. because cannot downcast `IntT` to abstyp ()
            4. because cannot downcast `IntT` to abstyp ()
            5. because cannot downcast `IntT` to aliastyp ()
            6. because cannot downcast `NewT%%` to aliastyp ()
            7. because cannot downcast `IntT` to datatyp ()
            8. because cannot downcast `IntT` to datatyp ()
            9. because cannot downcast `IntT` to datatyp ()
            10. because cannot downcast `IntT` to datatyp ()
            11. because cannot downcast `IntT` to datatyp ()
            12. because cannot downcast `IntT` to datatyp ()
            13. because cannot downcast `IntT` to datatyp ()
            14. because cannot downcast `IntT` to datatyp ()
            15. because cannot downcast `IntT` to datatyp ()
            16. because cannot downcast `IntT` to objtyp ()
            17. because cannot downcast `IntT` to objtyp ()
            18. because cannot downcast `IntT` to objtyp ()
            19. because cannot downcast `IntT` to objtyp ()
            20. because cannot downcast `IntT` to objtyp ()
            21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            22. because cannot downcast `IntT` to synthtyp ()
            23. because cannot downcast `IntT` to synthtyp ()
            24. because cannot downcast `IntT` to synthtyp ()
            25. because cannot downcast `IntT` to synthtyp ()
            26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            27. because cannot downcast `IntT` to synthtyp ()
            28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            29. because cannot downcast `IntT` to synthtyp ()
            30. because cannot downcast `IntT` to synthtyp ()
            31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        2. because cannot downcast `NewT%%` to numtyp ()
        3. because cannot downcast `NewT%%` to numtyp ()
        4. because cannot downcast `IntT` to datatyp ()
        5. because cannot downcast `IntT` to synthtyp ()
        6. because cannot downcast `IntT` to synthtyp ()
        7. because cannot downcast `IntT` to synthtyp ()
        8. because cannot downcast `IntT` to synthtyp ()
        9. because cannot downcast `IntT` to synthtyp ()
        10. because cannot downcast `IntT` to synthtyp ()
        11. because cannot downcast `IntT` to synthtyp ()
        12. because cannot downcast `IntT` to synthtyp ()
        13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
        14. because cannot downcast `IntT` to synthtyp ()
        15. because cannot downcast `IntT` to synthtyp ()
        16. because cannot downcast `IntT` to synthtyp ()
        17. because cannot downcast `IntT` to synthtyp ()
        18. because cannot downcast `IntT` to synthtyp ()
        19. because cannot downcast `IntT` to synthtyp ()
        20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()
        21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `NewT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/shift_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/signed.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/signed.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL_r, typ_l) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FIntT%` to abstyp ()
      3. because cannot downcast `FIntT%` to abstyp ()
      4. because cannot downcast `FIntT%` to abstyp ()
      5. because cannot downcast `FIntT%` to aliastyp ()
      6. because cannot downcast `FBitT%` to aliastyp ()
      7. because cannot downcast `FIntT%` to datatyp ()
      8. because cannot downcast `FIntT%` to datatyp ()
      9. because cannot downcast `FIntT%` to datatyp ()
      10. because cannot downcast `FIntT%` to datatyp ()
      11. because cannot downcast `FIntT%` to datatyp ()
      12. because cannot downcast `FIntT%` to datatyp ()
      13. because cannot downcast `FIntT%` to datatyp ()
      14. because cannot downcast `FIntT%` to datatyp ()
      15. because cannot downcast `FIntT%` to datatyp ()
      16. because cannot downcast `FIntT%` to objtyp ()
      17. because cannot downcast `FIntT%` to objtyp ()
      18. because cannot downcast `FIntT%` to objtyp ()
      19. because cannot downcast `FIntT%` to objtyp ()
      20. because cannot downcast `FIntT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FIntT%` to synthtyp ()
      23. because cannot downcast `FIntT%` to synthtyp ()
      24. because cannot downcast `FIntT%` to synthtyp ()
      25. because cannot downcast `FIntT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FIntT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FIntT%` to synthtyp ()
      30. because cannot downcast `FIntT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FIntT%` to abstyp ()
              3. because cannot downcast `FIntT%` to abstyp ()
              4. because cannot downcast `FIntT%` to abstyp ()
              5. because cannot downcast `FIntT%` to aliastyp ()
              6. because cannot downcast `FBitT%` to aliastyp ()
              7. because cannot downcast `FIntT%` to datatyp ()
              8. because cannot downcast `FIntT%` to datatyp ()
              9. because cannot downcast `FIntT%` to datatyp ()
              10. because cannot downcast `FIntT%` to datatyp ()
              11. because cannot downcast `FIntT%` to datatyp ()
              12. because cannot downcast `FIntT%` to datatyp ()
              13. because cannot downcast `FIntT%` to datatyp ()
              14. because cannot downcast `FIntT%` to datatyp ()
              15. because cannot downcast `FIntT%` to datatyp ()
              16. because cannot downcast `FIntT%` to objtyp ()
              17. because cannot downcast `FIntT%` to objtyp ()
              18. because cannot downcast `FIntT%` to objtyp ()
              19. because cannot downcast `FIntT%` to objtyp ()
              20. because cannot downcast `FIntT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FIntT%` to synthtyp ()
              23. because cannot downcast `FIntT%` to synthtyp ()
              24. because cannot downcast `FIntT%` to synthtyp ()
              25. because cannot downcast `FIntT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FIntT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FIntT%` to synthtyp ()
              30. because cannot downcast `FIntT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because application of rule Sub_impl_canon/intt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          3. because mismatch in case expression: `FIntT%`_numtyp(_width) expected but got `FBitT%` ()
          4. because cannot downcast `FIntT%` to datatyp ()
          5. because cannot downcast `FIntT%` to synthtyp ()
          6. because cannot downcast `FIntT%` to synthtyp ()
          7. because cannot downcast `FIntT%` to synthtyp ()
          8. because cannot downcast `FIntT%` to synthtyp ()
          9. because cannot downcast `FIntT%` to synthtyp ()
          10. because cannot downcast `FIntT%` to synthtyp ()
          11. because cannot downcast `FIntT%` to synthtyp ()
          12. because cannot downcast `FIntT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FIntT%` to synthtyp ()
          15. because cannot downcast `FIntT%` to synthtyp ()
          16. because cannot downcast `FIntT%` to synthtyp ()
          17. because cannot downcast `FIntT%` to synthtyp ()
          18. because cannot downcast `FIntT%` to synthtyp ()
          19. because cannot downcast `FIntT%` to synthtyp ()
          20. because cannot downcast `FBitT%` to datatyp ()
          21. because cannot downcast `FBitT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/signs.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/signs.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `FIntT%` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4g-typing-decl.watsup:80.20-80.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `FIntT%` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because mismatch in case expression: `FBitT%`_numtyp(_width) expected but got `FIntT%` ()
          3. because application of rule Sub_impl_canon/intt-fintt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `FIntT%` to datatyp ()
          21. because cannot downcast `FIntT%` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/slice_out_of_bound.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/slice_out_of_bound.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `BitAccE%%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `BitAccE%%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `BitAccE%%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `BitAccE%%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `BitAccE%%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `BitAccE%%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `BitAccE%%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `BitAccE%%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BitAccE%%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `BitAccE%%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `BitAccE%%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `BitAccE%%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `BitAccE%%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `BitAccE%%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `BitAccE%%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `BitAccE%%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `BitAccE%%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BitAccE%%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BitAccE%%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `BitAccE%%%` ()
                36. because application of rule Expr_ok/bitacce failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition $is_valid_bitstring_slice(typ_b', n_l, n_h) was not met (../../../../spec/4e-typing-expr.watsup:702.9-702.52)
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `BitAccE%%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BitAccE%%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `BitAccE%%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `BitAccE%%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `BitAccE%%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BitAccE%%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `BitAccE%%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BitAccE%%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `BitAccE%%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `BitAccE%%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/spec-issue1297-string-cat-err-0.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/spec-issue1297-string-cat-err-0.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senums_binary(exprIL_l', exprIL_r', $compatible_plusminusmult) failed (../../../../spec/4e-typing-expr.watsup:173.37-173.58)
  1. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:173.37-173.58)
    - because condition $check_binary(typ_a, typ_b) was not met (../../../../spec/4d2-typing-subtyping.watsup:319.9-319.36)
  2. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:173.37-173.58)
    - because cannot downcast `StrT` to datatyp ()
  3. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:173.37-173.58)
    - because cannot downcast `StrT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/spec-issue1297-string-cat-err-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/spec-issue1297-string-cat-err-1.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senums_binary(exprIL_l, exprIL_r, $compatible_concat) failed (../../../../spec/4e-typing-expr.watsup:364.35-364.56)
  1. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:364.35-364.56)
    - because condition $check_binary(typ_a, typ_b) was not met (../../../../spec/4d2-typing-subtyping.watsup:319.9-319.36)
  2. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:364.35-364.56)
    - because cannot downcast `StrT` to datatyp ()
  3. because application of clause reduce_senums_binary(exprIL_a, exprIL_b, $check_binary) failed (../../../../spec/4e-typing-expr.watsup:364.35-364.56)
    - because cannot downcast `IntT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/spec-issue563.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/spec-issue563.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/stack-const-index-out-of-bounds-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/stack-const-index-out-of-bounds-bmv2.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation MethodType_ok failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
            1. because application of rule MethodType_ok/builtin-size failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because invocation of relation Expr_ok failed (../../../../spec/4h-typing-call.watsup:56.6-56.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ArrAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ArrAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ArrAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ArrAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4h-typing-call.watsup:56.6-56.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4h-typing-call.watsup:56.6-56.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ArrAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ArrAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ArrAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ArrAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ArrAccE%%` ()
                33. because application of rule Expr_ok/arracce-tuplet failed (../../../../spec/4h-typing-call.watsup:56.6-56.13)
                  - because mismatch in case expression: `TupleT%`_datatyp(typ_b'*{typ_b' <- typ_b'*}) expected but got `StackT%%` ()
                34. because application of rule Expr_ok/arracce-stackt-lctk failed (../../../../spec/4h-typing-call.watsup:56.6-56.13)
                  - because condition ((((int) 0) <= i) /\ (i <= i_s)) was not met (../../../../spec/4e-typing-expr.watsup:623.9-623.33)
                35. because application of rule Expr_ok/arracce-stackt-ctk-dyn failed (../../../../spec/4h-typing-call.watsup:56.6-56.13)
                  - because condition (ctk_i =/= `LCTK`_ctk()) was not met (../../../../spec/4e-typing-expr.watsup:632.9-632.23)
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ArrAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ArrAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ArrAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ArrAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
            2. because application of rule MethodType_ok/builtin-stackt failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because condition ((member = "push_front") \/ (member = "pop_front")) was not met (../../../../spec/4h-typing-call.watsup:62.9-62.54)
            3. because application of rule MethodType_ok/builtin-headert-isvalid failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because condition (text = "isValid") was not met (../../../../spec/4h-typing-call.watsup:71.17-71.26)
            4. because application of rule MethodType_ok/builtin-headert-setvalid-invalid failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because invocation of relation Expr_ok failed (../../../../spec/4h-typing-call.watsup:81.6-81.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ArrAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ArrAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ArrAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ArrAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4h-typing-call.watsup:81.6-81.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4h-typing-call.watsup:81.6-81.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ArrAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ArrAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ArrAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ArrAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ArrAccE%%` ()
                33. because application of rule Expr_ok/arracce-tuplet failed (../../../../spec/4h-typing-call.watsup:81.6-81.13)
                  - because mismatch in case expression: `TupleT%`_datatyp(typ_b'*{typ_b' <- typ_b'*}) expected but got `StackT%%` ()
                34. because application of rule Expr_ok/arracce-stackt-lctk failed (../../../../spec/4h-typing-call.watsup:81.6-81.13)
                  - because condition ((((int) 0) <= i) /\ (i <= i_s)) was not met (../../../../spec/4e-typing-expr.watsup:623.9-623.33)
                35. because application of rule Expr_ok/arracce-stackt-ctk-dyn failed (../../../../spec/4h-typing-call.watsup:81.6-81.13)
                  - because condition (ctk_i =/= `LCTK`_ctk()) was not met (../../../../spec/4e-typing-expr.watsup:632.9-632.23)
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ArrAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ArrAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ArrAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ArrAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
            5. because application of rule MethodType_ok/builtin-uniont failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because condition (text = "isValid") was not met (../../../../spec/4h-typing-call.watsup:86.17-86.26)
            6. because application of rule MethodType_ok/externt failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because invocation of relation Expr_ok failed (../../../../spec/4h-typing-call.watsup:95.6-95.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ArrAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ArrAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ArrAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ArrAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ArrAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ArrAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ArrAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4h-typing-call.watsup:95.6-95.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4h-typing-call.watsup:95.6-95.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ArrAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ArrAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ArrAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ArrAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ArrAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ArrAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ArrAccE%%` ()
                33. because application of rule Expr_ok/arracce-tuplet failed (../../../../spec/4h-typing-call.watsup:95.6-95.13)
                  - because mismatch in case expression: `TupleT%`_datatyp(typ_b'*{typ_b' <- typ_b'*}) expected but got `StackT%%` ()
                34. because application of rule Expr_ok/arracce-stackt-lctk failed (../../../../spec/4h-typing-call.watsup:95.6-95.13)
                  - because condition ((((int) 0) <= i) /\ (i <= i_s)) was not met (../../../../spec/4e-typing-expr.watsup:623.9-623.33)
                35. because application of rule Expr_ok/arracce-stackt-ctk-dyn failed (../../../../spec/4h-typing-call.watsup:95.6-95.13)
                  - because condition (ctk_i =/= `LCTK`_ctk()) was not met (../../../../spec/4e-typing-expr.watsup:632.9-632.23)
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ArrAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ArrAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ArrAccE%%` ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `ArrAccE%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `ArrAccE%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ArrAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ArrAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ArrAccE%%` ()
            7. because application of rule MethodType_ok/parsert failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because condition (text = "apply") was not met (../../../../spec/4h-typing-call.watsup:103.17-103.24)
            8. because application of rule MethodType_ok/controlt failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because condition (text = "apply") was not met (../../../../spec/4h-typing-call.watsup:119.17-119.24)
            9. because application of rule MethodType_ok/tablet failed (../../../../spec/4f-typing-stmt.watsup:232.6-232.19)
              - because condition (text = "apply") was not met (../../../../spec/4h-typing-call.watsup:135.17-135.24)
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/stack1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/stack1_e.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `DeclS%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `DeclS%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `DeclS%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `DeclS%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `DeclS%` ()
        14. because application of rule Stmt_ok/decls failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Decl_ok failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
            1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
            2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
              - because invocation of relation Type_ok failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                1. because application of rule Type_ok/voidt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `VoidT`_type()) was not met ()
                2. because application of rule Type_ok/errt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `ErrT`_type()) was not met ()
                3. because application of rule Type_ok/matchkindt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `MatchKindT`_type()) was not met ()
                4. because application of rule Type_ok/strt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `StrT`_type()) was not met ()
                5. because application of rule Type_ok/boolt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `BoolT`_type()) was not met ()
                6. because application of rule Type_ok/intt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `IntT`_type()) was not met ()
                7. because mismatch in case expression: `FIntT%`_type(expr) expected but got `StackT%%` ()
                8. because mismatch in case expression: `FBitT%`_type(expr) expected but got `StackT%%` ()
                9. because mismatch in case expression: `VBitT%`_type(expr) expected but got `StackT%%` ()
                10. because application of rule Type_ok/stackt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (ctk = `LCTK`_ctk()) was not met ()
                11. because mismatch in case expression: `ListT%`_type(type) expected but got `StackT%%` ()
                12. because mismatch in case expression: `TupleT%`_type(type*{type <- type*}) expected but got `StackT%%` ()
                13. because mismatch in case expression: `NameT%`_type(name) expected but got `StackT%%` ()
                14. because mismatch in case expression: `NameT%`_type(name) expected but got `StackT%%` ()
                15. because mismatch in case expression: `SpecT%%`_type(name, type*) expected but got `StackT%%` ()
                16. because mismatch in case expression: `SpecT%%`_type(name, type*{type <- type*}) expected but got `StackT%%` ()
                17. because application of rule Type_ok/anyt failed (../../../../spec/4g-typing-decl.watsup:68.6-68.13)
                  - because condition (type = `AnyT`_type()) was not met ()
            3. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:74.23-74.27)
            4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
            5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
            6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
            7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
            8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
            11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
            12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
            13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
            14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
            17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
            19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
            20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
            21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
            23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
            24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
            26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
            27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
            28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
            29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/stack2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/stack2.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL_r, typ_l) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
      3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
          1. because cannot downcast `StackT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `StackT%%` to abstyp ()
          3. because cannot downcast `StackT%%` to abstyp ()
          4. because cannot downcast `StackT%%` to abstyp ()
          5. because cannot downcast `StackT%%` to aliastyp ()
          6. because cannot downcast `StackT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `StackT%%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `StackT%%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `StackT%%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `StackT%%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `StackT%%` ()
          12. because application of rule Type_alpha/stackt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (i_size = int) was not met (../../../../spec/2c5-runtime-type-alpha.watsup:77.42-77.48)
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
          16. because cannot downcast `StackT%%` to objtyp ()
          17. because cannot downcast `StackT%%` to objtyp ()
          18. because cannot downcast `StackT%%` to objtyp ()
          19. because cannot downcast `StackT%%` to objtyp ()
          20. because cannot downcast `StackT%%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `StackT%%` to synthtyp ()
          23. because cannot downcast `StackT%%` to synthtyp ()
          24. because cannot downcast `StackT%%` to synthtyp ()
          25. because cannot downcast `StackT%%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `StackT%%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `StackT%%` to synthtyp ()
          30. because cannot downcast `StackT%%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
          1. because cannot downcast `StackT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `StackT%%` to abstyp ()
          3. because cannot downcast `StackT%%` to abstyp ()
          4. because cannot downcast `StackT%%` to abstyp ()
          5. because cannot downcast `StackT%%` to aliastyp ()
          6. because cannot downcast `StackT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `StackT%%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `StackT%%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `StackT%%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `StackT%%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `StackT%%` ()
          12. because application of rule Type_alpha/stackt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (i_size = int) was not met (../../../../spec/2c5-runtime-type-alpha.watsup:77.42-77.48)
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
          16. because cannot downcast `StackT%%` to objtyp ()
          17. because cannot downcast `StackT%%` to objtyp ()
          18. because cannot downcast `StackT%%` to objtyp ()
          19. because cannot downcast `StackT%%` to objtyp ()
          20. because cannot downcast `StackT%%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `StackT%%` to synthtyp ()
          23. because cannot downcast `StackT%%` to synthtyp ()
          24. because cannot downcast `StackT%%` to synthtyp ()
          25. because cannot downcast `StackT%%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `StackT%%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `StackT%%` to synthtyp ()
          30. because cannot downcast `StackT%%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      5. because cannot downcast `SpecT%%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SpecT%%` to datatyp ()
      8. because cannot downcast `SpecT%%` to datatyp ()
      9. because cannot downcast `SpecT%%` to datatyp ()
      10. because cannot downcast `SpecT%%` to datatyp ()
      11. because cannot downcast `SpecT%%` to datatyp ()
      12. because cannot downcast `SpecT%%` to datatyp ()
      13. because cannot downcast `SpecT%%` to datatyp ()
      14. because cannot downcast `SpecT%%` to datatyp ()
      15. because cannot downcast `SpecT%%` to datatyp ()
      16. because cannot downcast `SpecT%%` to objtyp ()
      17. because cannot downcast `SpecT%%` to objtyp ()
      18. because cannot downcast `SpecT%%` to objtyp ()
      19. because cannot downcast `SpecT%%` to objtyp ()
      20. because cannot downcast `SpecT%%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because cannot downcast `SpecT%%` to synthtyp ()
      24. because cannot downcast `SpecT%%` to synthtyp ()
      25. because cannot downcast `SpecT%%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `SpecT%%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `SpecT%%` to synthtyp ()
      30. because cannot downcast `SpecT%%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `StackT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `StackT%%` to abstyp ()
              3. because cannot downcast `StackT%%` to abstyp ()
              4. because cannot downcast `StackT%%` to abstyp ()
              5. because cannot downcast `StackT%%` to aliastyp ()
              6. because cannot downcast `StackT%%` to aliastyp ()
              7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `StackT%%` ()
              8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `StackT%%` ()
              9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `StackT%%` ()
              10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `StackT%%` ()
              11. because mismatch in case expression: `TupleT%`_datatyp(typ_a*{typ_a <- typ_a*}) expected but got `StackT%%` ()
              12. because application of rule Type_alpha/stackt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (i_size = int) was not met (../../../../spec/2c5-runtime-type-alpha.watsup:77.42-77.48)
              13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
              14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
              15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `StackT%%` ()
              16. because cannot downcast `StackT%%` to objtyp ()
              17. because cannot downcast `StackT%%` to objtyp ()
              18. because cannot downcast `StackT%%` to objtyp ()
              19. because cannot downcast `StackT%%` to objtyp ()
              20. because cannot downcast `StackT%%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `StackT%%` to synthtyp ()
              23. because cannot downcast `StackT%%` to synthtyp ()
              24. because cannot downcast `StackT%%` to synthtyp ()
              25. because cannot downcast `StackT%%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `StackT%%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `StackT%%` to synthtyp ()
              30. because cannot downcast `StackT%%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `StackT%%` to numtyp ()
          3. because cannot downcast `StackT%%` to numtyp ()
          4. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_a, _(member, val)*) expected but got `StackT%%` ()
          5. because cannot downcast `StackT%%` to synthtyp ()
          6. because cannot downcast `StackT%%` to synthtyp ()
          7. because cannot downcast `StackT%%` to synthtyp ()
          8. because cannot downcast `StackT%%` to synthtyp ()
          9. because cannot downcast `StackT%%` to synthtyp ()
          10. because cannot downcast `StackT%%` to synthtyp ()
          11. because cannot downcast `StackT%%` to synthtyp ()
          12. because cannot downcast `StackT%%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `StackT%%` to synthtyp ()
          15. because cannot downcast `StackT%%` to synthtyp ()
          16. because cannot downcast `StackT%%` to synthtyp ()
          17. because cannot downcast `StackT%%` to synthtyp ()
          18. because cannot downcast `StackT%%` to synthtyp ()
          19. because cannot downcast `StackT%%` to synthtyp ()
          20. because mismatch in case expression: `HeaderT%%`_datatyp(_id, _(member, typ)*) expected but got `StackT%%` ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `StackT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/stack3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/stack3.p4
interp error: tracing backtrack logs:
- because invocation of function $find_val(p, C, name) failed (../../../../spec/4c-typing-static-eval.watsup:18.16-18.25)
  - because application of clause find_val(p, C, name) failed (../../../../spec/4c-typing-static-eval.watsup:18.16-18.25)
    - because cannot assign a none value into ?(val) (../../../../spec/4a1-typing-context.watsup:293.21-293.24)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/stack_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/stack_e.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
  - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
    1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `EmptyS`_stmt()) was not met ()
    2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `DeclS%` ()
    3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
    4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `DeclS%` ()
    5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `DeclS%` ()
    6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `DeclS%` ()
    7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `ExitS`_stmt()) was not met ()
    8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because condition (stmt = `RetS%`_stmt(?())) was not met ()
    9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `DeclS%` ()
    10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
    11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
    12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `DeclS%` ()
    13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `DeclS%` ()
    14. because application of rule Stmt_ok/decls failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
      - because invocation of relation Decl_ok failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
        2. because application of rule Decl_ok/vard-none failed (../../../../spec/4f-typing-stmt.watsup:272.6-272.13)
          - because invocation of relation Type_wf failed (../../../../spec/4g-typing-decl.watsup:69.6-69.13)
            1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
            2. because mismatch in case expression: `VarT%`_abstyp(tid) expected but got `SpecT%%` ()
            3. because application of rule Type_wf/spect failed (../../../../spec/4g-typing-decl.watsup:69.6-69.13)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                1. because cannot downcast `StackT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `StackT%%` to abstyp ()
                3. because cannot downcast `StackT%%` to abstyp ()
                4. because cannot downcast `StackT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `StackT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `StackT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `StackT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `StackT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `StackT%%` ()
                10. because application of rule Type_wf/stackt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition $nestable_stackt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:144.9-144.30)
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StackT%%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StackT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StackT%%` ()
                14. because cannot downcast `StackT%%` to objtyp ()
                15. because cannot downcast `StackT%%` to objtyp ()
                16. because cannot downcast `StackT%%` to objtyp ()
                17. because cannot downcast `StackT%%` to objtyp ()
                18. because cannot downcast `StackT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `StackT%%` to synthtyp ()
                21. because cannot downcast `StackT%%` to synthtyp ()
                22. because cannot downcast `StackT%%` to synthtyp ()
                23. because cannot downcast `StackT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `StackT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `StackT%%` to synthtyp ()
                28. because cannot downcast `StackT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:35.6-35.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            4. because cannot downcast `SpecT%%` to aliastyp ()
            5. because cannot downcast `SpecT%%` to datatyp ()
            6. because cannot downcast `SpecT%%` to datatyp ()
            7. because cannot downcast `SpecT%%` to datatyp ()
            8. because cannot downcast `SpecT%%` to datatyp ()
            9. because cannot downcast `SpecT%%` to datatyp ()
            10. because cannot downcast `SpecT%%` to datatyp ()
            11. because cannot downcast `SpecT%%` to datatyp ()
            12. because cannot downcast `SpecT%%` to datatyp ()
            13. because cannot downcast `SpecT%%` to datatyp ()
            14. because cannot downcast `SpecT%%` to objtyp ()
            15. because cannot downcast `SpecT%%` to objtyp ()
            16. because cannot downcast `SpecT%%` to objtyp ()
            17. because cannot downcast `SpecT%%` to objtyp ()
            18. because cannot downcast `SpecT%%` to objtyp ()
            19. because application of rule Type_wf/defaultt failed (../../../../spec/4g-typing-decl.watsup:69.6-69.13)
              - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
            20. because cannot downcast `SpecT%%` to synthtyp ()
            21. because cannot downcast `SpecT%%` to synthtyp ()
            22. because cannot downcast `SpecT%%` to synthtyp ()
            23. because cannot downcast `SpecT%%` to synthtyp ()
            24. because application of rule Type_wf/invalidt failed (../../../../spec/4g-typing-decl.watsup:69.6-69.13)
              - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
            25. because cannot downcast `SpecT%%` to synthtyp ()
            26. because application of rule Type_wf/statet failed (../../../../spec/4g-typing-decl.watsup:69.6-69.13)
              - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
            27. because cannot downcast `SpecT%%` to synthtyp ()
            28. because cannot downcast `SpecT%%` to synthtyp ()
            29. because application of rule Type_wf/anyt failed (../../../../spec/4g-typing-decl.watsup:69.6-69.13)
              - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        3. because cannot assign a none value into ?(expr) (../../../../spec/4g-typing-decl.watsup:74.23-74.27)
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `VarD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `VarD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `VarD%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `VarD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `VarD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `VarD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `VarD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `VarD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `VarD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `VarD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `VarD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `VarD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `VarD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `VarD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `VarD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `VarD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `VarD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/string-e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/string-e.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ExternFuncD%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ExternFuncD%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ExternFuncD%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ExternFuncD%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ExternFuncD%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ExternFuncD%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ExternFuncD%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternFuncD%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternFuncD%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ExternFuncD%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ExternFuncD%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ExternFuncD%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternFuncD%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ExternFuncD%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ExternFuncD%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ExternFuncD%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ExternFuncD%%%%` ()
        21. because application of rule Decl_ok/externfuncd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation FuncDef_wf failed (../../../../spec/4g-typing-decl.watsup:492.6-492.16)
            1. because cannot downcast `PolyFD%->%` to monofuncdef ()
            2. because application of rule FuncDef_wf/polyfd failed (../../../../spec/4g-typing-decl.watsup:492.6-492.16)
              - because invocation of relation FuncType_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternFuncT%%` ()
                6. because application of rule FuncType_wf/externfunctiont failed (../../../../spec/2c6-runtime-type-wellformed.watsup:527.6-527.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:459.9-462.29)
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ExternFuncD%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ExternFuncD%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternFuncD%%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ExternFuncD%%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ExternFuncD%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ExternFuncD%%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ExternFuncD%%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ExternFuncD%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/string-e1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/string-e1.p4
interp error: tracing backtrack logs:
- because application of rule Prog_ok/ failed ()
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `StructD%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `StructD%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `StructD%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `StructD%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `StructD%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `StructD%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `StructD%%%` ()
        8. because application of rule Decl_ok/structd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:231.6-231.16)
            1. because cannot downcast `PolyD%->%` to monotypdef ()
            2. because application of rule TypeDef_wf/polyd failed (../../../../spec/4g-typing-decl.watsup:231.6-231.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                1. because cannot downcast `StructT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `StructT%%` to abstyp ()
                3. because cannot downcast `StructT%%` to abstyp ()
                4. because cannot downcast `StructT%%` to aliastyp ()
                5. because mismatch in case expression: `NewT%%`_datatyp(_id, typ) expected but got `StructT%%` ()
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `StructT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `StructT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `StructT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `StructT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `StructT%%` ()
                11. because application of rule Type_wf/structt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition $nestable_structt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:162.9-162.31)
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StructT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `StructT%%` ()
                14. because cannot downcast `StructT%%` to objtyp ()
                15. because cannot downcast `StructT%%` to objtyp ()
                16. because cannot downcast `StructT%%` to objtyp ()
                17. because cannot downcast `StructT%%` to objtyp ()
                18. because cannot downcast `StructT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `StructT%%` to synthtyp ()
                21. because cannot downcast `StructT%%` to synthtyp ()
                22. because cannot downcast `StructT%%` to synthtyp ()
                23. because cannot downcast `StructT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `StructT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `StructT%%` to synthtyp ()
                28. because cannot downcast `StructT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:374.6-374.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `StructD%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `StructD%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `StructD%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `StructD%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `StructD%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `StructD%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `StructD%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `StructD%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `StructD%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `StructD%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `StructD%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `StructD%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `StructD%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `StructD%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `StructD%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `StructD%%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `StructD%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `StructD%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/string-e2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/string-e2.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallFuncS%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallFuncS%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallFuncS%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallFuncS%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallFuncS%%%` ()
        10. because application of rule Stmt_ok/callfuncs failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Call_ok failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
            1. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            2. because application of rule Call_ok/extern-funct-no-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because condition (tid* = []) was not met (../../../../spec/4h-typing-call.watsup:456.7-456.10)
            3. because application of rule Call_ok/extern-funct-targsinfer failed (../../../../spec/4f-typing-stmt.watsup:219.6-219.13)
              - because invocation of relation FuncType_wf failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                1. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                2. because mismatch in case expression: `ActionT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                3. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                4. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
                5. because mismatch in case expression: `TableApplyMethodT%`_functyp(((typ) `TableStructT%%`_synthtyp(_id, _(member, typ)*))) expected but got `ExternFuncT%%` ()
                6. because application of rule FuncType_wf/externfunctiont failed (../../../../spec/4h-typing-call.watsup:486.6-486.17)
                  - because condition (((~ $is_deft(typ') /\ ~ $is_spect(typ')) /\ ~ ($is_obj(typ') /\ ~ $is_externt(typ'))) /\ (~ ($is_strt(typ') \/ $is_intt(typ')) \/ (dir = `NO`_dir()))) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:459.9-462.29)
                7. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
                9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            4. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            5. because mismatch in case expression: `FuncT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            6. because mismatch in case expression: `BuiltinMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            7. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            8. because mismatch in case expression: `ExternMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            9. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            10. because mismatch in case expression: `ExternAbstractMethodT%%`_functyp(pt*{pt <- pt*}, typ_r) expected but got `ExternFuncT%%` ()
            11. because mismatch in case expression: `ParserApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            12. because mismatch in case expression: `ControlApplyMethodT%`_functyp(pt*{pt <- pt*}) expected but got `ExternFuncT%%` ()
            13. because mismatch in case expression: `TableApplyMethodT%`_functyp(typ_r) expected but got `ExternFuncT%%` ()
        11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallFuncS%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallFuncS%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallFuncS%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/struct_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/struct_e.p4
interp error: tracing backtrack logs:
1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
      - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
        1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
        2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:284.6-284.14)
          - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
            1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `EmptyS`_stmt()) was not met ()
            2. because application of rule Stmt_ok/assigns failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `ExprAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `ExprAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `ExprAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `ExprAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `ExprAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `ExprAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `ExprAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `ExprAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `ExprAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `ExprAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `ExprAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `ExprAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `ExprAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `ExprAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `ExprAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `ExprAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `ExprAccE%%` ()
                38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `ExprAccE%%` ()
                40. because application of rule Expr_ok/expracce-stackt-size failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "size") was not met (../../../../spec/4e-typing-expr.watsup:736.26-736.32)
                41. because application of rule Expr_ok/expracce-stackt-lastindex failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "lastIndex") was not met (../../../../spec/4e-typing-expr.watsup:742.26-742.37)
                42. because application of rule Expr_ok/expracce-stackt-last failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "last") was not met (../../../../spec/4e-typing-expr.watsup:750.26-750.32)
                43. because application of rule Expr_ok/expracce-stackt-next failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because condition (text = "next") was not met (../../../../spec/4e-typing-expr.watsup:758.26-758.32)
                44. because application of rule Expr_ok/expracce-structt failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because cannot assign a none value into ?(typ) (../../../../spec/4e-typing-expr.watsup:769.9-769.12)
                45. because application of rule Expr_ok/expracce-headert failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `HeaderT%%`_datatyp(id_h, (member_h, typ_h)*{member_h <- member_h*, typ_h <- typ_h*}) expected but got `StructT%%` ()
                46. because application of rule Expr_ok/expracce-uniont failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because mismatch in case expression: `UnionT%%`_datatyp(id_u, (member_u, typ_u)*{member_u <- member_u*, typ_u <- typ_u*}) expected but got `StructT%%` ()
                47. because application of rule Expr_ok/expracce-tablestructt failed (../../../../spec/4f-typing-stmt.watsup:32.6-32.13)
                  - because cannot downcast `StructT%%` to synthtyp ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `ExprAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `ExprAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `ExprAccE%%` ()
            3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `AssignS%%` ()
            5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `AssignS%%` ()
            6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `AssignS%%` ()
            7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `ExitS`_stmt()) was not met ()
            8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
              - because condition (stmt = `RetS%`_stmt(?())) was not met ()
            9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `AssignS%%` ()
            10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `AssignS%%` ()
            13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `AssignS%%` ()
            14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `AssignS%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/structure-valued-expr-errs-1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/structure-valued-expr-errs-1.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL_r, typ_l) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because cannot downcast `SeqT%` to abstyp ()
      3. because cannot downcast `SeqT%` to abstyp ()
      4. because cannot downcast `SeqT%` to abstyp ()
      5. because cannot downcast `SeqT%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SeqT%` to datatyp ()
      8. because cannot downcast `SeqT%` to datatyp ()
      9. because cannot downcast `SeqT%` to datatyp ()
      10. because cannot downcast `SeqT%` to datatyp ()
      11. because cannot downcast `SeqT%` to datatyp ()
      12. because cannot downcast `SeqT%` to datatyp ()
      13. because cannot downcast `SeqT%` to datatyp ()
      14. because cannot downcast `SeqT%` to datatyp ()
      15. because cannot downcast `SeqT%` to datatyp ()
      16. because cannot downcast `SeqT%` to objtyp ()
      17. because cannot downcast `SeqT%` to objtyp ()
      18. because cannot downcast `SeqT%` to objtyp ()
      19. because cannot downcast `SeqT%` to objtyp ()
      20. because cannot downcast `SeqT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
      24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
      25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
      30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `SeqT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `SeqT%` to abstyp ()
              3. because cannot downcast `SeqT%` to abstyp ()
              4. because cannot downcast `SeqT%` to abstyp ()
              5. because cannot downcast `SeqT%` to aliastyp ()
              6. because cannot downcast `HeaderT%%` to aliastyp ()
              7. because cannot downcast `SeqT%` to datatyp ()
              8. because cannot downcast `SeqT%` to datatyp ()
              9. because cannot downcast `SeqT%` to datatyp ()
              10. because cannot downcast `SeqT%` to datatyp ()
              11. because cannot downcast `SeqT%` to datatyp ()
              12. because cannot downcast `SeqT%` to datatyp ()
              13. because cannot downcast `SeqT%` to datatyp ()
              14. because cannot downcast `SeqT%` to datatyp ()
              15. because cannot downcast `SeqT%` to datatyp ()
              16. because cannot downcast `SeqT%` to objtyp ()
              17. because cannot downcast `SeqT%` to objtyp ()
              18. because cannot downcast `SeqT%` to objtyp ()
              19. because cannot downcast `SeqT%` to objtyp ()
              20. because cannot downcast `SeqT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `HeaderT%%` to synthtyp ()
              23. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
              24. because mismatch in case expression: `RecordT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
              25. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because mismatch in case expression: `SetT%`_synthtyp(typ_a) expected but got `SeqT%` ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because mismatch in case expression: `TableEnumT%%`_synthtyp(id, member*{member <- member*}) expected but got `SeqT%` ()
              30. because mismatch in case expression: `TableStructT%%`_synthtyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `SeqT%` ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `HeaderT%%` to numtyp ()
          3. because cannot downcast `HeaderT%%` to numtyp ()
          4. because cannot downcast `SeqT%` to datatyp ()
          5. because mismatch in case expression: `ListT%`_datatyp(typ_b) expected but got `HeaderT%%` ()
          6. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `HeaderT%%` ()
          7. because mismatch in case expression: `StackT%%`_datatyp(typ_b, i_size) expected but got `HeaderT%%` ()
          8. because mismatch in case expression: `StructT%%`_datatyp(_id, (_member, typ_b)*{_member <- _member*, typ_b <- typ_b*}) expected but got `HeaderT%%` ()
          9. because application of rule Sub_impl_canon/seqt-headert failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because cannot transpose a matrix of value batches ()
          10. because cannot downcast `HeaderT%%` to synthtyp ()
          11. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          12. because mismatch in case expression: `RecordT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          15. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          16. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          17. because mismatch in case expression: `SeqDefaultT%`_synthtyp(typ_a*{typ_a <- typ_a*}) expected but got `SeqT%` ()
          18. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          19. because mismatch in case expression: `RecordDefaultT%`_synthtyp((member_a, typ_a)*{member_a <- member_a*, typ_a <- typ_a*}) expected but got `SeqT%` ()
          20. because application of rule Sub_impl_canon/invalidt-headert failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `HeaderT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/structure-valued-expr-errs-2.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/structured-annotation-e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-decl-order.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-decl-order.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
    1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
    2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `TableD%%` ()
    3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `TableD%%` ()
    4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `TableD%%` ()
    5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `TableD%%` ()
    6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
    7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `TableD%%` ()
    8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
    9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
    10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `TableD%%` ()
    11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `TableD%%` ()
    12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `TableD%%` ()
    13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
    14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `TableD%%` ()
    17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `TableD%%` ()
    19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `TableD%%` ()
    20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `TableD%%` ()
    21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
    22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `TableD%%` ()
    23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `TableD%%` ()
    24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
    25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `TableD%%` ()
    26. because application of rule Decl_ok/tabled failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
      - because invocation of relation Table_props_ok failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
        1. because application of rule Table_props_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
          - because condition (tblprop* = []) was not met (../../../../spec/4g-typing-decl.watsup:1233.17-1233.20)
        2. because application of rule Table_props_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1274.6-1274.20)
          - because invocation of relation Table_prop_ok failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
            1. because mismatch in case expression: `KeyP%`_tblprop(tblkeyprop) expected but got `EntryP%` ()
            2. because mismatch in case expression: `ActionP%`_tblprop(tblactionprop) expected but got `EntryP%` ()
            3. because application of rule Table_prop_ok/entryp failed (../../../../spec/4g-typing-decl.watsup:1237.6-1237.19)
              - because invocation of relation Table_entries_ok failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
                - because application of rule Table_entries_ok/ failed (../../../../spec/4g-typing-decl.watsup:1217.6-1217.22)
                  - because condition ((|tblctx_0.KEYS| = 0) => (|tblentry*{tblentry <- tblentry*}| = 0)) was not met (../../../../spec/4g-typing-decl.watsup:1137.9-1137.51)
            4. because mismatch in case expression: `DefaultP%`_tblprop(tbldefaultprop) expected but got `EntryP%` ()
            5. because mismatch in case expression: `CustomP%`_tblprop(tblcustomprop) expected but got `EntryP%` ()
    27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `TableD%%` ()
    28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `TableD%%` ()
    29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `TableD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-exact-ternary.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-exact-ternary.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
    1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
    2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
        1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
        2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
            - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
              - because invocation of relation Table_entry_keysets_ok failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                1. because application of rule Table_entry_keysets_ok/noprilpm-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:954.17-954.25)
                2. because application of rule Table_entry_keysets_ok/else-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:958.17-958.25)
                3. because application of rule Table_entry_keysets_ok/noprilpm-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:962.17-962.21)
                4. because application of rule Table_entry_keysets_ok/else-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:966.17-966.21)
                5. because application of rule Table_entry_keysets_ok/others failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (|tblctx.KEYS| = |keyset*{keyset <- keyset*}|) was not met (../../../../spec/4g-typing-decl.watsup:971.9-971.34)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-exact.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-exact.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
    1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
    2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
        1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
        2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
            - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
              - because invocation of relation Table_entry_keysets_ok failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                1. because application of rule Table_entry_keysets_ok/noprilpm-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:954.17-954.25)
                2. because application of rule Table_entry_keysets_ok/else-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:958.17-958.25)
                3. because application of rule Table_entry_keysets_ok/noprilpm-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:962.17-962.21)
                4. because application of rule Table_entry_keysets_ok/else-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:966.17-966.21)
                5. because application of rule Table_entry_keysets_ok/others failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (|tblctx.KEYS| = |keyset*{keyset <- keyset*}|) was not met (../../../../spec/4g-typing-decl.watsup:971.9-971.34)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-lpm-2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-lpm-2.p4
interp error: tracing backtrack logs:
- because invocation of function $get_lpm_prefix'(val', (n_prefix + 1)) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
  1. because application of clause get_lpm_prefix'(`FBitV%%`_val(nat, _bitstr), n_prefix) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
    - because condition (nat = 0) was not met (../../../../spec/4a2-typing-tblctx.watsup:91.28-91.29)
  2. because application of clause get_lpm_prefix'(`FBitV%%`_val(w, ((bitstr) n)), n_prefix) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
    - because condition ((n \ 2) =/= 0) was not met (../../../../spec/4a2-typing-tblctx.watsup:95.9-95.23)
  3. because application of clause get_lpm_prefix'(`FBitV%%`_val(w, ((bitstr) n)), nat) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
    - because condition (nat = 0) was not met (../../../../spec/4a2-typing-tblctx.watsup:97.33-97.34)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-lpm.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-lpm.p4
interp error: tracing backtrack logs:
- because invocation of function $get_lpm_prefix'(val', (n_prefix + 1)) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
  1. because application of clause get_lpm_prefix'(`FBitV%%`_val(nat, _bitstr), n_prefix) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
    - because condition (nat = 0) was not met (../../../../spec/4a2-typing-tblctx.watsup:91.28-91.29)
  2. because application of clause get_lpm_prefix'(`FBitV%%`_val(w, ((bitstr) n)), n_prefix) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
    - because condition ((n \ 2) =/= 0) was not met (../../../../spec/4a2-typing-tblctx.watsup:95.9-95.23)
  3. because application of clause get_lpm_prefix'(`FBitV%%`_val(w, ((bitstr) n)), nat) failed (../../../../spec/4a2-typing-tblctx.watsup:93.6-93.22)
    - because condition (nat = 0) was not met (../../../../spec/4a2-typing-tblctx.watsup:97.33-97.34)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-optional-2-bmv2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-optional-2-bmv2.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1142.6-1142.27)
  - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
    - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
      - because invocation of relation Table_entry_keysets_ok failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
        1. because application of rule Table_entry_keysets_ok/noprilpm-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:954.17-954.25)
        2. because application of rule Table_entry_keysets_ok/else-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:958.17-958.25)
        3. because application of rule Table_entry_keysets_ok/noprilpm-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:962.17-962.21)
        4. because application of rule Table_entry_keysets_ok/else-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:966.17-966.21)
        5. because application of rule Table_entry_keysets_ok/others failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because invocation of relation Table_entry_keysets_state_ok failed (../../../../spec/4g-typing-decl.watsup:972.6-972.34)
            1. because application of rule Table_entry_keysets_state_ok/nil failed (../../../../spec/4g-typing-decl.watsup:972.6-972.34)
              - because condition (key* = []) was not met (../../../../spec/4g-typing-decl.watsup:940.26-940.29)
            2. because application of rule Table_entry_keysets_state_ok/cons failed (../../../../spec/4g-typing-decl.watsup:972.6-972.34)
              - because invocation of relation Table_entry_keyset_ok failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                1. because application of rule Table_entry_keyset_ok/exprk-lpm-maske failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "lpm") was not met (../../../../spec/4g-typing-decl.watsup:846.25-846.30)
                2. because application of rule Table_entry_keyset_ok/exprk-lpm-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "lpm") was not met (../../../../spec/4g-typing-decl.watsup:860.25-860.30)
                3. because application of rule Table_entry_keyset_ok/exprk-ternary-maske failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "ternary") was not met (../../../../spec/4g-typing-decl.watsup:873.25-873.34)
                4. because application of rule Table_entry_keyset_ok/exprk-ternary-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "ternary") was not met (../../../../spec/4g-typing-decl.watsup:879.25-879.34)
                5. because mismatch in case expression: `RangeE%%`_expr(expr_l, expr_r) expected but got `MaskE%%` ()
                6. because application of rule Table_entry_keyset_ok/exprk-range-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "range") was not met (../../../../spec/4g-typing-decl.watsup:896.25-896.32)
                7. because application of rule Table_entry_keyset_ok/exprk-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition ~ ($is_maske(expr) \/ $is_rangee(expr)) was not met (../../../../spec/4g-typing-decl.watsup:909.9-909.47)
                8. because application of rule Table_entry_keyset_ok/defaultk-lpm failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `DefaultK`_keyset()) was not met ()
                9. because application of rule Table_entry_keyset_ok/defaultk-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `DefaultK`_keyset()) was not met ()
                10. because application of rule Table_entry_keyset_ok/anyk-lpm failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `AnyK`_keyset()) was not met ()
                11. because application of rule Table_entry_keyset_ok/defaultk-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `AnyK`_keyset()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-outside-table.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-range.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-range.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
    1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
    2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
      - because invocation of relation Table_entries_fold_ok failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
        1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
        2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
          - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
            - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
              - because invocation of relation Table_entry_keysets_ok failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                1. because application of rule Table_entry_keysets_ok/noprilpm-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:954.17-954.25)
                2. because application of rule Table_entry_keysets_ok/else-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:958.17-958.25)
                3. because application of rule Table_entry_keysets_ok/noprilpm-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:962.17-962.21)
                4. because application of rule Table_entry_keysets_ok/else-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:966.17-966.21)
                5. because application of rule Table_entry_keysets_ok/others failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
                  - because condition (|tblctx.KEYS| = |keyset*{keyset <- keyset*}|) was not met (../../../../spec/4g-typing-decl.watsup:971.9-971.34)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/table-entries-ternary.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/table-entries-ternary.p4
interp error: tracing backtrack logs:
1. because application of rule Table_entries_fold_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because condition (tblentry* = []) was not met (../../../../spec/4g-typing-decl.watsup:1123.17-1123.20)
2. because application of rule Table_entries_fold_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1128.6-1128.27)
  - because invocation of relation Table_entry_ok failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
    - because application of rule Table_entry_ok/ failed (../../../../spec/4g-typing-decl.watsup:1127.6-1127.20)
      - because invocation of relation Table_entry_keysets_ok failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
        1. because application of rule Table_entry_keysets_ok/noprilpm-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:954.17-954.25)
        2. because application of rule Table_entry_keysets_ok/else-defaultk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`DefaultK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:958.17-958.25)
        3. because application of rule Table_entry_keysets_ok/noprilpm-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:962.17-962.21)
        4. because application of rule Table_entry_keysets_ok/else-anyk failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because condition (keyset* = [`AnyK`_keyset()]) was not met (../../../../spec/4g-typing-decl.watsup:966.17-966.21)
        5. because application of rule Table_entry_keysets_ok/others failed (../../../../spec/4g-typing-decl.watsup:1111.6-1111.28)
          - because invocation of relation Table_entry_keysets_state_ok failed (../../../../spec/4g-typing-decl.watsup:972.6-972.34)
            1. because application of rule Table_entry_keysets_state_ok/nil failed (../../../../spec/4g-typing-decl.watsup:972.6-972.34)
              - because condition (key* = []) was not met (../../../../spec/4g-typing-decl.watsup:940.26-940.29)
            2. because application of rule Table_entry_keysets_state_ok/cons failed (../../../../spec/4g-typing-decl.watsup:972.6-972.34)
              - because invocation of relation Table_entry_keyset_ok failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                1. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `RangeE%%` ()
                2. because application of rule Table_entry_keyset_ok/exprk-lpm-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "lpm") was not met (../../../../spec/4g-typing-decl.watsup:860.25-860.30)
                3. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `RangeE%%` ()
                4. because application of rule Table_entry_keyset_ok/exprk-ternary-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition ~ ($is_maske(expr) \/ $is_rangee(expr)) was not met (../../../../spec/4g-typing-decl.watsup:880.9-880.47)
                5. because application of rule Table_entry_keyset_ok/exprk-range-rangee failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "range") was not met (../../../../spec/4g-typing-decl.watsup:890.25-890.32)
                6. because application of rule Table_entry_keyset_ok/exprk-range-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (text = "range") was not met (../../../../spec/4g-typing-decl.watsup:896.25-896.32)
                7. because application of rule Table_entry_keyset_ok/exprk-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (((matchkind =/= "lpm") /\ (matchkind =/= "ternary")) /\ (matchkind =/= "range")) was not met (../../../../spec/4g-typing-decl.watsup:908.9-908.80)
                8. because application of rule Table_entry_keyset_ok/defaultk-lpm failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `DefaultK`_keyset()) was not met ()
                9. because application of rule Table_entry_keyset_ok/defaultk-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `DefaultK`_keyset()) was not met ()
                10. because application of rule Table_entry_keyset_ok/anyk-lpm failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `AnyK`_keyset()) was not met ()
                11. because application of rule Table_entry_keyset_ok/defaultk-else failed (../../../../spec/4g-typing-decl.watsup:944.6-944.27)
                  - because condition (keyset = `AnyK`_keyset()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/template_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/template_e.p4
interp error: tracing backtrack logs:
- because invocation of function $add_typdef(p, C, tid_h, td_h) failed (../../../../spec/4a1-typing-context.watsup:209.17-209.28)
  1. because application of clause add_typdef(cursor, C, tid, td) failed (../../../../spec/4a1-typing-context.watsup:209.17-209.28)
    - because condition (cursor = `GLOBAL`_cursor()) was not met ()
  2. because application of clause add_typdef(cursor, C, tid, td) failed (../../../../spec/4a1-typing-context.watsup:209.17-209.28)
    - because condition ~ $in_set<tid>(tid, $dom_map<tid, typdef>(C.BLOCK.TDENV)) was not met (../../../../spec/4a1-typing-context.watsup:198.9-198.65)
  3. because application of clause add_typdef(cursor, C, tid, td) failed (../../../../spec/4a1-typing-context.watsup:209.17-209.28)
    - because condition (cursor = `LOCAL`_cursor()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/tuple-left.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/tuple-newtype.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/tuple-newtype.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `NewTypeD%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `NewTypeD%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `NewTypeD%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `NewTypeD%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `NewTypeD%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `NewTypeD%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `NewTypeD%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `NewTypeD%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `NewTypeD%%` ()
        13. because application of rule Decl_ok/newtyped-type failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:355.6-355.16)
            1. because application of rule TypeDef_wf/monod failed (../../../../spec/4g-typing-decl.watsup:355.6-355.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `NewT%%` to abstyp ()
                3. because cannot downcast `NewT%%` to abstyp ()
                4. because cannot downcast `NewT%%` to aliastyp ()
                5. because application of rule Type_wf/newt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition $nestable_newt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:66.9-66.28)
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `NewT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `NewT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `NewT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `NewT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `NewT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                14. because cannot downcast `NewT%%` to objtyp ()
                15. because cannot downcast `NewT%%` to objtyp ()
                16. because cannot downcast `NewT%%` to objtyp ()
                17. because cannot downcast `NewT%%` to objtyp ()
                18. because cannot downcast `NewT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `NewT%%` to synthtyp ()
                21. because cannot downcast `NewT%%` to synthtyp ()
                22. because cannot downcast `NewT%%` to synthtyp ()
                23. because cannot downcast `NewT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `NewT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `NewT%%` to synthtyp ()
                28. because cannot downcast `NewT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `MonoD%` to polytypdef ()
        14. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        15. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `NewTypeD%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `NewTypeD%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `NewTypeD%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `NewTypeD%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `NewTypeD%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `NewTypeD%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `NewTypeD%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `NewTypeD%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `NewTypeD%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `NewTypeD%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `NewTypeD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/tuple-to-header.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/tuple-to-header.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL_r, typ_l) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because cannot downcast `SpecT%%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
      2. because mismatch in case expression: `VarT%`_abstyp(id) expected but got `SpecT%%` ()
      3. because application of rule Type_alpha/spect-nominal failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
          1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `TupleT%` to abstyp ()
          3. because cannot downcast `TupleT%` to abstyp ()
          4. because cannot downcast `TupleT%` to abstyp ()
          5. because cannot downcast `TupleT%` to aliastyp ()
          6. because cannot downcast `HeaderT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `HeaderT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          16. because cannot downcast `TupleT%` to objtyp ()
          17. because cannot downcast `TupleT%` to objtyp ()
          18. because cannot downcast `TupleT%` to objtyp ()
          19. because cannot downcast `TupleT%` to objtyp ()
          20. because cannot downcast `TupleT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `TupleT%` to synthtyp ()
          23. because cannot downcast `TupleT%` to synthtyp ()
          24. because cannot downcast `TupleT%` to synthtyp ()
          25. because cannot downcast `TupleT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `TupleT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `TupleT%` to synthtyp ()
          30. because cannot downcast `TupleT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:33.6-33.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      4. because application of rule Type_alpha/spect-structural failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because invocation of relation Type_alpha failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
          1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
          2. because cannot downcast `TupleT%` to abstyp ()
          3. because cannot downcast `TupleT%` to abstyp ()
          4. because cannot downcast `TupleT%` to abstyp ()
          5. because cannot downcast `TupleT%` to aliastyp ()
          6. because cannot downcast `HeaderT%%` to aliastyp ()
          7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
          8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
          9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
          10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
          11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `HeaderT%%` ()
          12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
          13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
          16. because cannot downcast `TupleT%` to objtyp ()
          17. because cannot downcast `TupleT%` to objtyp ()
          18. because cannot downcast `TupleT%` to objtyp ()
          19. because cannot downcast `TupleT%` to objtyp ()
          20. because cannot downcast `TupleT%` to objtyp ()
          21. because application of rule Type_alpha/defaultt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
          22. because cannot downcast `TupleT%` to synthtyp ()
          23. because cannot downcast `TupleT%` to synthtyp ()
          24. because cannot downcast `TupleT%` to synthtyp ()
          25. because cannot downcast `TupleT%` to synthtyp ()
          26. because application of rule Type_alpha/invalidt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          27. because cannot downcast `TupleT%` to synthtyp ()
          28. because application of rule Type_alpha/statet failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
          29. because cannot downcast `TupleT%` to synthtyp ()
          30. because cannot downcast `TupleT%` to synthtyp ()
          31. because application of rule Type_alpha/anyt failed (../../../../spec/2c5-runtime-type-alpha.watsup:44.6-44.16)
            - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
      5. because cannot downcast `SpecT%%` to aliastyp ()
      6. because cannot downcast `SpecT%%` to aliastyp ()
      7. because cannot downcast `SpecT%%` to datatyp ()
      8. because cannot downcast `SpecT%%` to datatyp ()
      9. because cannot downcast `SpecT%%` to datatyp ()
      10. because cannot downcast `SpecT%%` to datatyp ()
      11. because cannot downcast `SpecT%%` to datatyp ()
      12. because cannot downcast `SpecT%%` to datatyp ()
      13. because cannot downcast `SpecT%%` to datatyp ()
      14. because cannot downcast `SpecT%%` to datatyp ()
      15. because cannot downcast `SpecT%%` to datatyp ()
      16. because cannot downcast `SpecT%%` to objtyp ()
      17. because cannot downcast `SpecT%%` to objtyp ()
      18. because cannot downcast `SpecT%%` to objtyp ()
      19. because cannot downcast `SpecT%%` to objtyp ()
      20. because cannot downcast `SpecT%%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `SpecT%%` to synthtyp ()
      23. because cannot downcast `SpecT%%` to synthtyp ()
      24. because cannot downcast `SpecT%%` to synthtyp ()
      25. because cannot downcast `SpecT%%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `SpecT%%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `SpecT%%` to synthtyp ()
      30. because cannot downcast `SpecT%%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:39.22-39.36)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because cannot downcast `TupleT%` to basetyp (../../../../spec/2c5-runtime-type-alpha.watsup:22.3-22.10)
              2. because cannot downcast `TupleT%` to abstyp ()
              3. because cannot downcast `TupleT%` to abstyp ()
              4. because cannot downcast `TupleT%` to abstyp ()
              5. because cannot downcast `TupleT%` to aliastyp ()
              6. because cannot downcast `HeaderT%%` to aliastyp ()
              7. because mismatch in case expression: `NewT%%`_datatyp(id, typ_a) expected but got `TupleT%` ()
              8. because mismatch in case expression: `EnumT%%`_datatyp(id, member*{member <- member*}) expected but got `TupleT%` ()
              9. because mismatch in case expression: `SEnumT%%%`_datatyp(id, typ_a, (member, val_a)*{member <- member*, val_a <- val_a*}) expected but got `TupleT%` ()
              10. because mismatch in case expression: `ListT%`_datatyp(typ_a) expected but got `TupleT%` ()
              11. because mismatch in case expression: `TupleT%`_datatyp(typ_b*{typ_b <- typ_b*}) expected but got `HeaderT%%` ()
              12. because mismatch in case expression: `StackT%%`_datatyp(typ_a, i_size) expected but got `TupleT%` ()
              13. because mismatch in case expression: `StructT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              14. because mismatch in case expression: `HeaderT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              15. because mismatch in case expression: `UnionT%%`_datatyp(id, (member, typ_a)*{member <- member*, typ_a <- typ_a*}) expected but got `TupleT%` ()
              16. because cannot downcast `TupleT%` to objtyp ()
              17. because cannot downcast `TupleT%` to objtyp ()
              18. because cannot downcast `TupleT%` to objtyp ()
              19. because cannot downcast `TupleT%` to objtyp ()
              20. because cannot downcast `TupleT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `TupleT%` to synthtyp ()
              23. because cannot downcast `TupleT%` to synthtyp ()
              24. because cannot downcast `TupleT%` to synthtyp ()
              25. because cannot downcast `TupleT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `TupleT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `TupleT%` to synthtyp ()
              30. because cannot downcast `TupleT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `HeaderT%%` to numtyp ()
          3. because cannot downcast `HeaderT%%` to numtyp ()
          4. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ_a, _(member, val)*) expected but got `TupleT%` ()
          5. because cannot downcast `TupleT%` to synthtyp ()
          6. because cannot downcast `TupleT%` to synthtyp ()
          7. because cannot downcast `TupleT%` to synthtyp ()
          8. because cannot downcast `TupleT%` to synthtyp ()
          9. because cannot downcast `TupleT%` to synthtyp ()
          10. because cannot downcast `TupleT%` to synthtyp ()
          11. because cannot downcast `TupleT%` to synthtyp ()
          12. because cannot downcast `TupleT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `TupleT%` to synthtyp ()
          15. because cannot downcast `TupleT%` to synthtyp ()
          16. because cannot downcast `TupleT%` to synthtyp ()
          17. because cannot downcast `TupleT%` to synthtyp ()
          18. because cannot downcast `TupleT%` to synthtyp ()
          19. because cannot downcast `TupleT%` to synthtyp ()
          20. because application of rule Sub_impl_canon/invalidt-headert failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
          21. because mismatch in case expression: `UnionT%%`_datatyp(_id, _(member, typ)*) expected but got `HeaderT%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/type-field.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/type-field.p4
interp error: tracing backtrack logs:
1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
    1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
    2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
      - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
        1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `EmptyS`_stmt()) was not met ()
        2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `CallMethodS%%%%` ()
        3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `CallMethodS%%%%` ()
        5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `CallMethodS%%%%` ()
        6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `CallMethodS%%%%` ()
        7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `ExitS`_stmt()) was not met ()
        8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because condition (stmt = `RetS%`_stmt(?())) was not met ()
        9. because mismatch in case expression: `RetS%`_stmt(?(expr)) expected but got `CallMethodS%%%%` ()
        10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        11. because application of rule Stmt_ok/callmethods failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
          - because invocation of relation Arg_ok failed (../../../../spec/4f-typing-stmt.watsup:227.7-227.13)
            1. because application of rule Arg_ok/expra failed (../../../../spec/4f-typing-stmt.watsup:227.7-227.13)
              - because invocation of relation Expr_ok failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `TypeAccE%%` ()
                2. because mismatch in case expression: `StrE%`_expr(t) expected but got `TypeAccE%%` ()
                3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `TypeAccE%%` ()
                4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `TypeAccE%%` ()
                5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `TypeAccE%%` ()
                6. because mismatch in case expression: `NameE%`_expr(name) expected but got `TypeAccE%%` ()
                7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `TypeAccE%%` ()
                8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `TypeAccE%%` ()
                9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `TypeAccE%%` ()
                10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `TypeAccE%%` ()
                11. because application of rule Expr_ok/defaulte failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (expr = `DefaultE`_expr()) was not met ()
                12. because application of rule Expr_ok/invalide failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because condition (expr = `InvalidE`_expr()) was not met ()
                13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TypeAccE%%` ()
                14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TypeAccE%%` ()
                15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TypeAccE%%` ()
                16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `TypeAccE%%` ()
                17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `TypeAccE%%` ()
                28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `TypeAccE%%` ()
                29. because mismatch in case expression: `CastE%%`_expr(type, expr_b) expected but got `TypeAccE%%` ()
                30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `TypeAccE%%` ()
                31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `TypeAccE%%` ()
                32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `TypeAccE%%` ()
                33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `TypeAccE%%` ()
                34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `TypeAccE%%` ()
                35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `TypeAccE%%` ()
                36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `TypeAccE%%` ()
                37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `TypeAccE%%` ()
                38. because application of rule Expr_ok/typeacce-enumt failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because cannot downcast `PolyD%->%` to monotypdef ()
                39. because application of rule Expr_ok/typeacce-senumt failed (../../../../spec/4e-typing-expr.watsup:893.6-893.13)
                  - because cannot downcast `PolyD%->%` to monotypdef ()
                40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TypeAccE%%` ()
                41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TypeAccE%%` ()
                42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TypeAccE%%` ()
                43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `TypeAccE%%` ()
                44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TypeAccE%%` ()
                45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TypeAccE%%` ()
                46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TypeAccE%%` ()
                47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `TypeAccE%%` ()
                48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TypeAccE%%` ()
                49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `TypeAccE%%` ()
                50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TypeAccE%%` ()
                51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `TypeAccE%%` ()
                52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `TypeAccE%%` ()
            2. because mismatch in case expression: `NameA%%`_arg(id, ?(expr)) expected but got `ExprA%` ()
            3. because mismatch in case expression: `NameA%%`_arg(id, expr?) expected but got `ExprA%` ()
            4. because application of rule Arg_ok/anya failed (../../../../spec/4f-typing-stmt.watsup:227.7-227.13)
              - because condition (arg = `AnyA`_arg()) was not met ()
        12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CallMethodS%%%%` ()
        13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `CallMethodS%%%%` ()
        14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `CallMethodS%%%%` ()
2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:1326.6-1326.14)
  - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/type-in-expr-lex0.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/type-in-expr-lex1.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/type-in-expr.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/type-in-expr.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/type-params_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/type-params_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/typecheck1_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/typecheck1_e.p4
interp error: tracing backtrack logs:
- because invocation of function $reduce_senum_unary(exprIL, $compatible_bnot) failed (../../../../spec/4e-typing-expr.watsup:100.21-100.40)
  1. because application of clause reduce_senum_unary(exprIL, $check_unary) failed (../../../../spec/4e-typing-expr.watsup:100.21-100.40)
    - because condition $check_unary(typ) was not met (../../../../spec/4d2-typing-subtyping.watsup:303.9-303.26)
  2. because application of clause reduce_senum_unary(exprIL, $check_unary) failed (../../../../spec/4e-typing-expr.watsup:100.21-100.40)
    - because cannot downcast `BoolT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/typecheck_e.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/typecheck_e.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<tid, typdef>(C.GLOBAL.TDENV, id) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4a1-typing-context.watsup:301.44-301.53)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/typedef-and-type-definitions.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/typedef-and-type-definitions.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `NewTypeD%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `NewTypeD%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `NewTypeD%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `NewTypeD%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `NewTypeD%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `NewTypeD%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `NewTypeD%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `NewTypeD%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `NewTypeD%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `NewTypeD%%` ()
        13. because application of rule Decl_ok/newtyped-type failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation TypeDef_wf failed (../../../../spec/4g-typing-decl.watsup:355.6-355.16)
            1. because application of rule TypeDef_wf/monod failed (../../../../spec/4g-typing-decl.watsup:355.6-355.16)
              - because invocation of relation Type_wf failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                1. because cannot downcast `NewT%%` to basetyp (../../../../spec/2c6-runtime-type-wellformed.watsup:26.13-26.20)
                2. because cannot downcast `NewT%%` to abstyp ()
                3. because cannot downcast `NewT%%` to abstyp ()
                4. because cannot downcast `NewT%%` to aliastyp ()
                5. because application of rule Type_wf/newt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition $nestable_newt(typ) was not met (../../../../spec/2c6-runtime-type-wellformed.watsup:66.9-66.28)
                6. because mismatch in case expression: `EnumT%%`_datatyp(_id, member*{member <- member*}) expected but got `NewT%%` ()
                7. because mismatch in case expression: `SEnumT%%%`_datatyp(_id, typ, (member, val)*{member <- member*, val <- val*}) expected but got `NewT%%` ()
                8. because mismatch in case expression: `ListT%`_datatyp(typ) expected but got `NewT%%` ()
                9. because mismatch in case expression: `TupleT%`_datatyp(typ*{typ <- typ*}) expected but got `NewT%%` ()
                10. because mismatch in case expression: `StackT%%`_datatyp(typ, i_size) expected but got `NewT%%` ()
                11. because mismatch in case expression: `StructT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                12. because mismatch in case expression: `HeaderT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                13. because mismatch in case expression: `UnionT%%`_datatyp(_id, (member, typ)*{member <- member*, typ <- typ*}) expected but got `NewT%%` ()
                14. because cannot downcast `NewT%%` to objtyp ()
                15. because cannot downcast `NewT%%` to objtyp ()
                16. because cannot downcast `NewT%%` to objtyp ()
                17. because cannot downcast `NewT%%` to objtyp ()
                18. because cannot downcast `NewT%%` to objtyp ()
                19. because application of rule Type_wf/defaultt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                20. because cannot downcast `NewT%%` to synthtyp ()
                21. because cannot downcast `NewT%%` to synthtyp ()
                22. because cannot downcast `NewT%%` to synthtyp ()
                23. because cannot downcast `NewT%%` to synthtyp ()
                24. because application of rule Type_wf/invalidt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                25. because cannot downcast `NewT%%` to synthtyp ()
                26. because application of rule Type_wf/statet failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                27. because cannot downcast `NewT%%` to synthtyp ()
                28. because cannot downcast `NewT%%` to synthtyp ()
                29. because application of rule Type_wf/anyt failed (../../../../spec/2c6-runtime-type-wellformed.watsup:353.6-353.13)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because cannot downcast `MonoD%` to polytypdef ()
        14. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        15. because mismatch in case expression: `DeclD%`_typedef(decl) expected but got `TypeD%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `NewTypeD%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `NewTypeD%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `NewTypeD%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `NewTypeD%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `NewTypeD%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `NewTypeD%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `NewTypeD%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `NewTypeD%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `NewTypeD%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `NewTypeD%%` ()
        28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `NewTypeD%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `NewTypeD%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/underscore1_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/underscore2_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/underscore3_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/underscore_e.p4
Error on typecheck: unknown

>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/virtual1.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/virtual1.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_r) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `BoolT` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `BoolT` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `BoolT` to numtyp ()
          3. because cannot downcast `BoolT` to numtyp ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `BoolT` to datatyp ()
          21. because cannot downcast `BoolT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/virtual2.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/virtual2.p4
interp error: tracing backtrack logs:
- because invocation of function $coerce_assign(exprIL, typ_r) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
  1. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
    - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
      1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
      2. because cannot downcast `FBitT%` to abstyp ()
      3. because cannot downcast `FBitT%` to abstyp ()
      4. because cannot downcast `FBitT%` to abstyp ()
      5. because cannot downcast `FBitT%` to aliastyp ()
      6. because cannot downcast `VoidT` to aliastyp ()
      7. because cannot downcast `FBitT%` to datatyp ()
      8. because cannot downcast `FBitT%` to datatyp ()
      9. because cannot downcast `FBitT%` to datatyp ()
      10. because cannot downcast `FBitT%` to datatyp ()
      11. because cannot downcast `FBitT%` to datatyp ()
      12. because cannot downcast `FBitT%` to datatyp ()
      13. because cannot downcast `FBitT%` to datatyp ()
      14. because cannot downcast `FBitT%` to datatyp ()
      15. because cannot downcast `FBitT%` to datatyp ()
      16. because cannot downcast `FBitT%` to objtyp ()
      17. because cannot downcast `FBitT%` to objtyp ()
      18. because cannot downcast `FBitT%` to objtyp ()
      19. because cannot downcast `FBitT%` to objtyp ()
      20. because cannot downcast `FBitT%` to objtyp ()
      21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
      22. because cannot downcast `FBitT%` to synthtyp ()
      23. because cannot downcast `FBitT%` to synthtyp ()
      24. because cannot downcast `FBitT%` to synthtyp ()
      25. because cannot downcast `FBitT%` to synthtyp ()
      26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
      27. because cannot downcast `FBitT%` to synthtyp ()
      28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
      29. because cannot downcast `FBitT%` to synthtyp ()
      30. because cannot downcast `FBitT%` to synthtyp ()
      31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:366.6-366.16)
        - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
  2. because application of clause coerce_assign(exprIL, typ_t) failed (../../../../spec/4f-typing-stmt.watsup:202.20-202.34)
    - because invocation of relation Sub_impl failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
      - because application of rule Sub_impl/ failed (../../../../spec/4d2-typing-subtyping.watsup:370.6-370.14)
        - because invocation of relation Sub_impl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
          1. because application of rule Sub_impl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
              1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
              2. because cannot downcast `FBitT%` to abstyp ()
              3. because cannot downcast `FBitT%` to abstyp ()
              4. because cannot downcast `FBitT%` to abstyp ()
              5. because cannot downcast `FBitT%` to aliastyp ()
              6. because cannot downcast `VoidT` to aliastyp ()
              7. because cannot downcast `FBitT%` to datatyp ()
              8. because cannot downcast `FBitT%` to datatyp ()
              9. because cannot downcast `FBitT%` to datatyp ()
              10. because cannot downcast `FBitT%` to datatyp ()
              11. because cannot downcast `FBitT%` to datatyp ()
              12. because cannot downcast `FBitT%` to datatyp ()
              13. because cannot downcast `FBitT%` to datatyp ()
              14. because cannot downcast `FBitT%` to datatyp ()
              15. because cannot downcast `FBitT%` to datatyp ()
              16. because cannot downcast `FBitT%` to objtyp ()
              17. because cannot downcast `FBitT%` to objtyp ()
              18. because cannot downcast `FBitT%` to objtyp ()
              19. because cannot downcast `FBitT%` to objtyp ()
              20. because cannot downcast `FBitT%` to objtyp ()
              21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
              22. because cannot downcast `FBitT%` to synthtyp ()
              23. because cannot downcast `FBitT%` to synthtyp ()
              24. because cannot downcast `FBitT%` to synthtyp ()
              25. because cannot downcast `FBitT%` to synthtyp ()
              26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
              27. because cannot downcast `FBitT%` to synthtyp ()
              28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
              29. because cannot downcast `FBitT%` to synthtyp ()
              30. because cannot downcast `FBitT%` to synthtyp ()
              31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:179.6-179.16)
                - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
          2. because cannot downcast `VoidT` to numtyp ()
          3. because cannot downcast `VoidT` to numtyp ()
          4. because cannot downcast `FBitT%` to datatyp ()
          5. because cannot downcast `FBitT%` to synthtyp ()
          6. because cannot downcast `FBitT%` to synthtyp ()
          7. because cannot downcast `FBitT%` to synthtyp ()
          8. because cannot downcast `FBitT%` to synthtyp ()
          9. because cannot downcast `FBitT%` to synthtyp ()
          10. because cannot downcast `FBitT%` to synthtyp ()
          11. because cannot downcast `FBitT%` to synthtyp ()
          12. because cannot downcast `FBitT%` to synthtyp ()
          13. because application of rule Sub_impl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:175.6-175.20)
            - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
          14. because cannot downcast `FBitT%` to synthtyp ()
          15. because cannot downcast `FBitT%` to synthtyp ()
          16. because cannot downcast `FBitT%` to synthtyp ()
          17. because cannot downcast `FBitT%` to synthtyp ()
          18. because cannot downcast `FBitT%` to synthtyp ()
          19. because cannot downcast `FBitT%` to synthtyp ()
          20. because cannot downcast `VoidT` to datatyp ()
          21. because cannot downcast `VoidT` to datatyp ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/virtual3.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/virtual3.p4
interp error: tracing backtrack logs:
1. because application of rule Inst_init_decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:166.6-166.24)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:133.20-133.23)
2. because application of rule Inst_init_decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:166.6-166.24)
  - because invocation of relation Inst_init_decl_ok failed (../../../../spec/4g-typing-decl.watsup:137.6-137.23)
    1. because mismatch in case expression: `InstD%%%%%`_decl(id', name, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `FuncD%%%%%` ()
    2. because application of rule Inst_init_decl_ok/funcd failed (../../../../spec/4g-typing-decl.watsup:137.6-137.23)
      - because invocation of relation Block_ok failed (../../../../spec/4g-typing-decl.watsup:118.6-118.14)
        1. because application of rule Block_ok/init failed (../../../../spec/4g-typing-decl.watsup:118.6-118.14)
          - because invocation of relation Stmts_ok failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
            1. because application of rule Stmts_ok/nil failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because condition (stmt* = []) was not met (../../../../spec/4f-typing-stmt.watsup:279.12-279.15)
            2. because application of rule Stmts_ok/cons failed (../../../../spec/4f-typing-stmt.watsup:170.6-170.14)
              - because invocation of relation Stmt_ok failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                1. because application of rule Stmt_ok/emptys failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `EmptyS`_stmt()) was not met ()
                2. because mismatch in case expression: `AssignS%%`_stmt(expr_l, expr_r) expected but got `RetS%` ()
                3. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `RetS%` ()
                4. because mismatch in case expression: `SwitchS%%`_stmt(expr, switchcase*{switchcase <- switchcase*}) expected but got `RetS%` ()
                5. because mismatch in case expression: `IfS%%%`_stmt(expr_c, stmt_t, stmt_f) expected but got `RetS%` ()
                6. because mismatch in case expression: `BlockS%`_stmt(block) expected but got `RetS%` ()
                7. because application of rule Stmt_ok/exits failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (stmt = `ExitS`_stmt()) was not met ()
                8. because application of rule Stmt_ok/rets-none failed (../../../../spec/4f-typing-stmt.watsup:283.6-283.13)
                  - because condition (((typ) `VoidT`_primtyp()) = $get_typ_ret_lkind(C.LOCAL.KIND)) was not met (../../../../spec/4f-typing-stmt.watsup:195.9-195.49)
                9. because cannot assign a none value into ?(expr) (../../../../spec/4f-typing-stmt.watsup:198.21-198.25)
                10. because mismatch in case expression: `CallFuncS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `RetS%` ()
                11. because mismatch in case expression: `CallMethodS%%%%`_stmt(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `RetS%` ()
                12. because mismatch in case expression: `CallInstS%%%`_stmt(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `RetS%` ()
                13. because mismatch in case expression: `TransS%`_stmt(expr) expected but got `RetS%` ()
                14. because mismatch in case expression: `DeclS%`_stmt(decl) expected but got `RetS%` ()
        2. because application of rule Block_ok/noinit failed (../../../../spec/4g-typing-decl.watsup:118.6-118.14)
          - because condition (blkctxt = `NOINIT`_blkctxt()) was not met ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/virtual4.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/virtual4.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<fid, funcdef>(fdenv_ext, fid_h) failed (../../../../spec/4g-typing-decl.watsup:146.82-146.91)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4g-typing-decl.watsup:146.82-146.91)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/virtual5.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/virtual5.p4
interp error: tracing backtrack logs:
- because invocation of function $find_map<fid, funcdef>(fdenv_ext, fid_h) failed (../../../../spec/4g-typing-decl.watsup:146.82-146.91)
  - because application of clause find_map(`MAP%`_map<K, V>(`PAIR%%`_pair<K, V>(K, V)*{K <- K*, V <- V*}), K_key) failed (../../../../spec/4g-typing-decl.watsup:146.82-146.91)
    - because cannot assign a none value into ?(V_key) (../../../../spec/0-aux.watsup:137.9-137.14)


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/virtual6.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/virtual6.p4
interp error: tracing backtrack logs:
1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1384.6-1384.14)
  - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
    1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
    2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1375.6-1375.14)
      - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
        1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ControlD%%%%%` ()
        3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ControlD%%%%%` ()
        4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ControlD%%%%%` ()
        5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ControlD%%%%%` ()
        6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ControlD%%%%%` ()
        8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ControlD%%%%%` ()
        11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ControlD%%%%%` ()
        12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ControlD%%%%%` ()
        13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ControlD%%%%%` ()
        17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ControlD%%%%%` ()
        19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ControlD%%%%%` ()
        21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ControlD%%%%%` ()
        23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ControlD%%%%%` ()
        24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ControlD%%%%%` ()
        26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ControlD%%%%%` ()
        27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ControlD%%%%%` ()
        28. because application of rule Decl_ok/controld failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
          - because invocation of relation Decls_ok failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
            1. because application of rule Decls_ok/nil failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
              - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:1370.10-1370.13)
            2. because application of rule Decls_ok/cons failed (../../../../spec/4g-typing-decl.watsup:1322.6-1322.14)
              - because invocation of relation Decl_ok failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                1. because mismatch in case expression: `ConstD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
                2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `InstD%%%%%` ()
                3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `InstD%%%%%` ()
                4. because application of rule Decl_ok/instd-some failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition ~ $is_externabstractmethodt(ft) was not met (../../../../spec/4g-typing-decl.watsup:175.10-175.40)
                5. because application of rule Decl_ok/instd-none failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
                  - because condition (decl* = []) was not met (../../../../spec/4g-typing-decl.watsup:181.40-181.43)
                6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
                7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `InstD%%%%%` ()
                8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
                9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
                10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `InstD%%%%%` ()
                11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `InstD%%%%%` ()
                12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `InstD%%%%%` ()
                13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
                14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
                15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
                16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `InstD%%%%%` ()
                17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
                18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `InstD%%%%%` ()
                19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
                20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `InstD%%%%%` ()
                21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
                22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `InstD%%%%%` ()
                23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `InstD%%%%%` ()
                24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
                25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `InstD%%%%%` ()
                26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `InstD%%%%%` ()
                27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `InstD%%%%%` ()
                28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `InstD%%%%%` ()
                29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `InstD%%%%%` ()
        29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ControlD%%%%%` ()


>>> Running typing test on ../../../../p4/testdata/p4c/program/ill-typed/wrong-cast.p4
Error on typecheck: ../../../../p4/testdata/p4c/program/ill-typed/wrong-cast.p4
interp error: tracing backtrack logs:
1. because application of rule Decl_ok/constd failed (../../../../spec/4g-typing-decl.watsup:1374.6-1374.13)
  - because invocation of relation Expr_ok failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
    1. because mismatch in case expression: `BoolE%`_expr(b) expected but got `CastE%%` ()
    2. because mismatch in case expression: `StrE%`_expr(t) expected but got `CastE%%` ()
    3. because mismatch in case expression: `NumE%`_expr(`INT%`_num(i)) expected but got `CastE%%` ()
    4. because mismatch in case expression: `NumE%`_expr(`FINT%%`_num(w, i)) expected but got `CastE%%` ()
    5. because mismatch in case expression: `NumE%`_expr(`FBIT%%`_num(w, i)) expected but got `CastE%%` ()
    6. because mismatch in case expression: `NameE%`_expr(name) expected but got `CastE%%` ()
    7. because mismatch in case expression: `SeqE%`_expr(expr*{expr <- expr*}) expected but got `CastE%%` ()
    8. because mismatch in case expression: `SeqDefaultE%`_expr(expr*{expr <- expr*}) expected but got `CastE%%` ()
    9. because mismatch in case expression: `RecordE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CastE%%` ()
    10. because mismatch in case expression: `RecordDefaultE%`_expr((member, expr)*{expr <- expr*, member <- member*}) expected but got `CastE%%` ()
    11. because application of rule Expr_ok/defaulte failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
      - because condition (expr = `DefaultE`_expr()) was not met ()
    12. because application of rule Expr_ok/invalide failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
      - because condition (expr = `InvalidE`_expr()) was not met ()
    13. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    14. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    15. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    16. because mismatch in case expression: `UnE%%`_expr(unop, expr) expected but got `CastE%%` ()
    17. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    18. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    19. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    20. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    21. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    22. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    23. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    24. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    25. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    26. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    27. because mismatch in case expression: `BinE%%%`_expr(binop, expr_l, expr_r) expected but got `CastE%%` ()
    28. because mismatch in case expression: `TernE%%%`_expr(expr_c, expr_t, expr_f) expected but got `CastE%%` ()
    29. because application of rule Expr_ok/caste failed (../../../../spec/4g-typing-decl.watsup:54.6-54.13)
      - because invocation of relation Sub_expl failed (../../../../spec/4e-typing-expr.watsup:447.6-447.14)
        - because application of rule Sub_expl/ failed (../../../../spec/4e-typing-expr.watsup:447.6-447.14)
          - because invocation of relation Sub_expl_canon failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
            1. because application of rule Sub_expl_canon/eq failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because invocation of relation Type_alpha failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                1. because application of rule Type_alpha/basetyp failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (basetyp = basetyp') was not met (../../../../spec/2c5-runtime-type-alpha.watsup:22.14-22.21)
                2. because cannot downcast `FIntT%` to abstyp ()
                3. because cannot downcast `FIntT%` to abstyp ()
                4. because cannot downcast `FIntT%` to abstyp ()
                5. because cannot downcast `FIntT%` to aliastyp ()
                6. because cannot downcast `BoolT` to aliastyp ()
                7. because cannot downcast `FIntT%` to datatyp ()
                8. because cannot downcast `FIntT%` to datatyp ()
                9. because cannot downcast `FIntT%` to datatyp ()
                10. because cannot downcast `FIntT%` to datatyp ()
                11. because cannot downcast `FIntT%` to datatyp ()
                12. because cannot downcast `FIntT%` to datatyp ()
                13. because cannot downcast `FIntT%` to datatyp ()
                14. because cannot downcast `FIntT%` to datatyp ()
                15. because cannot downcast `FIntT%` to datatyp ()
                16. because cannot downcast `FIntT%` to objtyp ()
                17. because cannot downcast `FIntT%` to objtyp ()
                18. because cannot downcast `FIntT%` to objtyp ()
                19. because cannot downcast `FIntT%` to objtyp ()
                20. because cannot downcast `FIntT%` to objtyp ()
                21. because application of rule Type_alpha/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `DefaultT`_synthtyp())) was not met ()
                22. because cannot downcast `FIntT%` to synthtyp ()
                23. because cannot downcast `FIntT%` to synthtyp ()
                24. because cannot downcast `FIntT%` to synthtyp ()
                25. because cannot downcast `FIntT%` to synthtyp ()
                26. because application of rule Type_alpha/invalidt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `InvalidT`_synthtyp())) was not met ()
                27. because cannot downcast `FIntT%` to synthtyp ()
                28. because application of rule Type_alpha/statet failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `StateT`_synthtyp())) was not met ()
                29. because cannot downcast `FIntT%` to synthtyp ()
                30. because cannot downcast `FIntT%` to synthtyp ()
                31. because application of rule Type_alpha/anyt failed (../../../../spec/4d2-typing-subtyping.watsup:11.6-11.16)
                  - because condition (typ = ((typ) `AnyT`_synthtyp())) was not met ()
            2. because application of rule Sub_expl_canon/fbitt-boolt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `FBitT%`_numtyp(1))) was not met ()
            3. because application of rule Sub_expl_canon/boolt-fbitt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `BoolT`_primtyp())) was not met ()
            4. because application of rule Sub_expl_canon/intt-boolt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            5. because cannot downcast `BoolT` to numtyp ()
            6. because mismatch in case expression: `FBitT%`_numtyp(width_a) expected but got `FIntT%` ()
            7. because mismatch in case expression: `FBitT%`_numtyp(width_a) expected but got `FIntT%` ()
            8. because cannot downcast `BoolT` to numtyp ()
            9. because mismatch in case expression: `FBitT%`_numtyp(width) expected but got `FIntT%` ()
            10. because application of rule Sub_expl_canon/fintt-intt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ = ((typ) `IntT`_numtyp())) was not met ()
            11. because cannot downcast `BoolT` to numtyp ()
            12. because cannot downcast `BoolT` to numtyp ()
            13. because cannot downcast `FIntT%` to datatyp ()
            14. because cannot downcast `BoolT` to datatyp ()
            15. because cannot downcast `FIntT%` to datatyp ()
            16. because cannot downcast `BoolT` to datatyp ()
            17. because cannot downcast `FIntT%` to synthtyp ()
            18. because cannot downcast `FIntT%` to synthtyp ()
            19. because cannot downcast `FIntT%` to synthtyp ()
            20. because cannot downcast `FIntT%` to synthtyp ()
            21. because cannot downcast `FIntT%` to synthtyp ()
            22. because cannot downcast `FIntT%` to synthtyp ()
            23. because cannot downcast `FIntT%` to synthtyp ()
            24. because application of rule Sub_expl_canon/defaultt failed (../../../../spec/4d2-typing-subtyping.watsup:7.6-7.20)
              - because condition (typ' = ((typ) `DefaultT`_synthtyp())) was not met ()
            25. because cannot downcast `FIntT%` to synthtyp ()
            26. because cannot downcast `FIntT%` to synthtyp ()
            27. because cannot downcast `FIntT%` to synthtyp ()
            28. because cannot downcast `FIntT%` to synthtyp ()
            29. because cannot downcast `FIntT%` to synthtyp ()
            30. because cannot downcast `FIntT%` to synthtyp ()
            31. because cannot downcast `BoolT` to datatyp ()
            32. because cannot downcast `BoolT` to datatyp ()
            33. because cannot downcast `FIntT%` to synthtyp ()
            34. because cannot downcast `BoolT` to synthtyp ()
    30. because mismatch in case expression: `MaskE%%`_expr(expr_b, expr_m) expected but got `CastE%%` ()
    31. because mismatch in case expression: `RangeE%%`_expr(expr_lb, expr_ub) expected but got `CastE%%` ()
    32. because mismatch in case expression: `SelectE%%`_expr(expr_k*{expr_k <- expr_k*}, selectcase*{selectcase <- selectcase*}) expected but got `CastE%%` ()
    33. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CastE%%` ()
    34. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CastE%%` ()
    35. because mismatch in case expression: `ArrAccE%%`_expr(expr_b, expr_i) expected but got `CastE%%` ()
    36. because mismatch in case expression: `BitAccE%%%`_expr(expr_b, expr_l, expr_h) expected but got `CastE%%` ()
    37. because mismatch in case expression: `ErrAccE%`_expr(member) expected but got `CastE%%` ()
    38. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CastE%%` ()
    39. because mismatch in case expression: `TypeAccE%%`_expr(name, member) expected but got `CastE%%` ()
    40. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    41. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    42. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    43. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, text) expected but got `CastE%%` ()
    44. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    45. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    46. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    47. because mismatch in case expression: `ExprAccE%%`_expr(expr_b, member) expected but got `CastE%%` ()
    48. because mismatch in case expression: `CallFuncE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CastE%%` ()
    49. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*, arg*) expected but got `CastE%%` ()
    50. because mismatch in case expression: `CallMethodE%%%%`_expr(expr_b, member, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CastE%%` ()
    51. because mismatch in case expression: `CallTypeE%%%%`_expr(name, member, targ*, arg*) expected but got `CastE%%` ()
    52. because mismatch in case expression: `InstE%%%`_expr(name, targ*{targ <- targ*}, arg*{arg <- arg*}) expected but got `CastE%%` ()
2. because mismatch in case expression: `VarD%%%`_decl(id, type, expr?) expected but got `ConstD%%%` ()
3. because mismatch in case expression: `VarD%%%`_decl(id, type, ?(expr)) expected but got `ConstD%%%` ()
4. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*{decl <- decl*}) expected but got `ConstD%%%` ()
5. because mismatch in case expression: `InstD%%%%%`_decl(id, name_inst, targ*{targ <- targ*}, arg*{arg <- arg*}, decl*) expected but got `ConstD%%%` ()
6. because mismatch in case expression: `ErrD%`_decl(member*{member <- member*}) expected but got `ConstD%%%` ()
7. because mismatch in case expression: `MatchKindD%`_decl(member*{member <- member*}) expected but got `ConstD%%%` ()
8. because mismatch in case expression: `StructD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
9. because mismatch in case expression: `HeaderD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
10. because mismatch in case expression: `UnionD%%%`_decl(id, tparam*{tparam <- tparam*}, (member_f, type_f)*{member_f <- member_f*, type_f <- type_f*}) expected but got `ConstD%%%` ()
11. because mismatch in case expression: `EnumD%%`_decl(id, member*{member <- member*}) expected but got `ConstD%%%` ()
12. because mismatch in case expression: `SEnumD%%%`_decl(id, type, (member, expr)*{expr <- expr*, member <- member*}) expected but got `ConstD%%%` ()
13. because mismatch in case expression: `NewTypeD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ConstD%%%` ()
14. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
15. because mismatch in case expression: `NewTypeD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
16. because mismatch in case expression: `TypeDefD%%`_decl(id, `TypeD%`_typedef(type)) expected but got `ConstD%%%` ()
17. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
18. because mismatch in case expression: `TypeDefD%%`_decl(id, `DeclD%`_typedef(decl)) expected but got `ConstD%%%` ()
19. because mismatch in case expression: `ActionD%%%`_decl(id, param*{param <- param*}, block) expected but got `ConstD%%%` ()
20. because mismatch in case expression: `FuncD%%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}, block) expected but got `ConstD%%%` ()
21. because mismatch in case expression: `ExternFuncD%%%%`_decl(id, type_r, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
22. because mismatch in case expression: `ExternObjectD%%%`_decl(id, tparam*{tparam <- tparam*}, method*{method <- method*}) expected but got `ConstD%%%` ()
23. because mismatch in case expression: `ValueSetD%%%`_decl(id, type, expr) expected but got `ConstD%%%` ()
24. because mismatch in case expression: `ParserTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
25. because mismatch in case expression: `ParserD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, parserstate*{parserstate <- parserstate*}) expected but got `ConstD%%%` ()
26. because mismatch in case expression: `TableD%%`_decl(id, tbl) expected but got `ConstD%%%` ()
27. because mismatch in case expression: `ControlTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, param*{param <- param*}) expected but got `ConstD%%%` ()
28. because mismatch in case expression: `ControlD%%%%%`_decl(id, param*{param <- param*}, cparam*{cparam <- cparam*}, decl*{decl <- decl*}, block) expected but got `ConstD%%%` ()
29. because mismatch in case expression: `PackageTypeD%%%`_decl(id, tparam*{tparam <- tparam*}, cparam*{cparam <- cparam*}) expected but got `ConstD%%%` ()


Running typing: [PASS] 5/258 (1.94%) [FAIL] 253/258 (98.06%)
